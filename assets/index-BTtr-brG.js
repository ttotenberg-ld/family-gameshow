function k1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rm={exports:{}},Tl={},bm={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=Symbol.for("react.element"),T1=Symbol.for("react.portal"),I1=Symbol.for("react.fragment"),N1=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),R1=Symbol.for("react.provider"),b1=Symbol.for("react.context"),D1=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),L1=Symbol.for("react.memo"),A1=Symbol.for("react.lazy"),Df=Symbol.iterator;function M1(e){return e===null||typeof e!="object"?null:(e=Df&&e[Df]||e["@@iterator"],typeof e=="function"?e:null)}var Dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Om=Object.assign,Lm={};function li(e,t,n){this.props=e,this.context=t,this.refs=Lm,this.updater=n||Dm}li.prototype.isReactComponent={};li.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};li.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Am(){}Am.prototype=li.prototype;function zc(e,t,n){this.props=e,this.context=t,this.refs=Lm,this.updater=n||Dm}var $c=zc.prototype=new Am;$c.constructor=zc;Om($c,li.prototype);$c.isPureReactComponent=!0;var Of=Array.isArray,Mm=Object.prototype.hasOwnProperty,Uc={current:null},Fm={key:!0,ref:!0,__self:!0,__source:!0};function jm(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Mm.call(t,r)&&!Fm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Io,type:e,key:o,ref:s,props:i,_owner:Uc.current}}function F1(e,t){return{$$typeof:Io,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Io}function j1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lf=/\/+/g;function Sa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j1(""+e.key):t.toString(36)}function ys(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Io:case T1:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Sa(s,0):r,Of(i)?(n="",e!=null&&(n=e.replace(Lf,"$&/")+"/"),ys(i,t,n,"",function(u){return u})):i!=null&&(Bc(i)&&(i=F1(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Lf,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Of(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Sa(o,l);s+=ys(o,t,n,a,i)}else if(a=M1(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Sa(o,l++),s+=ys(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Wo(e,t,n){if(e==null)return e;var r=[],i=0;return ys(e,r,"","",function(o){return t.call(n,o,i++)}),r}function z1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},_s={transition:null},$1={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:_s,ReactCurrentOwner:Uc};function zm(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Wo,forEach:function(e,t,n){Wo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wo(e,function(){t++}),t},toArray:function(e){return Wo(e,function(t){return t})||[]},only:function(e){if(!Bc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=li;V.Fragment=I1;V.Profiler=P1;V.PureComponent=zc;V.StrictMode=N1;V.Suspense=O1;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1;V.act=zm;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Om({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Uc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Mm.call(t,a)&&!Fm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Io,type:e.type,key:i,ref:o,props:r,_owner:s}};V.createContext=function(e){return e={$$typeof:b1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R1,_context:e},e.Consumer=e};V.createElement=jm;V.createFactory=function(e){var t=jm.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:D1,render:e}};V.isValidElement=Bc;V.lazy=function(e){return{$$typeof:A1,_payload:{_status:-1,_result:e},_init:z1}};V.memo=function(e,t){return{$$typeof:L1,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=_s.transition;_s.transition={};try{e()}finally{_s.transition=t}};V.unstable_act=zm;V.useCallback=function(e,t){return Je.current.useCallback(e,t)};V.useContext=function(e){return Je.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};V.useEffect=function(e,t){return Je.current.useEffect(e,t)};V.useId=function(){return Je.current.useId()};V.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Je.current.useMemo(e,t)};V.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};V.useRef=function(e){return Je.current.useRef(e)};V.useState=function(e){return Je.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return Je.current.useTransition()};V.version="18.3.1";bm.exports=V;var b=bm.exports;const $m=Pm(b),U1=k1({__proto__:null,default:$m},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1=b,W1=Symbol.for("react.element"),H1=Symbol.for("react.fragment"),V1=Object.prototype.hasOwnProperty,G1=B1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q1={key:!0,ref:!0,__self:!0,__source:!0};function Um(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)V1.call(t,r)&&!Q1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:W1,type:e,key:o,ref:s,props:i,_owner:G1.current}}Tl.Fragment=H1;Tl.jsx=Um;Tl.jsxs=Um;Rm.exports=Tl;var _=Rm.exports,Bm={exports:{}},pt={},Wm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,z){var U=L.length;L.push(z);e:for(;0<U;){var ae=U-1>>>1,ge=L[ae];if(0<i(ge,z))L[ae]=z,L[U]=ge,U=ae;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],U=L.pop();if(U!==z){L[0]=U;e:for(var ae=0,ge=L.length,Zt=ge>>>1;ae<Zt;){var et=2*(ae+1)-1,Sr=L[et],Nt=et+1,Pt=L[Nt];if(0>i(Sr,U))Nt<ge&&0>i(Pt,Sr)?(L[ae]=Pt,L[Nt]=U,ae=Nt):(L[ae]=Sr,L[et]=U,ae=et);else if(Nt<ge&&0>i(Pt,U))L[ae]=Pt,L[Nt]=U,ae=Nt;else break e}}return z}function i(L,z){var U=L.sortIndex-z.sortIndex;return U!==0?U:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],d=1,c=null,f=3,m=!1,v=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,t(a,z);else break;z=n(u)}}function w(L){if(y=!1,g(L),!v)if(n(a)!==null)v=!0,yn(S);else{var z=n(u);z!==null&&Bt(w,z.startTime-L)}}function S(L,z){v=!1,y&&(y=!1,p(k),k=-1),m=!0;var U=f;try{for(g(z),c=n(a);c!==null&&(!(c.expirationTime>z)||L&&!M());){var ae=c.callback;if(typeof ae=="function"){c.callback=null,f=c.priorityLevel;var ge=ae(c.expirationTime<=z);z=e.unstable_now(),typeof ge=="function"?c.callback=ge:c===n(a)&&r(a),g(z)}else r(a);c=n(a)}if(c!==null)var Zt=!0;else{var et=n(u);et!==null&&Bt(w,et.startTime-z),Zt=!1}return Zt}finally{c=null,f=U,m=!1}}var x=!1,C=null,k=-1,I=5,N=-1;function M(){return!(e.unstable_now()-N<I)}function G(){if(C!==null){var L=e.unstable_now();N=L;var z=!0;try{z=C(!0,L)}finally{z?Ee():(x=!1,C=null)}}else x=!1}var Ee;if(typeof h=="function")Ee=function(){h(G)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,te=Te.port2;Te.port1.onmessage=G,Ee=function(){te.postMessage(null)}}else Ee=function(){E(G,0)};function yn(L){C=L,x||(x=!0,Ee())}function Bt(L,z){k=E(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,yn(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var U=f;f=z;try{return L()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return z()}finally{f=U}},e.unstable_scheduleCallback=function(L,z,U){var ae=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ae+U:ae):U=ae,L){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=U+ge,L={id:d++,callback:z,priorityLevel:L,startTime:U,expirationTime:ge,sortIndex:-1},U>ae?(L.sortIndex=U,t(u,L),n(a)===null&&L===n(u)&&(y?(p(k),k=-1):y=!0,Bt(w,U-ae))):(L.sortIndex=ge,t(a,L),v||m||(v=!0,yn(S))),L},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(L){var z=f;return function(){var U=f;f=z;try{return L.apply(this,arguments)}finally{f=U}}}})(Hm);Wm.exports=Hm;var K1=Wm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1=b,ht=K1;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vm=new Set,qi={};function _r(e,t){qr(e,t),qr(e+"Capture",t)}function qr(e,t){for(qi[e]=t,e=0;e<t.length;e++)Vm.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=Object.prototype.hasOwnProperty,q1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Af={},Mf={};function X1(e){return Cu.call(Mf,e)?!0:Cu.call(Af,e)?!1:q1.test(e)?Mf[e]=!0:(Af[e]=!0,!1)}function J1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z1(e,t,n,r){if(t===null||typeof t>"u"||J1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Hc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wc,Hc);ze[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wc,Hc);ze[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wc,Hc);ze[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vc(e,t,n,r){var i=ze.hasOwnProperty(t)?ze[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z1(t,n,i,r)&&(n=null),r||i===null?X1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=Y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),Gc=Symbol.for("react.strict_mode"),Su=Symbol.for("react.profiler"),Gm=Symbol.for("react.provider"),Qm=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),Km=Symbol.for("react.offscreen"),Ff=Symbol.iterator;function gi(e){return e===null||typeof e!="object"?null:(e=Ff&&e[Ff]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,xa;function Ri(e){if(xa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xa=t&&t[1]||""}return`
`+xa+e}var ka=!1;function Ta(e,t){if(!e||ka)return"";ka=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{ka=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ri(e):""}function e_(e){switch(e.tag){case 5:return Ri(e.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 2:case 15:return e=Ta(e.type,!1),e;case 11:return e=Ta(e.type.render,!1),e;case 1:return e=Ta(e.type,!0),e;default:return""}}function Tu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Nr:return"Portal";case Su:return"Profiler";case Gc:return"StrictMode";case xu:return"Suspense";case ku:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qm:return(e.displayName||"Context")+".Consumer";case Gm:return(e._context.displayName||"Context")+".Provider";case Qc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kc:return t=e.displayName||null,t!==null?t:Tu(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return Tu(e(t))}catch{}}return null}function t_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tu(t);case 8:return t===Gc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ym(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n_(e){var t=Ym(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=n_(e))}function qm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ym(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Iu(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xm(e,t){t=t.checked,t!=null&&Vc(e,"checked",t,!1)}function Nu(e,t){Xm(e,t);var n=Un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pu(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pu(e,t,n){(t!=="number"||Ls(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bi=Array.isArray;function Ur(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Un(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $f(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(bi(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Un(n)}}function Jm(e,t){var n=Un(t.value),r=Un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Uf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Go,eg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Go=Go||document.createElement("div"),Go.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r_=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(e){r_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mi[t]=Mi[e]})});function tg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mi.hasOwnProperty(e)&&Mi[e]?(""+t).trim():t+"px"}function ng(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var i_=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(e,t){if(t){if(i_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Ou(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=null;function Yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Au=null,Br=null,Wr=null;function Bf(e){if(e=Ro(e)){if(typeof Au!="function")throw Error(P(280));var t=e.stateNode;t&&(t=bl(t),Au(e.stateNode,e.type,t))}}function rg(e){Br?Wr?Wr.push(e):Wr=[e]:Br=e}function ig(){if(Br){var e=Br,t=Wr;if(Wr=Br=null,Bf(e),t)for(e=0;e<t.length;e++)Bf(t[e])}}function og(e,t){return e(t)}function sg(){}var Ia=!1;function lg(e,t,n){if(Ia)return e(t,n);Ia=!0;try{return og(e,t,n)}finally{Ia=!1,(Br!==null||Wr!==null)&&(sg(),ig())}}function Ji(e,t){var n=e.stateNode;if(n===null)return null;var r=bl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Mu=!1;if(un)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{Mu=!1}function o_(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fi=!1,As=null,Ms=!1,Fu=null,s_={onError:function(e){Fi=!0,As=e}};function l_(e,t,n,r,i,o,s,l,a){Fi=!1,As=null,o_.apply(s_,arguments)}function a_(e,t,n,r,i,o,s,l,a){if(l_.apply(this,arguments),Fi){if(Fi){var u=As;Fi=!1,As=null}else throw Error(P(198));Ms||(Ms=!0,Fu=u)}}function wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ag(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wf(e){if(wr(e)!==e)throw Error(P(188))}function u_(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Wf(i),e;if(o===r)return Wf(i),t;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function ug(e){return e=u_(e),e!==null?cg(e):null}function cg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cg(e);if(t!==null)return t;e=e.sibling}return null}var dg=ht.unstable_scheduleCallback,Hf=ht.unstable_cancelCallback,c_=ht.unstable_shouldYield,d_=ht.unstable_requestPaint,ye=ht.unstable_now,f_=ht.unstable_getCurrentPriorityLevel,qc=ht.unstable_ImmediatePriority,fg=ht.unstable_UserBlockingPriority,Fs=ht.unstable_NormalPriority,h_=ht.unstable_LowPriority,hg=ht.unstable_IdlePriority,Il=null,qt=null;function p_(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Il,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:v_,m_=Math.log,g_=Math.LN2;function v_(e){return e>>>=0,e===0?32:31-(m_(e)/g_|0)|0}var Qo=64,Ko=4194304;function Di(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function js(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Di(l):(o&=s,o!==0&&(r=Di(o)))}else s=n&~i,s!==0?r=Di(s):o!==0&&(r=Di(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ft(t),i=1<<n,r|=e[n],t&=~i;return r}function y_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function __(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ft(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=y_(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pg(){var e=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),e}function Na(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function No(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function w_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ft(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Xc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var J=0;function mg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gg,Jc,vg,yg,_g,zu=!1,Yo=[],Pn=null,Rn=null,bn=null,Zi=new Map,eo=new Map,Sn=[],E_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vf(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(t.pointerId)}}function yi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ro(t),t!==null&&Jc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function C_(e,t,n,r,i){switch(t){case"focusin":return Pn=yi(Pn,e,t,n,r,i),!0;case"dragenter":return Rn=yi(Rn,e,t,n,r,i),!0;case"mouseover":return bn=yi(bn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Zi.set(o,yi(Zi.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,eo.set(o,yi(eo.get(o)||null,e,t,n,r,i)),!0}return!1}function wg(e){var t=rr(e.target);if(t!==null){var n=wr(t);if(n!==null){if(t=n.tag,t===13){if(t=ag(n),t!==null){e.blockedOn=t,_g(e.priority,function(){vg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$u(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lu=r,n.target.dispatchEvent(r),Lu=null}else return t=Ro(n),t!==null&&Jc(t),e.blockedOn=n,!1;t.shift()}return!0}function Gf(e,t,n){ws(e)&&n.delete(t)}function S_(){zu=!1,Pn!==null&&ws(Pn)&&(Pn=null),Rn!==null&&ws(Rn)&&(Rn=null),bn!==null&&ws(bn)&&(bn=null),Zi.forEach(Gf),eo.forEach(Gf)}function _i(e,t){e.blockedOn===t&&(e.blockedOn=null,zu||(zu=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,S_)))}function to(e){function t(i){return _i(i,e)}if(0<Yo.length){_i(Yo[0],e);for(var n=1;n<Yo.length;n++){var r=Yo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&_i(Pn,e),Rn!==null&&_i(Rn,e),bn!==null&&_i(bn,e),Zi.forEach(t),eo.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)wg(n),n.blockedOn===null&&Sn.shift()}var Hr=mn.ReactCurrentBatchConfig,zs=!0;function x_(e,t,n,r){var i=J,o=Hr.transition;Hr.transition=null;try{J=1,Zc(e,t,n,r)}finally{J=i,Hr.transition=o}}function k_(e,t,n,r){var i=J,o=Hr.transition;Hr.transition=null;try{J=4,Zc(e,t,n,r)}finally{J=i,Hr.transition=o}}function Zc(e,t,n,r){if(zs){var i=$u(e,t,n,r);if(i===null)ja(e,t,r,$s,n),Vf(e,r);else if(C_(i,e,t,n,r))r.stopPropagation();else if(Vf(e,r),t&4&&-1<E_.indexOf(e)){for(;i!==null;){var o=Ro(i);if(o!==null&&gg(o),o=$u(e,t,n,r),o===null&&ja(e,t,r,$s,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ja(e,t,r,null,n)}}var $s=null;function $u(e,t,n,r){if($s=null,e=Yc(r),e=rr(e),e!==null)if(t=wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ag(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $s=e,null}function Eg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f_()){case qc:return 1;case fg:return 4;case Fs:case h_:return 16;case hg:return 536870912;default:return 16}default:return 16}}var kn=null,ed=null,Es=null;function Cg(){if(Es)return Es;var e,t=ed,n=t.length,r,i="value"in kn?kn.value:kn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Es=i.slice(e,1<r?1-r:void 0)}function Cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qo(){return!0}function Qf(){return!1}function mt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qo:Qf,this.isPropagationStopped=Qf,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=mt(ai),Po=fe({},ai,{view:0,detail:0}),T_=mt(Po),Pa,Ra,wi,Nl=fe({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Pa=e.screenX-wi.screenX,Ra=e.screenY-wi.screenY):Ra=Pa=0,wi=e),Pa)},movementY:function(e){return"movementY"in e?e.movementY:Ra}}),Kf=mt(Nl),I_=fe({},Nl,{dataTransfer:0}),N_=mt(I_),P_=fe({},Po,{relatedTarget:0}),ba=mt(P_),R_=fe({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),b_=mt(R_),D_=fe({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O_=mt(D_),L_=fe({},ai,{data:0}),Yf=mt(L_),A_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F_[e])?!!t[e]:!1}function nd(){return j_}var z_=fe({},Po,{key:function(e){if(e.key){var t=A_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$_=mt(z_),U_=fe({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qf=mt(U_),B_=fe({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),W_=mt(B_),H_=fe({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_=mt(H_),G_=fe({},Nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q_=mt(G_),K_=[9,13,27,32],rd=un&&"CompositionEvent"in window,ji=null;un&&"documentMode"in document&&(ji=document.documentMode);var Y_=un&&"TextEvent"in window&&!ji,Sg=un&&(!rd||ji&&8<ji&&11>=ji),Xf=" ",Jf=!1;function xg(e,t){switch(e){case"keyup":return K_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function q_(e,t){switch(e){case"compositionend":return kg(t);case"keypress":return t.which!==32?null:(Jf=!0,Xf);case"textInput":return e=t.data,e===Xf&&Jf?null:e;default:return null}}function X_(e,t){if(Rr)return e==="compositionend"||!rd&&xg(e,t)?(e=Cg(),Es=ed=kn=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sg&&t.locale!=="ko"?null:t.data;default:return null}}var J_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J_[e.type]:t==="textarea"}function Tg(e,t,n,r){rg(r),t=Us(t,"onChange"),0<t.length&&(n=new td("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zi=null,no=null;function Z_(e){Fg(e,0)}function Pl(e){var t=Or(e);if(qm(t))return e}function ew(e,t){if(e==="change")return t}var Ig=!1;if(un){var Da;if(un){var Oa="oninput"in document;if(!Oa){var eh=document.createElement("div");eh.setAttribute("oninput","return;"),Oa=typeof eh.oninput=="function"}Da=Oa}else Da=!1;Ig=Da&&(!document.documentMode||9<document.documentMode)}function th(){zi&&(zi.detachEvent("onpropertychange",Ng),no=zi=null)}function Ng(e){if(e.propertyName==="value"&&Pl(no)){var t=[];Tg(t,no,e,Yc(e)),lg(Z_,t)}}function tw(e,t,n){e==="focusin"?(th(),zi=t,no=n,zi.attachEvent("onpropertychange",Ng)):e==="focusout"&&th()}function nw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(no)}function rw(e,t){if(e==="click")return Pl(t)}function iw(e,t){if(e==="input"||e==="change")return Pl(t)}function ow(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:ow;function ro(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cu.call(t,i)||!$t(e[i],t[i]))return!1}return!0}function nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rh(e,t){var n=nh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nh(n)}}function Pg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rg(){for(var e=window,t=Ls();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ls(e.document)}return t}function id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sw(e){var t=Rg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pg(n.ownerDocument.documentElement,n)){if(r!==null&&id(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=rh(n,o);var s=rh(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lw=un&&"documentMode"in document&&11>=document.documentMode,br=null,Uu=null,$i=null,Bu=!1;function ih(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bu||br==null||br!==Ls(r)||(r=br,"selectionStart"in r&&id(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$i&&ro($i,r)||($i=r,r=Us(Uu,"onSelect"),0<r.length&&(t=new td("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function Xo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dr={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},La={},bg={};un&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Rl(e){if(La[e])return La[e];if(!Dr[e])return e;var t=Dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bg)return La[e]=t[n];return e}var Dg=Rl("animationend"),Og=Rl("animationiteration"),Lg=Rl("animationstart"),Ag=Rl("transitionend"),Mg=new Map,oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){Mg.set(e,t),_r(t,[e])}for(var Aa=0;Aa<oh.length;Aa++){var Ma=oh[Aa],aw=Ma.toLowerCase(),uw=Ma[0].toUpperCase()+Ma.slice(1);Qn(aw,"on"+uw)}Qn(Dg,"onAnimationEnd");Qn(Og,"onAnimationIteration");Qn(Lg,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Ag,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function sh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,a_(r,t,void 0,e),e.currentTarget=null}function Fg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;sh(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;sh(i,l,u),o=a}}}if(Ms)throw e=Fu,Ms=!1,Fu=null,e}function oe(e,t){var n=t[Qu];n===void 0&&(n=t[Qu]=new Set);var r=e+"__bubble";n.has(r)||(jg(t,e,2,!1),n.add(r))}function Fa(e,t,n){var r=0;t&&(r|=4),jg(n,e,r,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[Jo]){e[Jo]=!0,Vm.forEach(function(n){n!=="selectionchange"&&(cw.has(n)||Fa(n,!1,e),Fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,Fa("selectionchange",!1,t))}}function jg(e,t,n,r){switch(Eg(t)){case 1:var i=x_;break;case 4:i=k_;break;default:i=Zc}n=i.bind(null,t,n,e),i=void 0,!Mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ja(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=rr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}lg(function(){var u=o,d=Yc(n),c=[];e:{var f=Mg.get(e);if(f!==void 0){var m=td,v=e;switch(e){case"keypress":if(Cs(n)===0)break e;case"keydown":case"keyup":m=$_;break;case"focusin":v="focus",m=ba;break;case"focusout":v="blur",m=ba;break;case"beforeblur":case"afterblur":m=ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=N_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=W_;break;case Dg:case Og:case Lg:m=b_;break;case Ag:m=V_;break;case"scroll":m=T_;break;case"wheel":m=Q_;break;case"copy":case"cut":case"paste":m=O_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qf}var y=(t&4)!==0,E=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var h=u,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=Ji(h,p),w!=null&&y.push(oo(h,w,g)))),E)break;h=h.return}0<y.length&&(f=new m(f,v,null,n,d),c.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Lu&&(v=n.relatedTarget||n.fromElement)&&(rr(v)||v[cn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?rr(v):null,v!==null&&(E=wr(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=Kf,w="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(y=qf,w="onPointerLeave",p="onPointerEnter",h="pointer"),E=m==null?f:Or(m),g=v==null?f:Or(v),f=new y(w,h+"leave",m,n,d),f.target=E,f.relatedTarget=g,w=null,rr(d)===u&&(y=new y(p,h+"enter",v,n,d),y.target=g,y.relatedTarget=E,w=y),E=w,m&&v)t:{for(y=m,p=v,h=0,g=y;g;g=xr(g))h++;for(g=0,w=p;w;w=xr(w))g++;for(;0<h-g;)y=xr(y),h--;for(;0<g-h;)p=xr(p),g--;for(;h--;){if(y===p||p!==null&&y===p.alternate)break t;y=xr(y),p=xr(p)}y=null}else y=null;m!==null&&lh(c,f,m,y,!1),v!==null&&E!==null&&lh(c,E,v,y,!0)}}e:{if(f=u?Or(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=ew;else if(Zf(f))if(Ig)S=iw;else{S=nw;var x=tw}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=rw);if(S&&(S=S(e,u))){Tg(c,S,n,d);break e}x&&x(e,f,u),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&Pu(f,"number",f.value)}switch(x=u?Or(u):window,e){case"focusin":(Zf(x)||x.contentEditable==="true")&&(br=x,Uu=u,$i=null);break;case"focusout":$i=Uu=br=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,ih(c,n,d);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":ih(c,n,d)}var C;if(rd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Rr?xg(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Sg&&n.locale!=="ko"&&(Rr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Rr&&(C=Cg()):(kn=d,ed="value"in kn?kn.value:kn.textContent,Rr=!0)),x=Us(u,k),0<x.length&&(k=new Yf(k,e,null,n,d),c.push({event:k,listeners:x}),C?k.data=C:(C=kg(n),C!==null&&(k.data=C)))),(C=Y_?q_(e,n):X_(e,n))&&(u=Us(u,"onBeforeInput"),0<u.length&&(d=new Yf("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=C))}Fg(c,t)})}function oo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Us(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ji(e,n),o!=null&&r.unshift(oo(e,o,i)),o=Ji(e,t),o!=null&&r.push(oo(e,o,i))),e=e.return}return r}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lh(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ji(n,o),a!=null&&s.unshift(oo(n,a,l))):i||(a=Ji(n,o),a!=null&&s.push(oo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var dw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function ah(e){return(typeof e=="string"?e:""+e).replace(dw,`
`).replace(fw,"")}function Zo(e,t,n){if(t=ah(t),ah(e)!==t&&n)throw Error(P(425))}function Bs(){}var Wu=null,Hu=null;function Vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(e){return uh.resolve(null).then(e).catch(mw)}:Gu;function mw(e){setTimeout(function(){throw e})}function za(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),to(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);to(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ch(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ui,so="__reactProps$"+ui,cn="__reactContainer$"+ui,Qu="__reactEvents$"+ui,gw="__reactListeners$"+ui,vw="__reactHandles$"+ui;function rr(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ch(e);e!==null;){if(n=e[Gt])return n;e=ch(e)}return t}e=n,n=e.parentNode}return null}function Ro(e){return e=e[Gt]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function bl(e){return e[so]||null}var Ku=[],Lr=-1;function Kn(e){return{current:e}}function le(e){0>Lr||(e.current=Ku[Lr],Ku[Lr]=null,Lr--)}function ie(e,t){Lr++,Ku[Lr]=e.current,e.current=t}var Bn={},Ke=Kn(Bn),ot=Kn(!1),dr=Bn;function Xr(e,t){var n=e.type.contextTypes;if(!n)return Bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function st(e){return e=e.childContextTypes,e!=null}function Ws(){le(ot),le(Ke)}function dh(e,t,n){if(Ke.current!==Bn)throw Error(P(168));ie(Ke,t),ie(ot,n)}function zg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,t_(e)||"Unknown",i));return fe({},n,r)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bn,dr=Ke.current,ie(Ke,e),ie(ot,ot.current),!0}function fh(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=zg(e,t,dr),r.__reactInternalMemoizedMergedChildContext=e,le(ot),le(Ke),ie(Ke,e)):le(ot),ie(ot,n)}var nn=null,Dl=!1,$a=!1;function $g(e){nn===null?nn=[e]:nn.push(e)}function yw(e){Dl=!0,$g(e)}function Yn(){if(!$a&&nn!==null){$a=!0;var e=0,t=J;try{var n=nn;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,Dl=!1}catch(i){throw nn!==null&&(nn=nn.slice(e+1)),dg(qc,Yn),i}finally{J=t,$a=!1}}return null}var Ar=[],Mr=0,Vs=null,Gs=0,Ct=[],St=0,fr=null,rn=1,on="";function Zn(e,t){Ar[Mr++]=Gs,Ar[Mr++]=Vs,Vs=e,Gs=t}function Ug(e,t,n){Ct[St++]=rn,Ct[St++]=on,Ct[St++]=fr,fr=e;var r=rn;e=on;var i=32-Ft(r)-1;r&=~(1<<i),n+=1;var o=32-Ft(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,rn=1<<32-Ft(t)+i|n<<i|r,on=o+e}else rn=1<<o|n<<i|r,on=e}function od(e){e.return!==null&&(Zn(e,1),Ug(e,1,0))}function sd(e){for(;e===Vs;)Vs=Ar[--Mr],Ar[Mr]=null,Gs=Ar[--Mr],Ar[Mr]=null;for(;e===fr;)fr=Ct[--St],Ct[St]=null,on=Ct[--St],Ct[St]=null,rn=Ct[--St],Ct[St]=null}var ft=null,dt=null,ue=!1,Ot=null;function Bg(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,dt=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fr!==null?{id:rn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,dt=null,!0):!1;default:return!1}}function Yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qu(e){if(ue){var t=dt;if(t){var n=t;if(!hh(e,t)){if(Yu(e))throw Error(P(418));t=Dn(n.nextSibling);var r=ft;t&&hh(e,t)?Bg(r,n):(e.flags=e.flags&-4097|2,ue=!1,ft=e)}}else{if(Yu(e))throw Error(P(418));e.flags=e.flags&-4097|2,ue=!1,ft=e}}}function ph(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function es(e){if(e!==ft)return!1;if(!ue)return ph(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vu(e.type,e.memoizedProps)),t&&(t=dt)){if(Yu(e))throw Wg(),Error(P(418));for(;t;)Bg(e,t),t=Dn(t.nextSibling)}if(ph(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=Dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ft?Dn(e.stateNode.nextSibling):null;return!0}function Wg(){for(var e=dt;e;)e=Dn(e.nextSibling)}function Jr(){dt=ft=null,ue=!1}function ld(e){Ot===null?Ot=[e]:Ot.push(e)}var _w=mn.ReactCurrentBatchConfig;function Ei(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ts(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mh(e){var t=e._init;return t(e._payload)}function Hg(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=Mn(p,h),p.index=0,p.sibling=null,p}function o(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,g,w){return h===null||h.tag!==6?(h=Qa(g,p.mode,w),h.return=p,h):(h=i(h,g),h.return=p,h)}function a(p,h,g,w){var S=g.type;return S===Pr?d(p,h,g.props.children,w,g.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===En&&mh(S)===h.type)?(w=i(h,g.props),w.ref=Ei(p,h,g),w.return=p,w):(w=Ps(g.type,g.key,g.props,null,p.mode,w),w.ref=Ei(p,h,g),w.return=p,w)}function u(p,h,g,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Ka(g,p.mode,w),h.return=p,h):(h=i(h,g.children||[]),h.return=p,h)}function d(p,h,g,w,S){return h===null||h.tag!==7?(h=ur(g,p.mode,w,S),h.return=p,h):(h=i(h,g),h.return=p,h)}function c(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Qa(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ho:return g=Ps(h.type,h.key,h.props,null,p.mode,g),g.ref=Ei(p,null,h),g.return=p,g;case Nr:return h=Ka(h,p.mode,g),h.return=p,h;case En:var w=h._init;return c(p,w(h._payload),g)}if(bi(h)||gi(h))return h=ur(h,p.mode,g,null),h.return=p,h;ts(p,h)}return null}function f(p,h,g,w){var S=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(p,h,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ho:return g.key===S?a(p,h,g,w):null;case Nr:return g.key===S?u(p,h,g,w):null;case En:return S=g._init,f(p,h,S(g._payload),w)}if(bi(g)||gi(g))return S!==null?null:d(p,h,g,w,null);ts(p,g)}return null}function m(p,h,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,l(h,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ho:return p=p.get(w.key===null?g:w.key)||null,a(h,p,w,S);case Nr:return p=p.get(w.key===null?g:w.key)||null,u(h,p,w,S);case En:var x=w._init;return m(p,h,g,x(w._payload),S)}if(bi(w)||gi(w))return p=p.get(g)||null,d(h,p,w,S,null);ts(h,w)}return null}function v(p,h,g,w){for(var S=null,x=null,C=h,k=h=0,I=null;C!==null&&k<g.length;k++){C.index>k?(I=C,C=null):I=C.sibling;var N=f(p,C,g[k],w);if(N===null){C===null&&(C=I);break}e&&C&&N.alternate===null&&t(p,C),h=o(N,h,k),x===null?S=N:x.sibling=N,x=N,C=I}if(k===g.length)return n(p,C),ue&&Zn(p,k),S;if(C===null){for(;k<g.length;k++)C=c(p,g[k],w),C!==null&&(h=o(C,h,k),x===null?S=C:x.sibling=C,x=C);return ue&&Zn(p,k),S}for(C=r(p,C);k<g.length;k++)I=m(C,p,k,g[k],w),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?k:I.key),h=o(I,h,k),x===null?S=I:x.sibling=I,x=I);return e&&C.forEach(function(M){return t(p,M)}),ue&&Zn(p,k),S}function y(p,h,g,w){var S=gi(g);if(typeof S!="function")throw Error(P(150));if(g=S.call(g),g==null)throw Error(P(151));for(var x=S=null,C=h,k=h=0,I=null,N=g.next();C!==null&&!N.done;k++,N=g.next()){C.index>k?(I=C,C=null):I=C.sibling;var M=f(p,C,N.value,w);if(M===null){C===null&&(C=I);break}e&&C&&M.alternate===null&&t(p,C),h=o(M,h,k),x===null?S=M:x.sibling=M,x=M,C=I}if(N.done)return n(p,C),ue&&Zn(p,k),S;if(C===null){for(;!N.done;k++,N=g.next())N=c(p,N.value,w),N!==null&&(h=o(N,h,k),x===null?S=N:x.sibling=N,x=N);return ue&&Zn(p,k),S}for(C=r(p,C);!N.done;k++,N=g.next())N=m(C,p,k,N.value,w),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?k:N.key),h=o(N,h,k),x===null?S=N:x.sibling=N,x=N);return e&&C.forEach(function(G){return t(p,G)}),ue&&Zn(p,k),S}function E(p,h,g,w){if(typeof g=="object"&&g!==null&&g.type===Pr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ho:e:{for(var S=g.key,x=h;x!==null;){if(x.key===S){if(S=g.type,S===Pr){if(x.tag===7){n(p,x.sibling),h=i(x,g.props.children),h.return=p,p=h;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===En&&mh(S)===x.type){n(p,x.sibling),h=i(x,g.props),h.ref=Ei(p,x,g),h.return=p,p=h;break e}n(p,x);break}else t(p,x);x=x.sibling}g.type===Pr?(h=ur(g.props.children,p.mode,w,g.key),h.return=p,p=h):(w=Ps(g.type,g.key,g.props,null,p.mode,w),w.ref=Ei(p,h,g),w.return=p,p=w)}return s(p);case Nr:e:{for(x=g.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=i(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Ka(g,p.mode,w),h.return=p,p=h}return s(p);case En:return x=g._init,E(p,h,x(g._payload),w)}if(bi(g))return v(p,h,g,w);if(gi(g))return y(p,h,g,w);ts(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,g),h.return=p,p=h):(n(p,h),h=Qa(g,p.mode,w),h.return=p,p=h),s(p)):n(p,h)}return E}var Zr=Hg(!0),Vg=Hg(!1),Qs=Kn(null),Ks=null,Fr=null,ad=null;function ud(){ad=Fr=Ks=null}function cd(e){var t=Qs.current;le(Qs),e._currentValue=t}function Xu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vr(e,t){Ks=e,ad=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(ad!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(Ks===null)throw Error(P(308));Fr=e,Ks.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var ir=null;function dd(e){ir===null?ir=[e]:ir.push(e)}function Gg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,dd(t)):(n.next=i.next,i.next=n),t.interleaved=n,dn(e,r)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cn=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,dn(e,n)}return i=r.interleaved,i===null?(t.next=t,dd(r)):(t.next=i.next,i.next=t),r.interleaved=t,dn(e,n)}function Ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xc(e,n)}}function gh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ys(e,t,n,r){var i=e.updateQueue;Cn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(o!==null){var c=i.baseState;s=0,d=u=a=null,l=o;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(f=t,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){c=v.call(m,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(m,c,f):v,f==null)break e;c=fe({},c,f);break e;case 2:Cn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,a=c):d=d.next=m,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);pr|=s,e.lanes=s,e.memoizedState=c}}function vh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var bo={},Xt=Kn(bo),lo=Kn(bo),ao=Kn(bo);function or(e){if(e===bo)throw Error(P(174));return e}function hd(e,t){switch(ie(ao,t),ie(lo,e),ie(Xt,bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bu(t,e)}le(Xt),ie(Xt,t)}function ei(){le(Xt),le(lo),le(ao)}function Kg(e){or(ao.current);var t=or(Xt.current),n=bu(t,e.type);t!==n&&(ie(lo,e),ie(Xt,n))}function pd(e){lo.current===e&&(le(Xt),le(lo))}var ce=Kn(0);function qs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=[];function md(){for(var e=0;e<Ua.length;e++)Ua[e]._workInProgressVersionPrimary=null;Ua.length=0}var xs=mn.ReactCurrentDispatcher,Ba=mn.ReactCurrentBatchConfig,hr=0,de=null,Ce=null,Pe=null,Xs=!1,Ui=!1,uo=0,ww=0;function $e(){throw Error(P(321))}function gd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function vd(e,t,n,r,i,o){if(hr=o,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xs.current=e===null||e.memoizedState===null?xw:kw,e=n(r,i),Ui){o=0;do{if(Ui=!1,uo=0,25<=o)throw Error(P(301));o+=1,Pe=Ce=null,t.updateQueue=null,xs.current=Tw,e=n(r,i)}while(Ui)}if(xs.current=Js,t=Ce!==null&&Ce.next!==null,hr=0,Pe=Ce=de=null,Xs=!1,t)throw Error(P(300));return e}function yd(){var e=uo!==0;return uo=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?de.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function It(){if(Ce===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Pe===null?de.memoizedState:Pe.next;if(t!==null)Pe=t,Ce=e;else{if(e===null)throw Error(P(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Pe===null?de.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function co(e,t){return typeof t=="function"?t(e):t}function Wa(e){var t=It(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ce,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var d=u.lane;if((hr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,de.lanes|=d,pr|=d}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,$t(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,de.lanes|=o,pr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ha(e){var t=It(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);$t(o,t.memoizedState)||(rt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Yg(){}function qg(e,t){var n=de,r=It(),i=t(),o=!$t(r.memoizedState,i);if(o&&(r.memoizedState=i,rt=!0),r=r.queue,_d(Zg.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,fo(9,Jg.bind(null,n,r,i,t),void 0,null),De===null)throw Error(P(349));hr&30||Xg(n,t,i)}return i}function Xg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jg(e,t,n,r){t.value=n,t.getSnapshot=r,ev(t)&&tv(e)}function Zg(e,t,n){return n(function(){ev(t)&&tv(e)})}function ev(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function tv(e){var t=dn(e,1);t!==null&&jt(t,e,1,-1)}function yh(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},t.queue=e,e=e.dispatch=Sw.bind(null,de,e),[t.memoizedState,e]}function fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nv(){return It().memoizedState}function ks(e,t,n,r){var i=Ht();de.flags|=e,i.memoizedState=fo(1|t,n,void 0,r===void 0?null:r)}function Ol(e,t,n,r){var i=It();r=r===void 0?null:r;var o=void 0;if(Ce!==null){var s=Ce.memoizedState;if(o=s.destroy,r!==null&&gd(r,s.deps)){i.memoizedState=fo(t,n,o,r);return}}de.flags|=e,i.memoizedState=fo(1|t,n,o,r)}function _h(e,t){return ks(8390656,8,e,t)}function _d(e,t){return Ol(2048,8,e,t)}function rv(e,t){return Ol(4,2,e,t)}function iv(e,t){return Ol(4,4,e,t)}function ov(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sv(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4,4,ov.bind(null,t,e),n)}function wd(){}function lv(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function av(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uv(e,t,n){return hr&21?($t(n,t)||(n=pg(),de.lanes|=n,pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function Ew(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Ba.transition;Ba.transition={};try{e(!1),t()}finally{J=n,Ba.transition=r}}function cv(){return It().memoizedState}function Cw(e,t,n){var r=An(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dv(e))fv(t,n);else if(n=Gg(e,t,n,r),n!==null){var i=Xe();jt(n,e,r,i),hv(n,t,r)}}function Sw(e,t,n){var r=An(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dv(e))fv(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,$t(l,s)){var a=t.interleaved;a===null?(i.next=i,dd(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Gg(e,t,i,r),n!==null&&(i=Xe(),jt(n,e,r,i),hv(n,t,r))}}function dv(e){var t=e.alternate;return e===de||t!==null&&t===de}function fv(e,t){Ui=Xs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xc(e,n)}}var Js={readContext:Tt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},xw={readContext:Tt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:_h,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ks(4194308,4,ov.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return ks(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cw.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:yh,useDebugValue:wd,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=yh(!1),t=e[0];return e=Ew.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=de,i=Ht();if(ue){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),De===null)throw Error(P(349));hr&30||Xg(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,_h(Zg.bind(null,r,o,e),[e]),r.flags|=2048,fo(9,Jg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ht(),t=De.identifierPrefix;if(ue){var n=on,r=rn;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ww++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kw={readContext:Tt,useCallback:lv,useContext:Tt,useEffect:_d,useImperativeHandle:sv,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:av,useReducer:Wa,useRef:nv,useState:function(){return Wa(co)},useDebugValue:wd,useDeferredValue:function(e){var t=It();return uv(t,Ce.memoizedState,e)},useTransition:function(){var e=Wa(co)[0],t=It().memoizedState;return[e,t]},useMutableSource:Yg,useSyncExternalStore:qg,useId:cv,unstable_isNewReconciler:!1},Tw={readContext:Tt,useCallback:lv,useContext:Tt,useEffect:_d,useImperativeHandle:sv,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:av,useReducer:Ha,useRef:nv,useState:function(){return Ha(co)},useDebugValue:wd,useDeferredValue:function(e){var t=It();return Ce===null?t.memoizedState=e:uv(t,Ce.memoizedState,e)},useTransition:function(){var e=Ha(co)[0],t=It().memoizedState;return[e,t]},useMutableSource:Yg,useSyncExternalStore:qg,useId:cv,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ju(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ll={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),i=An(e),o=ln(r,i);o.payload=t,n!=null&&(o.callback=n),t=On(e,o,i),t!==null&&(jt(t,e,i,r),Ss(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),i=An(e),o=ln(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=On(e,o,i),t!==null&&(jt(t,e,i,r),Ss(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=An(e),i=ln(n,r);i.tag=2,t!=null&&(i.callback=t),t=On(e,i,r),t!==null&&(jt(t,e,r,n),Ss(t,e,r))}};function wh(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ro(n,r)||!ro(i,o):!0}function pv(e,t,n){var r=!1,i=Bn,o=t.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(i=st(t)?dr:Ke.current,r=t.contextTypes,o=(r=r!=null)?Xr(e,i):Bn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ll,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Eh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ll.enqueueReplaceState(t,t.state,null)}function Zu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},fd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Tt(o):(o=st(t)?dr:Ke.current,i.context=Xr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ju(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ll.enqueueReplaceState(i,i.state,null),Ys(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ti(e,t){try{var n="",r=t;do n+=e_(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Va(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ec(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Iw=typeof WeakMap=="function"?WeakMap:Map;function mv(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){el||(el=!0,cc=r),ec(e,t)},n}function gv(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ec(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ec(e,t),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ch(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Iw;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Uw.bind(null,e,t,n),t.then(e,e))}function Sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xh(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,On(n,t,1))),n.lanes|=1),e)}var Nw=mn.ReactCurrentOwner,rt=!1;function Ye(e,t,n,r){t.child=e===null?Vg(t,null,n,r):Zr(t,e.child,n,r)}function kh(e,t,n,r,i){n=n.render;var o=t.ref;return Vr(t,i),r=vd(e,t,n,r,o,i),n=yd(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(ue&&n&&od(t),t.flags|=1,Ye(e,t,r,i),t.child)}function Th(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Nd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,vv(e,t,o,r,i)):(e=Ps(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(s,r)&&e.ref===t.ref)return fn(e,t,i)}return t.flags|=1,e=Mn(o,r),e.ref=t.ref,e.return=t,t.child=e}function vv(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ro(o,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,fn(e,t,i)}return tc(e,t,n,r,i)}function yv(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(zr,ct),ct|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(zr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ie(zr,ct),ct|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ie(zr,ct),ct|=r;return Ye(e,t,i,n),t.child}function _v(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tc(e,t,n,r,i){var o=st(n)?dr:Ke.current;return o=Xr(t,o),Vr(t,i),n=vd(e,t,n,r,o,i),r=yd(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(ue&&r&&od(t),t.flags|=1,Ye(e,t,n,i),t.child)}function Ih(e,t,n,r,i){if(st(n)){var o=!0;Hs(t)}else o=!1;if(Vr(t,i),t.stateNode===null)Ts(e,t),pv(t,n,r),Zu(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=st(n)?dr:Ke.current,u=Xr(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Eh(t,s,r,u),Cn=!1;var f=t.memoizedState;s.state=f,Ys(t,r,s,i),a=t.memoizedState,l!==r||f!==a||ot.current||Cn?(typeof d=="function"&&(Ju(t,n,d,r),a=t.memoizedState),(l=Cn||wh(t,n,l,r,f,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Qg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:bt(t.type,l),s.props=u,c=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Tt(a):(a=st(n)?dr:Ke.current,a=Xr(t,a));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||f!==a)&&Eh(t,s,r,a),Cn=!1,f=t.memoizedState,s.state=f,Ys(t,r,s,i);var v=t.memoizedState;l!==c||f!==v||ot.current||Cn?(typeof m=="function"&&(Ju(t,n,m,r),v=t.memoizedState),(u=Cn||wh(t,n,u,r,f,v,a)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return nc(e,t,n,r,o,i)}function nc(e,t,n,r,i,o){_v(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&fh(t,n,!1),fn(e,t,o);r=t.stateNode,Nw.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Zr(t,e.child,null,o),t.child=Zr(t,null,l,o)):Ye(e,t,l,o),t.memoizedState=r.state,i&&fh(t,n,!0),t.child}function wv(e){var t=e.stateNode;t.pendingContext?dh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dh(e,t.context,!1),hd(e,t.containerInfo)}function Nh(e,t,n,r,i){return Jr(),ld(i),t.flags|=256,Ye(e,t,n,r),t.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function ic(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ev(e,t,n){var r=t.pendingProps,i=ce.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ie(ce,i&1),e===null)return qu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Fl(s,r,0,null),e=ur(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ic(n),t.memoizedState=rc,e):Ed(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Pw(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Mn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Mn(l,o):(o=ur(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?ic(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=rc,r}return o=e.child,e=o.sibling,r=Mn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ed(e,t){return t=Fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ns(e,t,n,r){return r!==null&&ld(r),Zr(t,e.child,null,n),e=Ed(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pw(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Va(Error(P(422))),ns(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),o=ur(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Zr(t,e.child,null,s),t.child.memoizedState=ic(s),t.memoizedState=rc,o);if(!(t.mode&1))return ns(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(P(419)),r=Va(o,r,void 0),ns(e,t,s,r)}if(l=(s&e.childLanes)!==0,rt||l){if(r=De,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,dn(e,i),jt(r,e,i,-1))}return Id(),r=Va(Error(P(421))),ns(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Bw.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,dt=Dn(i.nextSibling),ft=t,ue=!0,Ot=null,e!==null&&(Ct[St++]=rn,Ct[St++]=on,Ct[St++]=fr,rn=e.id,on=e.overflow,fr=t),t=Ed(t,r.children),t.flags|=4096,t)}function Ph(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xu(e.return,t,n)}function Ga(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Cv(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ye(e,t,r.children,n),r=ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ph(e,n,t);else if(e.tag===19)Ph(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(ce,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,o);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ts(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rw(e,t,n){switch(t.tag){case 3:wv(t),Jr();break;case 5:Kg(t);break;case 1:st(t.type)&&Hs(t);break;case 4:hd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ie(Qs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?Ev(e,t,n):(ie(ce,ce.current&1),e=fn(e,t,n),e!==null?e.sibling:null);ie(ce,ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(ce,ce.current),r)break;return null;case 22:case 23:return t.lanes=0,yv(e,t,n)}return fn(e,t,n)}var Sv,oc,xv,kv;Sv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oc=function(){};xv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,or(Xt.current);var o=null;switch(n){case"input":i=Iu(e,i),r=Iu(e,r),o=[];break;case"select":i=fe({},i,{value:void 0}),r=fe({},r,{value:void 0}),o=[];break;case"textarea":i=Ru(e,i),r=Ru(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Bs)}Du(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&oe("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};kv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ci(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bw(e,t,n){var r=t.pendingProps;switch(sd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return st(t.type)&&Ws(),Ue(t),null;case 3:return r=t.stateNode,ei(),le(ot),le(Ke),md(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(es(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(hc(Ot),Ot=null))),oc(e,t),Ue(t),null;case 5:pd(t);var i=or(ao.current);if(n=t.type,e!==null&&t.stateNode!=null)xv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ue(t),null}if(e=or(Xt.current),es(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Gt]=t,r[so]=o,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(i=0;i<Oi.length;i++)oe(Oi[i],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":jf(r,o),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},oe("invalid",r);break;case"textarea":$f(r,o),oe("invalid",r)}Du(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Zo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Zo(r.textContent,l,e),i=["children",""+l]):qi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&oe("scroll",r)}switch(n){case"input":Vo(r),zf(r,o,!0);break;case"textarea":Vo(r),Uf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Gt]=t,e[so]=r,Sv(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ou(n,r),n){case"dialog":oe("cancel",e),oe("close",e),i=r;break;case"iframe":case"object":case"embed":oe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Oi.length;i++)oe(Oi[i],e);i=r;break;case"source":oe("error",e),i=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),i=r;break;case"details":oe("toggle",e),i=r;break;case"input":jf(e,r),i=Iu(e,r),oe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=fe({},r,{value:void 0}),oe("invalid",e);break;case"textarea":$f(e,r),i=Ru(e,r),oe("invalid",e);break;default:i=r}Du(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?ng(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&eg(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Xi(e,a):typeof a=="number"&&Xi(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&oe("scroll",e):a!=null&&Vc(e,o,a,s))}switch(n){case"input":Vo(e),zf(e,r,!1);break;case"textarea":Vo(e),Uf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Un(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ur(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)kv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=or(ao.current),or(Xt.current),es(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(o=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:Zo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Ue(t),null;case 13:if(le(ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&dt!==null&&t.mode&1&&!(t.flags&128))Wg(),Jr(),t.flags|=98560,o=!1;else if(o=es(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(P(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[Gt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else Ot!==null&&(hc(Ot),Ot=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?ke===0&&(ke=3):Id())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return ei(),oc(e,t),e===null&&io(t.stateNode.containerInfo),Ue(t),null;case 10:return cd(t.type._context),Ue(t),null;case 17:return st(t.type)&&Ws(),Ue(t),null;case 19:if(le(ce),o=t.memoizedState,o===null)return Ue(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Ci(o,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qs(e),s!==null){for(t.flags|=128,Ci(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(ce,ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&ye()>ni&&(t.flags|=128,r=!0,Ci(o,!1),t.lanes=4194304)}else{if(!r)if(e=qs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ci(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ue)return Ue(t),null}else 2*ye()-o.renderingStartTime>ni&&n!==1073741824&&(t.flags|=128,r=!0,Ci(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ye(),t.sibling=null,n=ce.current,ie(ce,r?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return Td(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ct&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Dw(e,t){switch(sd(t),t.tag){case 1:return st(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),le(ot),le(Ke),md(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pd(t),null;case 13:if(le(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(ce),null;case 4:return ei(),null;case 10:return cd(t.type._context),null;case 22:case 23:return Td(),null;case 24:return null;default:return null}}var rs=!1,Ge=!1,Ow=typeof WeakSet=="function"?WeakSet:Set,A=null;function jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function sc(e,t,n){try{n()}catch(r){he(e,t,r)}}var Rh=!1;function Lw(e,t){if(Wu=zs,e=Rg(),id(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,d=0,c=e,f=null;t:for(;;){for(var m;c!==n||i!==0&&c.nodeType!==3||(l=s+i),c!==o||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(m=c.firstChild)!==null;)f=c,c=m;for(;;){if(c===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(a=s),(m=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hu={focusedElem:e,selectionRange:n},zs=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,E=v.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:bt(t.type,y),E);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){he(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return v=Rh,Rh=!1,v}function Bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&sc(t,n,o)}i=i.next}while(i!==r)}}function Al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Tv(e){var t=e.alternate;t!==null&&(e.alternate=null,Tv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[so],delete t[Qu],delete t[gw],delete t[vw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iv(e){return e.tag===5||e.tag===3||e.tag===4}function bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ac(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bs));else if(r!==4&&(e=e.child,e!==null))for(ac(e,t,n),e=e.sibling;e!==null;)ac(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(uc(e,t,n),e=e.sibling;e!==null;)uc(e,t,n),e=e.sibling}var Me=null,Dt=!1;function _n(e,t,n){for(n=n.child;n!==null;)Nv(e,t,n),n=n.sibling}function Nv(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Il,n)}catch{}switch(n.tag){case 5:Ge||jr(n,t);case 6:var r=Me,i=Dt;Me=null,_n(e,t,n),Me=r,Dt=i,Me!==null&&(Dt?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(Dt?(e=Me,n=n.stateNode,e.nodeType===8?za(e.parentNode,n):e.nodeType===1&&za(e,n),to(e)):za(Me,n.stateNode));break;case 4:r=Me,i=Dt,Me=n.stateNode.containerInfo,Dt=!0,_n(e,t,n),Me=r,Dt=i;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&sc(n,t,s),i=i.next}while(i!==r)}_n(e,t,n);break;case 1:if(!Ge&&(jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){he(n,t,l)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,_n(e,t,n),Ge=r):_n(e,t,n);break;default:_n(e,t,n)}}function Dh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ow),t.forEach(function(r){var i=Ww.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Me=l.stateNode,Dt=!1;break e;case 3:Me=l.stateNode.containerInfo,Dt=!0;break e;case 4:Me=l.stateNode.containerInfo,Dt=!0;break e}l=l.return}if(Me===null)throw Error(P(160));Nv(o,s,i),Me=null,Dt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){he(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pv(t,e),t=t.sibling}function Pv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Wt(e),r&4){try{Bi(3,e,e.return),Al(3,e)}catch(y){he(e,e.return,y)}try{Bi(5,e,e.return)}catch(y){he(e,e.return,y)}}break;case 1:Rt(t,e),Wt(e),r&512&&n!==null&&jr(n,n.return);break;case 5:if(Rt(t,e),Wt(e),r&512&&n!==null&&jr(n,n.return),e.flags&32){var i=e.stateNode;try{Xi(i,"")}catch(y){he(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Xm(i,o),Ou(l,s);var u=Ou(l,o);for(s=0;s<a.length;s+=2){var d=a[s],c=a[s+1];d==="style"?ng(i,c):d==="dangerouslySetInnerHTML"?eg(i,c):d==="children"?Xi(i,c):Vc(i,d,c,u)}switch(l){case"input":Nu(i,o);break;case"textarea":Jm(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ur(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ur(i,!!o.multiple,o.defaultValue,!0):Ur(i,!!o.multiple,o.multiple?[]:"",!1))}i[so]=o}catch(y){he(e,e.return,y)}}break;case 6:if(Rt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){he(e,e.return,y)}}break;case 3:if(Rt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{to(t.containerInfo)}catch(y){he(e,e.return,y)}break;case 4:Rt(t,e),Wt(e);break;case 13:Rt(t,e),Wt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xd=ye())),r&4&&Dh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(u=Ge)||d,Rt(t,e),Ge=u):Rt(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(c=A=d;A!==null;){switch(f=A,m=f.child,f.tag){case 0:case 11:case 14:case 15:Bi(4,f,f.return);break;case 1:jr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){he(r,n,y)}}break;case 5:jr(f,f.return);break;case 22:if(f.memoizedState!==null){Lh(c);continue}}m!==null?(m.return=f,A=m):Lh(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=tg("display",s))}catch(y){he(e,e.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){he(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Rt(t,e),Wt(e),r&4&&Dh(e);break;case 21:break;default:Rt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Iv(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xi(i,""),r.flags&=-33);var o=bh(e);uc(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=bh(e);ac(e,l,s);break;default:throw Error(P(161))}}catch(a){he(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Aw(e,t,n){A=e,Rv(e)}function Rv(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var i=A,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||rs;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ge;l=rs;var u=Ge;if(rs=s,(Ge=a)&&!u)for(A=i;A!==null;)s=A,a=s.child,s.tag===22&&s.memoizedState!==null?Ah(i):a!==null?(a.return=s,A=a):Ah(i);for(;o!==null;)A=o,Rv(o),o=o.sibling;A=i,rs=l,Ge=u}Oh(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,A=o):Oh(e)}}function Oh(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Al(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&vh(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vh(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&to(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ge||t.flags&512&&lc(t)}catch(f){he(t,t.return,f)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Lh(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Ah(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Al(4,t)}catch(a){he(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){he(t,i,a)}}var o=t.return;try{lc(t)}catch(a){he(t,o,a)}break;case 5:var s=t.return;try{lc(t)}catch(a){he(t,s,a)}}}catch(a){he(t,t.return,a)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var Mw=Math.ceil,Zs=mn.ReactCurrentDispatcher,Cd=mn.ReactCurrentOwner,kt=mn.ReactCurrentBatchConfig,K=0,De=null,_e=null,je=0,ct=0,zr=Kn(0),ke=0,ho=null,pr=0,Ml=0,Sd=0,Wi=null,nt=null,xd=0,ni=1/0,tn=null,el=!1,cc=null,Ln=null,is=!1,Tn=null,tl=0,Hi=0,dc=null,Is=-1,Ns=0;function Xe(){return K&6?ye():Is!==-1?Is:Is=ye()}function An(e){return e.mode&1?K&2&&je!==0?je&-je:_w.transition!==null?(Ns===0&&(Ns=pg()),Ns):(e=J,e!==0||(e=window.event,e=e===void 0?16:Eg(e.type)),e):1}function jt(e,t,n,r){if(50<Hi)throw Hi=0,dc=null,Error(P(185));No(e,n,r),(!(K&2)||e!==De)&&(e===De&&(!(K&2)&&(Ml|=n),ke===4&&xn(e,je)),lt(e,r),n===1&&K===0&&!(t.mode&1)&&(ni=ye()+500,Dl&&Yn()))}function lt(e,t){var n=e.callbackNode;__(e,t);var r=js(e,e===De?je:0);if(r===0)n!==null&&Hf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hf(n),t===1)e.tag===0?yw(Mh.bind(null,e)):$g(Mh.bind(null,e)),pw(function(){!(K&6)&&Yn()}),n=null;else{switch(mg(r)){case 1:n=qc;break;case 4:n=fg;break;case 16:n=Fs;break;case 536870912:n=hg;break;default:n=Fs}n=jv(n,bv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bv(e,t){if(Is=-1,Ns=0,K&6)throw Error(P(327));var n=e.callbackNode;if(Gr()&&e.callbackNode!==n)return null;var r=js(e,e===De?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nl(e,r);else{t=r;var i=K;K|=2;var o=Ov();(De!==e||je!==t)&&(tn=null,ni=ye()+500,ar(e,t));do try{zw();break}catch(l){Dv(e,l)}while(!0);ud(),Zs.current=o,K=i,_e!==null?t=0:(De=null,je=0,t=ke)}if(t!==0){if(t===2&&(i=ju(e),i!==0&&(r=i,t=fc(e,i))),t===1)throw n=ho,ar(e,0),xn(e,r),lt(e,ye()),n;if(t===6)xn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Fw(i)&&(t=nl(e,r),t===2&&(o=ju(e),o!==0&&(r=o,t=fc(e,o))),t===1))throw n=ho,ar(e,0),xn(e,r),lt(e,ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:er(e,nt,tn);break;case 3:if(xn(e,r),(r&130023424)===r&&(t=xd+500-ye(),10<t)){if(js(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gu(er.bind(null,e,nt,tn),t);break}er(e,nt,tn);break;case 4:if(xn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ft(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mw(r/1960))-r,10<r){e.timeoutHandle=Gu(er.bind(null,e,nt,tn),r);break}er(e,nt,tn);break;case 5:er(e,nt,tn);break;default:throw Error(P(329))}}}return lt(e,ye()),e.callbackNode===n?bv.bind(null,e):null}function fc(e,t){var n=Wi;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=nl(e,t),e!==2&&(t=nt,nt=n,t!==null&&hc(t)),e}function hc(e){nt===null?nt=e:nt.push.apply(nt,e)}function Fw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$t(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xn(e,t){for(t&=~Sd,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),r=1<<n;e[n]=-1,t&=~r}}function Mh(e){if(K&6)throw Error(P(327));Gr();var t=js(e,0);if(!(t&1))return lt(e,ye()),null;var n=nl(e,t);if(e.tag!==0&&n===2){var r=ju(e);r!==0&&(t=r,n=fc(e,r))}if(n===1)throw n=ho,ar(e,0),xn(e,t),lt(e,ye()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,nt,tn),lt(e,ye()),null}function kd(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(ni=ye()+500,Dl&&Yn())}}function mr(e){Tn!==null&&Tn.tag===0&&!(K&6)&&Gr();var t=K;K|=1;var n=kt.transition,r=J;try{if(kt.transition=null,J=1,e)return e()}finally{J=r,kt.transition=n,K=t,!(K&6)&&Yn()}}function Td(){ct=zr.current,le(zr)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hw(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(sd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ws();break;case 3:ei(),le(ot),le(Ke),md();break;case 5:pd(r);break;case 4:ei();break;case 13:le(ce);break;case 19:le(ce);break;case 10:cd(r.type._context);break;case 22:case 23:Td()}n=n.return}if(De=e,_e=e=Mn(e.current,null),je=ct=t,ke=0,ho=null,Sd=Ml=pr=0,nt=Wi=null,ir!==null){for(t=0;t<ir.length;t++)if(n=ir[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ir=null}return e}function Dv(e,t){do{var n=_e;try{if(ud(),xs.current=Js,Xs){for(var r=de.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xs=!1}if(hr=0,Pe=Ce=de=null,Ui=!1,uo=0,Cd.current=null,n===null||n.return===null){ke=1,ho=t,_e=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=je,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Sh(s);if(m!==null){m.flags&=-257,xh(m,s,l,o,t),m.mode&1&&Ch(o,u,t),t=m,a=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(a),t.updateQueue=y}else v.add(a);break e}else{if(!(t&1)){Ch(o,u,t),Id();break e}a=Error(P(426))}}else if(ue&&l.mode&1){var E=Sh(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),xh(E,s,l,o,t),ld(ti(a,l));break e}}o=a=ti(a,l),ke!==4&&(ke=2),Wi===null?Wi=[o]:Wi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=mv(o,a,t);gh(o,p);break e;case 1:l=a;var h=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ln===null||!Ln.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=gv(o,l,t);gh(o,w);break e}}o=o.return}while(o!==null)}Av(n)}catch(S){t=S,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function Ov(){var e=Zs.current;return Zs.current=Js,e===null?Js:e}function Id(){(ke===0||ke===3||ke===2)&&(ke=4),De===null||!(pr&268435455)&&!(Ml&268435455)||xn(De,je)}function nl(e,t){var n=K;K|=2;var r=Ov();(De!==e||je!==t)&&(tn=null,ar(e,t));do try{jw();break}catch(i){Dv(e,i)}while(!0);if(ud(),K=n,Zs.current=r,_e!==null)throw Error(P(261));return De=null,je=0,ke}function jw(){for(;_e!==null;)Lv(_e)}function zw(){for(;_e!==null&&!c_();)Lv(_e)}function Lv(e){var t=Fv(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Av(e):_e=t,Cd.current=null}function Av(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dw(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,_e=null;return}}else if(n=bw(n,t,ct),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);ke===0&&(ke=5)}function er(e,t,n){var r=J,i=kt.transition;try{kt.transition=null,J=1,$w(e,t,n,r)}finally{kt.transition=i,J=r}return null}function $w(e,t,n,r){do Gr();while(Tn!==null);if(K&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(w_(e,o),e===De&&(_e=De=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||is||(is=!0,jv(Fs,function(){return Gr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=kt.transition,kt.transition=null;var s=J;J=1;var l=K;K|=4,Cd.current=null,Lw(e,n),Pv(n,e),sw(Hu),zs=!!Wu,Hu=Wu=null,e.current=n,Aw(n),d_(),K=l,J=s,kt.transition=o}else e.current=n;if(is&&(is=!1,Tn=e,tl=i),o=e.pendingLanes,o===0&&(Ln=null),p_(n.stateNode),lt(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(el)throw el=!1,e=cc,cc=null,e;return tl&1&&e.tag!==0&&Gr(),o=e.pendingLanes,o&1?e===dc?Hi++:(Hi=0,dc=e):Hi=0,Yn(),null}function Gr(){if(Tn!==null){var e=mg(tl),t=kt.transition,n=J;try{if(kt.transition=null,J=16>e?16:e,Tn===null)var r=!1;else{if(e=Tn,Tn=null,tl=0,K&6)throw Error(P(331));var i=K;for(K|=4,A=e.current;A!==null;){var o=A,s=o.child;if(A.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:Bi(8,d,o)}var c=d.child;if(c!==null)c.return=d,A=c;else for(;A!==null;){d=A;var f=d.sibling,m=d.return;if(Tv(d),d===u){A=null;break}if(f!==null){f.return=m,A=f;break}A=m}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}A=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,A=s;else e:for(;A!==null;){if(o=A,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bi(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,A=p;break e}A=o.return}}var h=e.current;for(A=h;A!==null;){s=A;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,A=g;else e:for(s=h;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Al(9,l)}}catch(S){he(l,l.return,S)}if(l===s){A=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,A=w;break e}A=l.return}}if(K=i,Yn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Il,e)}catch{}r=!0}return r}finally{J=n,kt.transition=t}}return!1}function Fh(e,t,n){t=ti(n,t),t=mv(e,t,1),e=On(e,t,1),t=Xe(),e!==null&&(No(e,1,t),lt(e,t))}function he(e,t,n){if(e.tag===3)Fh(e,e,n);else for(;t!==null;){if(t.tag===3){Fh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){e=ti(n,e),e=gv(t,e,1),t=On(t,e,1),e=Xe(),t!==null&&(No(t,1,e),lt(t,e));break}}t=t.return}}function Uw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(je&n)===n&&(ke===4||ke===3&&(je&130023424)===je&&500>ye()-xd?ar(e,0):Sd|=n),lt(e,t)}function Mv(e,t){t===0&&(e.mode&1?(t=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):t=1);var n=Xe();e=dn(e,t),e!==null&&(No(e,t,n),lt(e,n))}function Bw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mv(e,n)}function Ww(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Mv(e,n)}var Fv;Fv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,Rw(e,t,n);rt=!!(e.flags&131072)}else rt=!1,ue&&t.flags&1048576&&Ug(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ts(e,t),e=t.pendingProps;var i=Xr(t,Ke.current);Vr(t,n),i=vd(null,t,r,e,i,n);var o=yd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(r)?(o=!0,Hs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fd(t),i.updater=Ll,t.stateNode=i,i._reactInternals=t,Zu(t,r,e,n),t=nc(null,t,r,!0,o,n)):(t.tag=0,ue&&o&&od(t),Ye(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ts(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Vw(r),e=bt(r,e),i){case 0:t=tc(null,t,r,e,n);break e;case 1:t=Ih(null,t,r,e,n);break e;case 11:t=kh(null,t,r,e,n);break e;case 14:t=Th(null,t,r,bt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),tc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),Ih(e,t,r,i,n);case 3:e:{if(wv(t),e===null)throw Error(P(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Qg(e,t),Ys(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ti(Error(P(423)),t),t=Nh(e,t,r,n,i);break e}else if(r!==i){i=ti(Error(P(424)),t),t=Nh(e,t,r,n,i);break e}else for(dt=Dn(t.stateNode.containerInfo.firstChild),ft=t,ue=!0,Ot=null,n=Vg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===i){t=fn(e,t,n);break e}Ye(e,t,r,n)}t=t.child}return t;case 5:return Kg(t),e===null&&qu(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Vu(r,i)?s=null:o!==null&&Vu(r,o)&&(t.flags|=32),_v(e,t),Ye(e,t,s,n),t.child;case 6:return e===null&&qu(t),null;case 13:return Ev(e,t,n);case 4:return hd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zr(t,null,r,n):Ye(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),kh(e,t,r,i,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ie(Qs,r._currentValue),r._currentValue=s,o!==null)if($t(o.value,s)){if(o.children===i.children&&!ot.current){t=fn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=ln(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xu(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(P(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xu(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ye(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vr(t,n),i=Tt(i),r=r(i),t.flags|=1,Ye(e,t,r,n),t.child;case 14:return r=t.type,i=bt(r,t.pendingProps),i=bt(r.type,i),Th(e,t,r,i,n);case 15:return vv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),Ts(e,t),t.tag=1,st(r)?(e=!0,Hs(t)):e=!1,Vr(t,n),pv(t,r,i),Zu(t,r,i,n),nc(null,t,r,!0,e,n);case 19:return Cv(e,t,n);case 22:return yv(e,t,n)}throw Error(P(156,t.tag))};function jv(e,t){return dg(e,t)}function Hw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new Hw(e,t,n,r)}function Nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vw(e){if(typeof e=="function")return Nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qc)return 11;if(e===Kc)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ps(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Nd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Pr:return ur(n.children,i,o,t);case Gc:s=8,i|=8;break;case Su:return e=xt(12,n,t,i|2),e.elementType=Su,e.lanes=o,e;case xu:return e=xt(13,n,t,i),e.elementType=xu,e.lanes=o,e;case ku:return e=xt(19,n,t,i),e.elementType=ku,e.lanes=o,e;case Km:return Fl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gm:s=10;break e;case Qm:s=9;break e;case Qc:s=11;break e;case Kc:s=14;break e;case En:s=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=xt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ur(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function Fl(e,t,n,r){return e=xt(22,e,r,t),e.elementType=Km,e.lanes=n,e.stateNode={isHidden:!1},e}function Qa(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function Ka(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gw(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pd(e,t,n,r,i,o,s,l,a){return e=new Gw(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=xt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fd(o),e}function Qw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zv(e){if(!e)return Bn;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(st(n))return zg(e,n,t)}return t}function $v(e,t,n,r,i,o,s,l,a){return e=Pd(n,r,!0,e,i,o,s,l,a),e.context=zv(null),n=e.current,r=Xe(),i=An(n),o=ln(r,i),o.callback=t??null,On(n,o,i),e.current.lanes=i,No(e,i,r),lt(e,r),e}function jl(e,t,n,r){var i=t.current,o=Xe(),s=An(i);return n=zv(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=On(i,t,s),e!==null&&(jt(e,i,s,o),Ss(e,i,s)),s}function rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rd(e,t){jh(e,t),(e=e.alternate)&&jh(e,t)}var Uv=typeof reportError=="function"?reportError:function(e){console.error(e)};function bd(e){this._internalRoot=e}zl.prototype.render=bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));jl(e,t,null,null)};zl.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){jl(null,e,null,null)}),t[cn]=null}};function zl(e){this._internalRoot=e}zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=yg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&wg(e)}};function Dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zh(){}function Kw(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rl(s);o.call(u)}}var s=$v(t,r,e,0,null,!1,!1,"",zh);return e._reactRootContainer=s,e[cn]=s.current,io(e.nodeType===8?e.parentNode:e),mr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=rl(a);l.call(u)}}var a=Pd(e,0,!1,null,null,!1,!1,"",zh);return e._reactRootContainer=a,e[cn]=a.current,io(e.nodeType===8?e.parentNode:e),mr(function(){jl(t,a,n,r)}),a}function Ul(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=rl(s);l.call(a)}}jl(t,s,e,i)}else s=Kw(n,t,e,i,r);return rl(s)}gg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Di(t.pendingLanes);n!==0&&(Xc(t,n|1),lt(t,ye()),!(K&6)&&(ni=ye()+500,Yn()))}break;case 13:mr(function(){var r=dn(e,1);if(r!==null){var i=Xe();jt(r,e,1,i)}}),Rd(e,1)}};Jc=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=Xe();jt(t,e,134217728,n)}Rd(e,134217728)}};vg=function(e){if(e.tag===13){var t=An(e),n=dn(e,t);if(n!==null){var r=Xe();jt(n,e,t,r)}Rd(e,t)}};yg=function(){return J};_g=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Au=function(e,t,n){switch(t){case"input":if(Nu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bl(r);if(!i)throw Error(P(90));qm(r),Nu(r,i)}}}break;case"textarea":Jm(e,n);break;case"select":t=n.value,t!=null&&Ur(e,!!n.multiple,t,!1)}};og=kd;sg=mr;var Yw={usingClientEntryPoint:!1,Events:[Ro,Or,bl,rg,ig,kd]},Si={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qw={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ug(e),e===null?null:e.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!os.isDisabled&&os.supportsFiber)try{Il=os.inject(qw),qt=os}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yw;pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dd(t))throw Error(P(200));return Qw(e,t,null,n)};pt.createRoot=function(e,t){if(!Dd(e))throw Error(P(299));var n=!1,r="",i=Uv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Pd(e,1,!1,null,null,n,!1,r,i),e[cn]=t.current,io(e.nodeType===8?e.parentNode:e),new bd(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=ug(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return mr(e)};pt.hydrate=function(e,t,n){if(!$l(t))throw Error(P(200));return Ul(null,e,t,!0,n)};pt.hydrateRoot=function(e,t,n){if(!Dd(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Uv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=$v(t,null,e,1,n??null,i,!1,o,s),e[cn]=t.current,io(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new zl(t)};pt.render=function(e,t,n){if(!$l(t))throw Error(P(200));return Ul(null,e,t,!1,n)};pt.unmountComponentAtNode=function(e){if(!$l(e))throw Error(P(40));return e._reactRootContainer?(mr(function(){Ul(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};pt.unstable_batchedUpdates=kd;pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Ul(e,t,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function Bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bv)}catch(e){console.error(e)}}Bv(),Bm.exports=pt;var Xw=Bm.exports,Wv,$h=Xw;Wv=$h.createRoot,$h.hydrateRoot;function Wn(e){function t(n,r){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=n,this.code=r}return t.prototype=new Error,t.prototype.name=e,t.prototype.constructor=t,t}const Jw=Wn("LaunchDarklyUnexpectedResponseError"),Zw=Wn("LaunchDarklyInvalidEnvironmentIdError"),eE=Wn("LaunchDarklyInvalidUserError"),tE=Wn("LaunchDarklyInvalidEventKeyError"),nE=Wn("LaunchDarklyInvalidArgumentError"),rE=Wn("LaunchDarklyFlagFetchError");for(var pe={LDUnexpectedResponseError:Jw,LDInvalidEnvironmentIdError:Zw,LDInvalidUserError:eE,LDInvalidEventKeyError:tE,LDInvalidArgumentError:nE,LDInvalidDataError:Wn("LaunchDarklyInvalidDataError"),LDFlagFetchError:rE,LDTimeoutError:Wn("LaunchDarklyTimeoutError"),isHttpErrorRecoverable:function(e){return!(e>=400&&e<500)||e===400||e===408||e===429}},iE=function(e){var t=Bh(e),n=t[0],r=t[1];return 3*(n+r)/4-r},oE=function(e){var t,n,r=Bh(e),i=r[0],o=r[1],s=new lE(function(u,d,c){return 3*(d+c)/4-c}(0,i,o)),l=0,a=o>0?i-4:i;for(n=0;n<a;n+=4)t=Et[e.charCodeAt(n)]<<18|Et[e.charCodeAt(n+1)]<<12|Et[e.charCodeAt(n+2)]<<6|Et[e.charCodeAt(n+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return o===2&&(t=Et[e.charCodeAt(n)]<<2|Et[e.charCodeAt(n+1)]>>4,s[l++]=255&t),o===1&&(t=Et[e.charCodeAt(n)]<<10|Et[e.charCodeAt(n+1)]<<4|Et[e.charCodeAt(n+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},sE=function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,l=n-r;s<l;s+=o)i.push(aE(e,s,s+o>l?l:s+o));return r===1?(t=e[n-1],i.push(Vt[t>>2]+Vt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Vt[t>>10]+Vt[t>>4&63]+Vt[t<<2&63]+"=")),i.join("")},Vt=[],Et=[],lE=typeof Uint8Array<"u"?Uint8Array:Array,Uh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kr=0;kr<64;++kr)Vt[kr]=Uh[kr],Et[Uh.charCodeAt(kr)]=kr;function Bh(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return n===-1&&(n=t),[n,n===t?0:4-n%4]}function aE(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(Vt[(i=r)>>18&63]+Vt[i>>12&63]+Vt[i>>6&63]+Vt[63&i]);return o.join("")}Et[45]=62,Et[95]=63;var uE={byteLength:iE,toByteArray:oE,fromByteArray:sE},Wh=Array.isArray,Hh=Object.keys,cE=Object.prototype.hasOwnProperty,dE=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){var r,i,o,s=Wh(t),l=Wh(n);if(s&&l){if((i=t.length)!=n.length)return!1;for(r=i;r--!=0;)if(!e(t[r],n[r]))return!1;return!0}if(s!=l)return!1;var a=t instanceof Date,u=n instanceof Date;if(a!=u)return!1;if(a&&u)return t.getTime()==n.getTime();var d=t instanceof RegExp,c=n instanceof RegExp;if(d!=c)return!1;if(d&&c)return t.toString()==n.toString();var f=Hh(t);if((i=f.length)!==Hh(n).length)return!1;for(r=i;r--!=0;)if(!cE.call(n,f[r]))return!1;for(r=i;r--!=0;)if(!e(t[o=f[r]],n[o]))return!1;return!0}return t!=t&&n!=n};const fE=["key","ip","country","email","firstName","lastName","avatar","name"];function Vh(e){const t=unescape(encodeURIComponent(e));return uE.fromByteArray(function(n){const r=[];for(let i=0;i<n.length;i++)r.push(n.charCodeAt(i));return r}(t))}function Ya(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var qa,$={appendUrlPath:function(e,t){return(e.endsWith("/")?e.substring(0,e.length-1):e)+(t.startsWith("/")?"":"/")+t},base64URLEncode:function(e){return Vh(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},btoa:Vh,clone:function(e){return JSON.parse(JSON.stringify(e))},deepEquals:function(e,t){return dE(e,t)},extend:function(...e){return e.reduce((t,n)=>({...t,...n}),{})},getLDUserAgentString:function(e){const t=e.version||"?";return e.userAgent+"/"+t},objectHasOwnProperty:Ya,onNextTick:function(e){setTimeout(e,0)},sanitizeContext:function(e){if(!e)return e;let t;return e.kind!==null&&e.kind!==void 0||fE.forEach(n=>{const r=e[n];r!==void 0&&typeof r!="string"&&(t=t||{...e},t[n]=String(r))}),t||e},transformValuesToVersionedValues:function(e){const t={};for(const n in e)Ya(e,n)&&(t[n]={value:e[n],version:0});return t},transformVersionedValuesToValues:function(e){const t={};for(const n in e)Ya(e,n)&&(t[n]=e[n].value);return t},wrapPromiseCallback:function(e,t){const n=e.then(r=>(t&&setTimeout(()=>{t(null,r)},0),r),r=>{if(!t)return Promise.reject(r);setTimeout(()=>{t(r,null)},0)});return t?void 0:n}},hE=new Uint8Array(16);function Gh(){if(!qa&&!(qa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qa(hE)}var pE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function il(e){return typeof e=="string"&&pE.test(e)}for(var Qh,Xa,Le=[],Ja=0;Ja<256;++Ja)Le.push((Ja+256).toString(16).substr(1));function Rs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Le[e[t+0]]+Le[e[t+1]]+Le[e[t+2]]+Le[e[t+3]]+"-"+Le[e[t+4]]+Le[e[t+5]]+"-"+Le[e[t+6]]+Le[e[t+7]]+"-"+Le[e[t+8]]+Le[e[t+9]]+"-"+Le[e[t+10]]+Le[e[t+11]]+Le[e[t+12]]+Le[e[t+13]]+Le[e[t+14]]+Le[e[t+15]]).toLowerCase();if(!il(n))throw TypeError("Stringified UUID is invalid");return n}var Za=0,eu=0;function Hv(e){if(!il(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function Vv(e,t,n){function r(i,o,s,l){if(typeof i=="string"&&(i=function(d){d=unescape(encodeURIComponent(d));for(var c=[],f=0;f<d.length;++f)c.push(d.charCodeAt(f));return c}(i)),typeof o=="string"&&(o=Hv(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+i.length);if(a.set(o),a.set(i,o.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,s){l=l||0;for(var u=0;u<16;++u)s[l+u]=a[u];return s}return Rs(a)}try{r.name=e}catch{}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function Kh(e){return 14+(e+64>>>9<<4)+1}function In(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Bl(e,t,n,r,i,o){return In((s=In(In(t,e),In(r,o)))<<(l=i)|s>>>32-l,n);var s,l}function Be(e,t,n,r,i,o,s){return Bl(t&n|~t&r,e,t,i,o,s)}function We(e,t,n,r,i,o,s){return Bl(t&r|n&~r,e,t,i,o,s)}function He(e,t,n,r,i,o,s){return Bl(t^n^r,e,t,i,o,s)}function Ve(e,t,n,r,i,o,s){return Bl(n^(t|~r),e,t,i,o,s)}var mE=Vv("v3",48,function(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(r){for(var i=[],o=32*r.length,s="0123456789abcdef",l=0;l<o;l+=8){var a=r[l>>5]>>>l%32&255,u=parseInt(s.charAt(a>>>4&15)+s.charAt(15&a),16);i.push(u)}return i}(function(r,i){r[i>>5]|=128<<i%32,r[Kh(i)-1]=i;for(var o=1732584193,s=-271733879,l=-1732584194,a=271733878,u=0;u<r.length;u+=16){var d=o,c=s,f=l,m=a;o=Be(o,s,l,a,r[u],7,-680876936),a=Be(a,o,s,l,r[u+1],12,-389564586),l=Be(l,a,o,s,r[u+2],17,606105819),s=Be(s,l,a,o,r[u+3],22,-1044525330),o=Be(o,s,l,a,r[u+4],7,-176418897),a=Be(a,o,s,l,r[u+5],12,1200080426),l=Be(l,a,o,s,r[u+6],17,-1473231341),s=Be(s,l,a,o,r[u+7],22,-45705983),o=Be(o,s,l,a,r[u+8],7,1770035416),a=Be(a,o,s,l,r[u+9],12,-1958414417),l=Be(l,a,o,s,r[u+10],17,-42063),s=Be(s,l,a,o,r[u+11],22,-1990404162),o=Be(o,s,l,a,r[u+12],7,1804603682),a=Be(a,o,s,l,r[u+13],12,-40341101),l=Be(l,a,o,s,r[u+14],17,-1502002290),o=We(o,s=Be(s,l,a,o,r[u+15],22,1236535329),l,a,r[u+1],5,-165796510),a=We(a,o,s,l,r[u+6],9,-1069501632),l=We(l,a,o,s,r[u+11],14,643717713),s=We(s,l,a,o,r[u],20,-373897302),o=We(o,s,l,a,r[u+5],5,-701558691),a=We(a,o,s,l,r[u+10],9,38016083),l=We(l,a,o,s,r[u+15],14,-660478335),s=We(s,l,a,o,r[u+4],20,-405537848),o=We(o,s,l,a,r[u+9],5,568446438),a=We(a,o,s,l,r[u+14],9,-1019803690),l=We(l,a,o,s,r[u+3],14,-187363961),s=We(s,l,a,o,r[u+8],20,1163531501),o=We(o,s,l,a,r[u+13],5,-1444681467),a=We(a,o,s,l,r[u+2],9,-51403784),l=We(l,a,o,s,r[u+7],14,1735328473),o=He(o,s=We(s,l,a,o,r[u+12],20,-1926607734),l,a,r[u+5],4,-378558),a=He(a,o,s,l,r[u+8],11,-2022574463),l=He(l,a,o,s,r[u+11],16,1839030562),s=He(s,l,a,o,r[u+14],23,-35309556),o=He(o,s,l,a,r[u+1],4,-1530992060),a=He(a,o,s,l,r[u+4],11,1272893353),l=He(l,a,o,s,r[u+7],16,-155497632),s=He(s,l,a,o,r[u+10],23,-1094730640),o=He(o,s,l,a,r[u+13],4,681279174),a=He(a,o,s,l,r[u],11,-358537222),l=He(l,a,o,s,r[u+3],16,-722521979),s=He(s,l,a,o,r[u+6],23,76029189),o=He(o,s,l,a,r[u+9],4,-640364487),a=He(a,o,s,l,r[u+12],11,-421815835),l=He(l,a,o,s,r[u+15],16,530742520),o=Ve(o,s=He(s,l,a,o,r[u+2],23,-995338651),l,a,r[u],6,-198630844),a=Ve(a,o,s,l,r[u+7],10,1126891415),l=Ve(l,a,o,s,r[u+14],15,-1416354905),s=Ve(s,l,a,o,r[u+5],21,-57434055),o=Ve(o,s,l,a,r[u+12],6,1700485571),a=Ve(a,o,s,l,r[u+3],10,-1894986606),l=Ve(l,a,o,s,r[u+10],15,-1051523),s=Ve(s,l,a,o,r[u+1],21,-2054922799),o=Ve(o,s,l,a,r[u+8],6,1873313359),a=Ve(a,o,s,l,r[u+15],10,-30611744),l=Ve(l,a,o,s,r[u+6],15,-1560198380),s=Ve(s,l,a,o,r[u+13],21,1309151649),o=Ve(o,s,l,a,r[u+4],6,-145523070),a=Ve(a,o,s,l,r[u+11],10,-1120210379),l=Ve(l,a,o,s,r[u+2],15,718787259),s=Ve(s,l,a,o,r[u+9],21,-343485551),o=In(o,d),s=In(s,c),l=In(l,f),a=In(a,m)}return[o,s,l,a]}(function(r){if(r.length===0)return[];for(var i=8*r.length,o=new Uint32Array(Kh(i)),s=0;s<i;s+=8)o[s>>5]|=(255&r[s/8])<<s%32;return o}(e),8*e.length))}),gE=mE;function vE(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function tu(e,t){return e<<t|e>>>32-t}var yE=Vv("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),l=new Array(s),a=0;a<s;++a){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=e[64*a+4*d]<<24|e[64*a+4*d+1]<<16|e[64*a+4*d+2]<<8|e[64*a+4*d+3];l[a]=u}l[s-1][14]=8*(e.length-1)/Math.pow(2,32),l[s-1][14]=Math.floor(l[s-1][14]),l[s-1][15]=8*(e.length-1)&4294967295;for(var c=0;c<s;++c){for(var f=new Uint32Array(80),m=0;m<16;++m)f[m]=l[c][m];for(var v=16;v<80;++v)f[v]=tu(f[v-3]^f[v-8]^f[v-14]^f[v-16],1);for(var y=n[0],E=n[1],p=n[2],h=n[3],g=n[4],w=0;w<80;++w){var S=Math.floor(w/20),x=tu(y,5)+vE(S,E,p,h)+g+t[S]+f[w]>>>0;g=h,h=p,p=tu(E,30)>>>0,E=y,y=x}n[0]=n[0]+y>>>0,n[1]=n[1]+E>>>0,n[2]=n[2]+p>>>0,n[3]=n[3]+h>>>0,n[4]=n[4]+g>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}),_E=yE,Od=Object.freeze({__proto__:null,v1:function(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||Qh,s=e.clockseq!==void 0?e.clockseq:Xa;if(o==null||s==null){var l=e.random||(e.rng||Gh)();o==null&&(o=Qh=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),s==null&&(s=Xa=16383&(l[6]<<8|l[7]))}var a=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:eu+1,d=a-Za+(u-eu)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||a>Za)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Za=a,eu=u,Xa=s;var c=(1e4*(268435455&(a+=122192928e5))+u)%4294967296;i[r++]=c>>>24&255,i[r++]=c>>>16&255,i[r++]=c>>>8&255,i[r++]=255&c;var f=a/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=255&f,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var m=0;m<6;++m)i[r+m]=o[m];return t||Rs(i)},v3:gE,v4:function(e,t,n){var r=(e=e||{}).random||(e.rng||Gh)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Rs(r)},v5:_E,NIL:"00000000-0000-0000-0000-000000000000",version:function(e){if(!il(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)},validate:il,stringify:Rs,parse:Hv});const xi=["debug","info","warn","error","none"];var Ld={commonBasicLogger:function(e,t){if(e&&e.destination&&typeof e.destination!="function")throw new Error("destination for basicLogger was set to a non-function");function n(u){return function(d){console&&console[u]&&console[u].call(console,d)}}const r=e&&e.destination?[e.destination,e.destination,e.destination,e.destination]:[n("log"),n("info"),n("warn"),n("error")],i=!(!e||!e.destination),o=e&&e.prefix!==void 0&&e.prefix!==null?e.prefix:"[LaunchDarkly] ";let s=1;if(e&&e.level)for(let u=0;u<xi.length;u++)xi[u]===e.level&&(s=u);function l(u,d,c){if(c.length<1)return;let f;const m=i?d+": "+o:o;if(c.length!==1&&t){const v=[...c];v[0]=m+v[0],f=t(...v)}else f=m+c[0];try{r[u](f)}catch(v){console&&console.log&&console.log("[LaunchDarkly] Configured logger's "+d+" method threw an exception: "+v)}}const a={};for(let u=0;u<xi.length;u++){const d=xi[u];if(d!=="none")if(u<s)a[d]=()=>{};else{const c=u;a[d]=function(){l(c,d,arguments)}}}return a},validateLogger:function(e){xi.forEach(t=>{if(t!=="none"&&(!e[t]||typeof e[t]!="function"))throw new Error("Provided logger instance must support logger."+t+"(...) method")})}};function ss(e){return e&&e.message?e.message:typeof e=="string"||e instanceof String?e:JSON.stringify(e)}const Tr=" Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initialize-the-client for instructions on SDK initialization.";var j={bootstrapInvalid:function(){return"LaunchDarkly bootstrap data is not available because the back end could not read the flags."},bootstrapOldFormat:function(){return"LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. Events may not be sent correctly."+Tr},clientInitialized:function(){return"LaunchDarkly client initialized"},clientNotReady:function(){return"LaunchDarkly client is not ready"},debugEnqueueingEvent:function(e){return'enqueueing "'+e+'" event'},debugPostingDiagnosticEvent:function(e){return"sending diagnostic event ("+e.kind+")"},debugPostingEvents:function(e){return"sending "+e+" events"},debugStreamDelete:function(e){return'received streaming deletion for flag "'+e+'"'},debugStreamDeleteIgnored:function(e){return'received streaming deletion for flag "'+e+'" but ignored due to version check'},debugStreamPatch:function(e){return'received streaming update for flag "'+e+'"'},debugStreamPatchIgnored:function(e){return'received streaming update for flag "'+e+'" but ignored due to version check'},debugStreamPing:function(){return"received ping message from stream"},debugPolling:function(e){return"polling for feature flags at "+e},debugStreamPut:function(){return"received streaming update for all flags"},deprecated:function(e,t){return t?'"'+e+'" is deprecated, please use "'+t+'"':'"'+e+'" is deprecated'},environmentNotFound:function(){return"Environment not found. Double check that you specified a valid environment/client-side ID."+Tr},environmentNotSpecified:function(){return"No environment/client-side ID was specified."+Tr},errorFetchingFlags:function(e){return"Error fetching flag settings: "+ss(e)},eventCapacityExceeded:function(){return"Exceeded event queue capacity. Increase capacity to avoid dropping events."},eventWithoutContext:function(){return"Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"},httpErrorMessage:function(e,t,n){return"Received error "+e+(e===401?" (invalid SDK key)":"")+" for "+t+" - "+(pe.isHttpErrorRecoverable(e)?n:"giving up permanently")},httpUnavailable:function(){return"Cannot make HTTP requests in this environment."+Tr},identifyDisabled:function(){return"identify() has no effect here; it must be called on the main client instance"},inspectorMethodError:(e,t)=>`an inspector: "${t}" of type: "${e}" generated an exception`,invalidContentType:function(e){return'Expected application/json content type but got "'+e+'"'},invalidData:function(){return"Invalid data received from LaunchDarkly; connection may have been interrupted"},invalidInspector:(e,t)=>`an inspector: "${t}" of an invalid type (${e}) was configured`,invalidKey:function(){return"Event key must be a string"},invalidMetricValue:e=>`The track function was called with a non-numeric "metricValue" (${e}), only numeric metric values are supported.`,invalidContext:function(){return"Invalid context specified."+Tr},invalidTagValue:e=>`Config option "${e}" must only contain letters, numbers, ., _ or -.`,localStorageUnavailable:function(e){return"local storage is unavailable: "+ss(e)},networkError:e=>"network error"+(e?" ("+e+")":""),optionBelowMinimum:(e,t,n)=>'Config option "'+e+'" was set to '+t+", changing to minimum value of "+n,streamClosing:function(){return"Closing stream connection"},streamConnecting:function(e){return"Opening stream connection to "+e},streamError:function(e,t){return"Error on stream connection: "+ss(e)+", will continue retrying after "+t+" milliseconds."},tagValueTooLong:e=>`Value of "${e}" was longer than 64 characters and was discarded.`,unknownCustomEventKey:function(e){return'Custom event "'+e+'" does not exist'},unknownOption:e=>'Ignoring unknown config option "'+e+'"',contextNotSpecified:function(){return"No context specified."+Tr},unrecoverableStreamError:e=>`Error on stream connection ${ss(e)}, giving up permanently`,wrongOptionType:(e,t,n)=>'Config option "'+e+'" should be of type '+t+", got "+n+", using default value",wrongOptionTypeBoolean:(e,t)=>'Config option "'+e+'" should be a boolean, got '+t+", converting to boolean"};const{validateLogger:wE}=Ld,Yh={baseUrl:{default:"https://app.launchdarkly.com"},streamUrl:{default:"https://clientstream.launchdarkly.com"},eventsUrl:{default:"https://events.launchdarkly.com"},sendEvents:{default:!0},streaming:{type:"boolean"},sendLDHeaders:{default:!0},requestHeaderTransform:{type:"function"},sendEventsOnlyForVariation:{default:!1},useReport:{default:!1},evaluationReasons:{default:!1},eventCapacity:{default:100,minimum:1},flushInterval:{default:2e3,minimum:2e3},samplingInterval:{default:0,minimum:0},streamReconnectDelay:{default:1e3,minimum:0},allAttributesPrivate:{default:!1},privateAttributes:{default:[]},bootstrap:{type:"string|object"},diagnosticRecordingInterval:{default:9e5,minimum:2e3},diagnosticOptOut:{default:!1},wrapperName:{type:"string"},wrapperVersion:{type:"string"},stateProvider:{type:"object"},application:{validator:function(e,t,n){const r={};return t.id&&(r.id=qh(`${e}.id`,t.id,n)),t.version&&(r.version=qh(`${e}.version`,t.version,n)),r}},inspectors:{default:[]}},EE=/^(\w|\.|-)+$/;function nu(e){return e&&e.replace(/\/+$/,"")}function qh(e,t,n){if(typeof t=="string"&&t.match(EE)){if(!(t.length>64))return t;n.warn(j.tagValueTooLong(e))}else n.warn(j.invalidTagValue(e))}var Ad={baseOptionDefs:Yh,validate:function(e,t,n,r){const i=$.extend({logger:{default:r}},Yh,n),o={};function s(a){$.onNextTick(()=>{t&&t.maybeReportError(new pe.LDInvalidArgumentError(a))})}let l=$.extend({},e||{});return function(a){const u=a;Object.keys(o).forEach(d=>{if(u[d]!==void 0){const c=o[d];r&&r.warn(j.deprecated(d,c)),c&&(u[c]===void 0&&(u[c]=u[d]),delete u[d])}})}(l),l=function(a){const u=$.extend({},a);return Object.keys(i).forEach(d=>{u[d]!==void 0&&u[d]!==null||(u[d]=i[d]&&i[d].default)}),u}(l),l=function(a){const u=$.extend({},a),d=c=>{if(c===null)return"any";if(c===void 0)return;if(Array.isArray(c))return"array";const f=typeof c;return f==="boolean"||f==="string"||f==="number"||f==="function"?f:"object"};return Object.keys(a).forEach(c=>{const f=a[c];if(f!=null){const m=i[c];if(m===void 0)s(j.unknownOption(c));else{const v=m.type||d(m.default),y=m.validator;if(y){const E=y(c,a[c],r);E!==void 0?u[c]=E:delete u[c]}else if(v!=="any"){const E=v.split("|"),p=d(f);E.indexOf(p)<0?v==="boolean"?(u[c]=!!f,s(j.wrongOptionTypeBoolean(c,p))):(s(j.wrongOptionType(c,v,p)),u[c]=m.default):p==="number"&&m.minimum!==void 0&&f<m.minimum&&(s(j.optionBelowMinimum(c,f,m.minimum)),u[c]=m.minimum)}}}}),u.baseUrl=nu(u.baseUrl),u.streamUrl=nu(u.streamUrl),u.eventsUrl=nu(u.eventsUrl),u}(l),wE(l.logger),l},getTags:function(e){const t={};return e&&(e.application&&e.application.id!==void 0&&e.application.id!==null&&(t["application-id"]=[e.application.id]),e.application&&e.application.version!==void 0&&e.application.id!==null&&(t["application-version"]=[e.application.version])),t}};const{getLDUserAgentString:CE}=$;var Md={getLDHeaders:function(e,t){if(t&&!t.sendLDHeaders)return{};const n={};n[e.userAgentHeaderName||"User-Agent"]=CE(e),t&&t.wrapperName&&(n["X-LaunchDarkly-Wrapper"]=t.wrapperVersion?t.wrapperName+"/"+t.wrapperVersion:t.wrapperName);const r=Ad.getTags(t),i=Object.keys(r);return i.length&&(n["x-launchdarkly-tags"]=i.sort().map(o=>Array.isArray(r[o])?r[o].sort().map(s=>`${o}/${s}`):[`${o}/${r[o]}`]).reduce((o,s)=>o.concat(s),[]).join(" ")),n},transformHeaders:function(e,t){return t&&t.requestHeaderTransform?t.requestHeaderTransform({...e}):e}};const{v1:SE}=Od,{getLDHeaders:xE,transformHeaders:kE}=Md;var Gv=function(e,t,n){const r=$.extend({"Content-Type":"application/json"},xE(e,n)),i={};return i.sendEvents=(o,s,l)=>{if(!e.httpRequest)return Promise.resolve();const a=JSON.stringify(o),u=l?null:SE();return function d(c){const f=l?r:$.extend({},r,{"X-LaunchDarkly-Event-Schema":"4","X-LaunchDarkly-Payload-ID":u});return e.httpRequest("POST",s,kE(f,n),a).promise.then(m=>{if(m)return m.status>=400&&pe.isHttpErrorRecoverable(m.status)&&c?d(!1):function(v){const y={status:v.status},E=v.header("date");if(E){const p=Date.parse(E);p&&(y.serverTime=p)}return y}(m)}).catch(()=>c?d(!1):Promise.reject())}(!0).catch(()=>{})},i};const{commonBasicLogger:TE}=Ld;function Xh(e){return typeof e=="string"&&e!=="kind"&&e.match(/^(\w|\.|-)+$/)}function Jh(e){return e.includes("%")||e.includes(":")?e.replace(/%/g,"%25").replace(/:/g,"%3A"):e}var Wl={checkContext:function(e,t){if(e){if(t&&(e.kind===void 0||e.kind===null))return e.key!==void 0&&e.key!==null;const n=e.key,r=e.kind===void 0?"user":e.kind,i=Xh(r),o=r==="multi"||n!=null&&n!=="";if(r==="multi"){const s=Object.keys(e).filter(l=>l!=="kind");return o&&s.every(l=>Xh(l))&&s.every(l=>{const a=e[l].key;return a!=null&&a!==""})}return o&&i}return!1},getContextKeys:function(e,t=TE()){if(!e)return;const n={},{kind:r,key:i}=e;switch(r){case void 0:n.user=`${i}`;break;case"multi":Object.entries(e).filter(([o])=>o!=="kind").forEach(([o,s])=>{s&&s.key&&(n[o]=s.key)});break;case null:t.warn(`null is not a valid context kind: ${e}`);break;case"":t.warn(`'' is not a valid context kind: ${e}`);break;default:n[r]=`${i}`}return n},getContextKinds:function(e){return e?e.kind===null||e.kind===void 0?["user"]:e.kind!=="multi"?[e.kind]:Object.keys(e).filter(t=>t!=="kind"):[]},getCanonicalKey:function(e){if(e){if((e.kind===void 0||e.kind===null||e.kind==="user")&&e.key)return e.key;if(e.kind!=="multi"&&e.key)return`${e.kind}:${Jh(e.key)}`;if(e.kind==="multi")return Object.keys(e).sort().filter(t=>t!=="kind").map(t=>`${t}:${Jh(e[t].key)}`).join(":")}}};const{getContextKinds:IE}=Wl;var NE=function(){const e={};let t=0,n=0,r={},i={};return e.summarizeEvent=o=>{if(o.kind==="feature"){const s=o.key+":"+(o.variation!==null&&o.variation!==void 0?o.variation:"")+":"+(o.version!==null&&o.version!==void 0?o.version:""),l=r[s];let a=i[o.key];a||(a=new Set,i[o.key]=a),function(u){return u.context?IE(u.context):u.contextKeys?Object.keys(u.contextKeys):[]}(o).forEach(u=>a.add(u)),l?l.count=l.count+1:r[s]={count:1,key:o.key,version:o.version,variation:o.variation,value:o.value,default:o.default},(t===0||o.creationDate<t)&&(t=o.creationDate),o.creationDate>n&&(n=o.creationDate)}},e.getSummary=()=>{const o={};let s=!0;for(const l of Object.values(r)){let a=o[l.key];a||(a={default:l.default,counters:[],contextKinds:[...i[l.key]]},o[l.key]=a);const u={value:l.value,count:l.count};l.variation!==void 0&&l.variation!==null&&(u.variation=l.variation),l.version!==void 0&&l.version!==null?u.version=l.version:u.unknown=!0,a.counters.push(u),s=!1}return s?null:{startDate:t,endDate:n,features:o}},e.clearSummary=()=>{t=0,n=0,r={},i={}},e};function Qv(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function Zh(e){return(e.startsWith("/")?e.substring(1):e).split("/").map(t=>t.indexOf("~")>=0?t.replace(/~1/g,"/").replace(/~0/g,"~"):t)}function ep(e){return!e.startsWith("/")}function tp(e,t){const n=ep(e),r=ep(t);if(n&&r)return e===t;if(n){const i=Zh(t);return i.length===1&&e===i[0]}if(r){const i=Zh(e);return i.length===1&&t===i[0]}return e===t}function np(e){return`/${Qv(e)}`}var ru={cloneExcluding:function(e,t){const n=[],r={},i=[];for(n.push(...Object.keys(e).map(o=>({key:o,ptr:np(o),source:e,parent:r,visited:[e]})));n.length;){const o=n.pop();if(t.some(s=>tp(s,o.ptr)))i.push(o.ptr);else{const s=o.source[o.key];if(s===null)o.parent[o.key]=s;else if(Array.isArray(s))o.parent[o.key]=[...s];else if(typeof s=="object"){if(o.visited.includes(s))continue;o.parent[o.key]={},n.push(...Object.keys(s).map(l=>{return{key:l,ptr:(a=o.ptr,u=Qv(l),`${a}/${u}`),source:s,parent:o.parent[o.key],visited:[...o.visited,s]};var a,u}))}else o.parent[o.key]=s}}return{cloned:r,excluded:i.sort()}},compare:tp,literalToReference:np},PE=function(e){const t={},n=e.allAttributesPrivate,r=e.privateAttributes||[],i=["key","kind","_meta","anonymous"],o=["name","ip","firstName","lastName","email","avatar","country"],s=(l,a)=>{if(typeof l!="object"||l===null||Array.isArray(l))return;const{cloned:u,excluded:d}=ru.cloneExcluding(l,((c,f)=>(n||f&&c.anonymous?Object.keys(c):[...r,...c._meta&&c._meta.privateAttributes||[]]).filter(m=>!i.some(v=>ru.compare(m,v))))(l,a));return u.key=String(u.key),d.length&&(u._meta||(u._meta={}),u._meta.redactedAttributes=d),u._meta&&(delete u._meta.privateAttributes,Object.keys(u._meta).length===0&&delete u._meta),u.anonymous!==void 0&&(u.anonymous=!!u.anonymous),u};return t.filter=(l,a=!1)=>l.kind===void 0||l.kind===null?s((u=>{const d={...u.custom||{},kind:"user",key:u.key};u.anonymous!==void 0&&(d.anonymous=!!u.anonymous);for(const c of o)delete d[c],u[c]!==void 0&&u[c]!==null&&(d[c]=String(u[c]));return u.privateAttributeNames!==void 0&&u.privateAttributeNames!==null&&(d._meta=d._meta||{},d._meta.privateAttributes=u.privateAttributeNames.map(c=>c.startsWith("/")?ru.literalToReference(c):c)),d})(l),a):l.kind==="multi"?((u,d)=>{const c={kind:u.kind},f=Object.keys(u);for(const m of f)if(m!=="kind"){const v=s(u[m],d);v&&(c[m]=v)}return c})(l,a):s(l,a),t};const{getContextKeys:RE}=Wl;var bE=function(e,t,n,r=null,i=null,o=null){const s={},l=o||Gv(e,n,t),a=$.appendUrlPath(t.eventsUrl,"/events/bulk/"+n),u=NE(),d=PE(t),c=t.samplingInterval,f=t.eventCapacity,m=t.flushInterval,v=t.logger;let y,E=[],p=0,h=!1,g=!1;function w(){return c===0||Math.floor(Math.random()*c)===0}function S(C){const k=$.extend({},C);return C.kind==="identify"?k.context=d.filter(C.context):C.kind==="feature"?k.context=d.filter(C.context,!0):(k.contextKeys=RE(C.context,v),delete k.context),C.kind==="feature"&&(delete k.trackEvents,delete k.debugEventsUntilDate),k}function x(C){E.length<f?(E.push(C),g=!1):(g||(g=!0,v.warn(j.eventCapacityExceeded())),r&&r.incrementDroppedEvents())}return s.enqueue=function(C){if(h)return;let k=!1,I=!1;var N;if(u.summarizeEvent(C),C.kind==="feature"?w()&&(k=!!C.trackEvents,I=!!(N=C).debugEventsUntilDate&&N.debugEventsUntilDate>p&&N.debugEventsUntilDate>new Date().getTime()):k=w(),k&&x(S(C)),I){const M=$.extend({},C,{kind:"debug"});M.context=d.filter(M.context),delete M.trackEvents,delete M.debugEventsUntilDate,x(M)}},s.flush=function(){if(h)return Promise.resolve();const C=E,k=u.getSummary();return u.clearSummary(),k&&(k.kind="summary",C.push(k)),r&&r.setEventsInLastBatch(C.length),C.length===0?Promise.resolve():(E=[],v.debug(j.debugPostingEvents(C.length)),l.sendEvents(C,a).then(I=>{I&&(I.serverTime&&(p=I.serverTime),pe.isHttpErrorRecoverable(I.status)||(h=!0),I.status>=400&&$.onNextTick(()=>{i.maybeReportError(new pe.LDUnexpectedResponseError(j.httpErrorMessage(I.status,"event posting","some events were dropped")))}))}))},s.start=function(){const C=()=>{s.flush(),y=setTimeout(C,m)};y=setTimeout(C,m)},s.stop=function(){clearTimeout(y)},s},DE=function(e){const t={},n={};return t.on=function(r,i,o){n[r]=n[r]||[],n[r]=n[r].concat({handler:i,context:o})},t.off=function(r,i,o){if(n[r])for(let s=0;s<n[r].length;s++)n[r][s].handler===i&&n[r][s].context===o&&(n[r]=n[r].slice(0,s).concat(n[r].slice(s+1)))},t.emit=function(r){if(!n[r])return;const i=n[r].slice(0);for(let o=0;o<i.length;o++)i[o].handler.apply(i[o].context,Array.prototype.slice.call(arguments,1))},t.getEvents=function(){return Object.keys(n)},t.getEventListenerCount=function(r){return n[r]?n[r].length:0},t.maybeReportError=function(r){r&&(n.error?this.emit("error",r):(e||console).error(r.message))},t};const ls="ready",iu="initialized",ou="failed";var OE=function(e){let t=!1,n=!1,r=null,i=null;const o=new Promise(s=>{const l=()=>{e.off(ls,l),s()};e.on(ls,l)}).catch(()=>{});return{getInitializationPromise:()=>i||(t?Promise.resolve():n?Promise.reject(r):(i=new Promise((s,l)=>{const a=()=>{e.off(iu,a),s()},u=d=>{e.off(ou,u),l(d)};e.on(iu,a),e.on(ou,u)}),i)),getReadyPromise:()=>o,signalSuccess:()=>{t||n||(t=!0,e.emit(iu),e.emit(ls))},signalFailure:s=>{t||n||(n=!0,r=s,e.emit(ou,s),e.emit(ls)),e.maybeReportError(s)}}},LE=function(e,t,n,r){const i={};function o(){let s="";const l=r.getContext();return l&&(s=n||$.btoa(JSON.stringify(l))),"ld:"+t+":"+s}return i.loadFlags=()=>e.get(o()).then(s=>{if(s==null)return null;try{let l=JSON.parse(s);if(l){const a=l.$schema;a===void 0||a<1?l=$.transformValuesToVersionedValues(l):delete l.$schema}return l}catch{return i.clearFlags().then(()=>null)}}),i.saveFlags=s=>{const l=$.extend({},s,{$schema:1});return e.set(o(),JSON.stringify(l))},i.clearFlags=()=>e.clear(o()),i},AE=function(e,t){const n={};let r=!1;const i=o=>{r||(r=!0,t.warn(j.localStorageUnavailable(o)))};return n.isEnabled=()=>!!e,n.get=o=>new Promise(s=>{e?e.get(o).then(s).catch(l=>{i(l),s(void 0)}):s(void 0)}),n.set=(o,s)=>new Promise(l=>{e?e.set(o,s).then(()=>l(!0)).catch(a=>{i(a),l(!1)}):l(!1)}),n.clear=o=>new Promise(s=>{e?e.clear(o).then(()=>s(!0)).catch(l=>{i(l),s(!1)}):s(!1)}),n};const{appendUrlPath:rp,base64URLEncode:ME,objectHasOwnProperty:FE}=$,{getLDHeaders:jE,transformHeaders:zE}=Md,{isHttpErrorRecoverable:$E}=pe;var UE=function(e,t,n,r){const i=t.streamUrl,o=t.logger,s={},l=rp(i,"/eval/"+n),a=t.useReport,u=t.evaluationReasons,d=t.streamReconnectDelay,c=jE(e,t);let f,m=!1,v=null,y=null,E=null,p=null,h=null,g=0;function w(){const N=(M=function(){const G=d*Math.pow(2,g);return G>3e4?3e4:G}(),M-Math.trunc(.5*Math.random()*M));var M;return g+=1,N}function S(N){if(N.status&&typeof N.status=="number"&&!$E(N.status))return k(),o.error(j.unrecoverableStreamError(N)),void(y&&(clearTimeout(y),y=null));const M=w();m||(o.warn(j.streamError(N,M)),m=!0),I(!1),k(),x(M)}function x(N){y||(N?y=setTimeout(C,N):C())}function C(){let N;y=null;let M="";const G={headers:c,readTimeoutMillis:3e5};if(e.eventSourceFactory){p!=null&&(M="h="+p),a?e.eventSourceAllowsReport?(N=l,G.method="REPORT",G.headers["Content-Type"]="application/json",G.body=JSON.stringify(E)):(N=rp(i,"/ping/"+n),M=""):N=l+"/"+ME(JSON.stringify(E)),G.headers=zE(G.headers,t),u&&(M=M+(M?"&":"")+"withReasons=true"),N=N+(M?"?":"")+M,k(),o.info(j.streamConnecting(N)),f=new Date().getTime(),v=e.eventSourceFactory(N,G);for(const Ee in h)FE(h,Ee)&&v.addEventListener(Ee,h[Ee]);v.onerror=S,v.onopen=()=>{g=0}}}function k(){v&&(o.info(j.streamClosing()),v.close(),v=null)}function I(N){f&&r&&r.recordStreamInit(f,!N,new Date().getTime()-f),f=null}return s.connect=function(N,M,G){E=N,p=M,h={};for(const Ee in G||{})h[Ee]=function(Te){m=!1,I(!0),G[Ee]&&G[Ee](Te)};x()},s.disconnect=function(){clearTimeout(y),y=null,k()},s.isConnected=function(){return!!(v&&e.eventSourceIsActive&&e.eventSourceIsActive(v))},s},BE=function(e){let t,n,r,i;const o={addPromise:(s,l)=>{t=s,n&&n(),n=l,s.then(a=>{t===s&&(r(a),e())},a=>{t===s&&(i(a),e())})}};return o.resultPromise=new Promise((s,l)=>{r=s,i=l}),o};const{transformHeaders:WE,getLDHeaders:HE}=Md,ip="application/json";var VE=function(e,t,n){const r=t.baseUrl,i=t.useReport,o=t.evaluationReasons,s=t.logger,l={},a={};function u(d,c){if(!e.httpRequest)return new Promise((p,h)=>{h(new pe.LDFlagFetchError(j.httpUnavailable()))});const f=c?"REPORT":"GET",m=HE(e,t);c&&(m["Content-Type"]=ip);let v=a[d];v||(v=BE(()=>{delete a[d]}),a[d]=v);const y=e.httpRequest(f,d,WE(m,t),c),E=y.promise.then(p=>{if(p.status===200){if(p.header("content-type")&&p.header("content-type").substring(0,16)===ip)return JSON.parse(p.body);{const h=j.invalidContentType(p.header("content-type")||"");return Promise.reject(new pe.LDFlagFetchError(h))}}return Promise.reject(function(h){return h.status===404?new pe.LDInvalidEnvironmentIdError(j.environmentNotFound()):new pe.LDFlagFetchError(j.errorFetchingFlags(h.statusText||String(h.status)))}(p))},p=>Promise.reject(new pe.LDFlagFetchError(j.networkError(p))));return v.addPromise(E,()=>{y.cancel&&y.cancel()}),v.resultPromise}return l.fetchJSON=function(d){return u($.appendUrlPath(r,d),null)},l.fetchFlagSettings=function(d,c){let f,m,v,y="";return i?(m=[r,"/sdk/evalx/",n,"/context"].join(""),v=JSON.stringify(d)):(f=$.base64URLEncode(JSON.stringify(d)),m=[r,"/sdk/evalx/",n,"/contexts/",f].join("")),c&&(y="h="+c),o&&(y=y+(y?"&":"")+"withReasons=true"),m=m+(y?"?":"")+y,s.debug(j.debugPolling(m)),u(m,v)},l},GE=function(e,t){const n={};let r;return n.setContext=function(i){r=$.sanitizeContext(i),r&&t&&t($.clone(r))},n.getContext=function(){return r?$.clone(r):null},n};const{v1:QE}=Od,{getContextKinds:KE}=Wl;var YE=function(e){function t(r){return r==null||r==="user"?"ld:$anonUserId":`ld:$contextKey:${r}`}function n(r,i){return i.key!==null&&i.key!==void 0?(i.key=i.key.toString(),Promise.resolve(i)):i.anonymous?function(o){return e.get(t(o))}(r).then(o=>{if(o)return i.key=o,i;{const s=QE();return i.key=s,function(l,a){return e.set(t(a),l)}(s,r).then(()=>i)}}):Promise.reject(new pe.LDInvalidUserError(j.invalidContext()))}this.processContext=r=>{if(!r)return Promise.reject(new pe.LDInvalidUserError(j.contextNotSpecified()));const i=$.clone(r);if(r.kind==="multi"){const o=KE(i);return Promise.all(o.map(s=>n(s,i[s]))).then(()=>i)}return n(r.kind,i)}};const{v1:qE}=Od,{baseOptionDefs:su}=Ad,{appendUrlPath:XE}=$;var lu={DiagnosticId:function(e){const t={diagnosticId:qE()};return e&&(t.sdkKeySuffix=e.length>6?e.substring(e.length-6):e),t},DiagnosticsAccumulator:function(e){let t,n,r,i;function o(s){t=s,n=0,r=0,i=[]}return o(e),{getProps:()=>({dataSinceDate:t,droppedEvents:n,eventsInLastBatch:r,streamInits:i}),setProps:s=>{t=s.dataSinceDate,n=s.droppedEvents||0,r=s.eventsInLastBatch||0,i=s.streamInits||[]},incrementDroppedEvents:()=>{n++},setEventsInLastBatch:s=>{r=s},recordStreamInit:(s,l,a)=>{const u={timestamp:s,failed:l,durationMillis:a};i.push(u)},reset:o}},DiagnosticsManager:function(e,t,n,r,i,o,s){const l=!!e.diagnosticUseCombinedEvent,a="ld:"+i+":$diagnostics",u=XE(o.eventsUrl,"/events/diagnostic/"+i),d=o.diagnosticRecordingInterval,c=n;let f,m,v=!!o.streaming;const y={};function E(){return{sdk:g(),configuration:w(),platform:e.diagnosticPlatformData}}function p(S){o.logger&&o.logger.debug(j.debugPostingDiagnosticEvent(S)),r.sendEvents(S,u,!0).then(()=>{}).catch(()=>{})}function h(){p(function(){const S=new Date().getTime();let x={kind:l?"diagnostic-combined":"diagnostic",id:s,creationDate:S,...c.getProps()};return l&&(x={...x,...E()}),c.reset(S),x}()),m=setTimeout(h,d),f=new Date().getTime(),l&&function(){if(t.isEnabled()){const S={...c.getProps()};t.set(a,JSON.stringify(S))}}()}function g(){const S={...e.diagnosticSdkData};return o.wrapperName&&(S.wrapperName=o.wrapperName),o.wrapperVersion&&(S.wrapperVersion=o.wrapperVersion),S}function w(){return{customBaseURI:o.baseUrl!==su.baseUrl.default,customStreamURI:o.streamUrl!==su.streamUrl.default,customEventsURI:o.eventsUrl!==su.eventsUrl.default,eventsCapacity:o.eventCapacity,eventsFlushIntervalMillis:o.flushInterval,reconnectTimeMillis:o.streamReconnectDelay,streamingDisabled:!v,allAttributesPrivate:!!o.allAttributesPrivate,diagnosticRecordingIntervalMillis:o.diagnosticRecordingInterval,usingSecureMode:!!o.hash,bootstrapMode:!!o.bootstrap,fetchGoalsDisabled:!o.fetchGoals,sendEventsOnlyForVariation:!!o.sendEventsOnlyForVariation}}return y.start=()=>{l?function(S){if(!t.isEnabled())return S(!1);t.get(a).then(x=>{if(x)try{const C=JSON.parse(x);c.setProps(C),f=C.dataSinceDate}catch{}S(!0)}).catch(()=>{S(!1)})}(S=>{if(S){const x=(f||0)+d,C=new Date().getTime();C>=x?h():m=setTimeout(h,x-C)}else Math.floor(4*Math.random())===0?h():m=setTimeout(h,d)}):(p({kind:"diagnostic-init",id:s,creationDate:c.getProps().dataSinceDate,...E()}),m=setTimeout(h,d))},y.stop=()=>{m&&clearTimeout(m)},y.setStreaming=S=>{v=S},y}},JE=function(e,t){let n=!1;const r={type:e.type,name:e.name,synchronous:e.synchronous,method:(...i)=>{try{e.method(...i)}catch{n||(n=!0,t.warn(j.inspectorMethodError(r.type,r.name)))}}};return r};const{onNextTick:as}=$,tt={flagUsed:"flag-used",flagDetailsChanged:"flag-details-changed",flagDetailChanged:"flag-detail-changed",clientIdentityChanged:"client-identity-changed"};Object.freeze(tt);var ZE={InspectorTypes:tt,InspectorManager:function(e,t){const n={},r={[tt.flagUsed]:[],[tt.flagDetailsChanged]:[],[tt.flagDetailChanged]:[],[tt.clientIdentityChanged]:[]},i={[tt.flagUsed]:[],[tt.flagDetailsChanged]:[],[tt.flagDetailChanged]:[],[tt.clientIdentityChanged]:[]},o=e&&e.map(s=>JE(s,t));return o&&o.forEach(s=>{Object.prototype.hasOwnProperty.call(r,s.type)&&!s.synchronous?r[s.type].push(s):Object.prototype.hasOwnProperty.call(i,s.type)&&s.synchronous?i[s.type].push(s):t.warn(j.invalidInspector(s.type,s.name))}),n.hasListeners=s=>r[s]&&r[s].length||i[s]&&i[s].length,n.onFlagUsed=(s,l,a)=>{const u=tt.flagUsed;i[u].length&&i[u].forEach(d=>d.method(s,l,a)),r[u].length&&as(()=>{r[u].forEach(d=>d.method(s,l,a))})},n.onFlags=s=>{const l=tt.flagDetailsChanged;i[l].length&&i[l].forEach(a=>a.method(s)),r[l].length&&as(()=>{r[l].forEach(a=>a.method(s))})},n.onFlagChanged=(s,l)=>{const a=tt.flagDetailChanged;i[a].length&&i[a].forEach(u=>u.method(s,l)),r[a].length&&as(()=>{r[a].forEach(u=>u.method(s,l))})},n.onIdentityChanged=s=>{const l=tt.clientIdentityChanged;i[l].length&&i[l].forEach(a=>a.method(s)),r[l].length&&as(()=>{r[l].forEach(a=>a.method(s))})},n}};const{LDTimeoutError:eC}=pe;var tC=function(e,t){return new Promise((n,r)=>{setTimeout(()=>{r(new eC(`${t} timed out after ${e} seconds.`))},1e3*e)})};const{commonBasicLogger:op}=Ld,{checkContext:nC,getContextKeys:rC}=Wl,{InspectorTypes:us,InspectorManager:iC}=ZE,cs="change",sp="internal-change";var Kv={initialize:function(e,t,n,r,i){const o=function(){return n&&n.logger?n.logger:i&&i.logger&&i.logger.default||op("warn")}(),s=DE(o),l=OE(s),a=Ad.validate(n,s,i,o),u=iC(a.inspectors,o),d=a.sendEvents;let c=e,f=a.hash;const m=AE(r.localStorage,o),v=Gv(r,c,a),y=a.sendEvents&&!a.diagnosticOptOut,E=y?lu.DiagnosticId(c):null,p=y?lu.DiagnosticsAccumulator(new Date().getTime()):null,h=y?lu.DiagnosticsManager(r,m,p,v,c,a,E):null,g=UE(r,a,c,p),w=a.eventProcessor||bE(r,a,c,p,s,v),S=VE(r,a,c);let x,C,k,I={},N=a.streaming,M=!1,G=!1,Ee=!0;const Te=a.stateProvider,te=GE(null,function(T){(function(D){Te||D&&L({kind:"identify",context:D,creationDate:new Date().getTime()})})(T),u.hasListeners(us.clientIdentityChanged)&&u.onIdentityChanged(te.getContext())}),yn=new YE(m),Bt=m.isEnabled()?LE(m,c,f,te):null;function L(T){c&&(Te&&Te.enqueueEvent&&Te.enqueueEvent(T)||(T.context?(Ee=!1,!d||G||r.isDoNotTrack()||(o.debug(j.debugEnqueueingEvent(T.kind)),w.enqueue(T))):Ee&&(o.warn(j.eventWithoutContext()),Ee=!1)))}function z(T,D){u.hasListeners(us.flagDetailChanged)&&u.onFlagChanged(T.key,et(D))}function U(){u.hasListeners(us.flagDetailsChanged)&&u.onFlags(Object.entries(I).map(([T,D])=>({key:T,detail:et(D)})).reduce((T,D)=>(T[D.key]=D.detail,T),{}))}function ae(T,D,R,Y){const Q=te.getContext(),Ie=new Date,X={kind:"feature",key:T,context:Q,value:D?D.value:null,variation:D?D.variationIndex:null,default:R,creationDate:Ie.getTime()},ve=I[T];ve&&(X.version=ve.flagVersion?ve.flagVersion:ve.version,X.trackEvents=ve.trackEvents,X.debugEventsUntilDate=ve.debugEventsUntilDate),(Y||ve&&ve.trackReason)&&D&&(X.reason=D.reason),L(X)}function ge(T){return nC(T,!1)?Promise.resolve(T):Promise.reject(new pe.LDInvalidUserError(j.invalidContext()))}function Zt(T,D,R,Y,Q,Ie){var bf;let X,ve;return I&&$.objectHasOwnProperty(I,T)&&I[T]&&!I[T].deleted?(ve=I[T],X=et(ve),ve.value!==null&&ve.value!==void 0||(X.value=D)):X={value:D,variationIndex:null,reason:{kind:"ERROR",errorKind:"FLAG_NOT_FOUND"}},R&&(Q||((bf=ve==null?void 0:ve.prerequisites)==null||bf.forEach(Ca=>{Zt(Ca,void 0,R,!1,!1,!1)})),ae(T,X,D,Y)),!Q&&Ie&&function(Ca,x1){u.hasListeners(us.flagUsed)&&u.onFlagUsed(Ca,x1,te.getContext())}(T,X),X}function et(T){return{value:T.value,variationIndex:T.variation===void 0?null:T.variation,reason:T.reason||null}}function Sr(){if(C=!0,!te.getContext())return;const T=D=>{try{return JSON.parse(D)}catch{return void s.maybeReportError(new pe.LDInvalidDataError(j.invalidData()))}};g.connect(te.getContext(),f,{ping:function(){o.debug(j.debugStreamPing());const D=te.getContext();S.fetchFlagSettings(D,f).then(R=>{$.deepEquals(D,te.getContext())&&Pt(R||{})}).catch(R=>{s.maybeReportError(new pe.LDFlagFetchError(j.errorFetchingFlags(R)))})},put:function(D){const R=T(D.data);R&&(o.debug(j.debugStreamPut()),Pt(R))},patch:function(D){const R=T(D.data);if(!R)return;const Y=I[R.key];if(!Y||!Y.version||!R.version||Y.version<R.version){o.debug(j.debugStreamPatch(R.key));const Q={},Ie=$.extend({},R);delete Ie.key,I[R.key]=Ie;const X=et(Ie);Q[R.key]=Y?{previous:Y.value,current:X}:{current:X},z(R,Ie),ya(Q)}else o.debug(j.debugStreamPatchIgnored(R.key))},delete:function(D){const R=T(D.data);if(R)if(!I[R.key]||I[R.key].version<R.version){o.debug(j.debugStreamDelete(R.key));const Y={};I[R.key]&&!I[R.key].deleted&&(Y[R.key]={previous:I[R.key].value}),I[R.key]={version:R.version,deleted:!0},z(R,I[R.key]),ya(Y)}else o.debug(j.debugStreamDeleteIgnored(R.key))}})}function Nt(){C&&(g.disconnect(),C=!1)}function Pt(T){const D={};if(!T)return Promise.resolve();for(const R in I)$.objectHasOwnProperty(I,R)&&I[R]&&(T[R]&&!$.deepEquals(T[R].value,I[R].value)?D[R]={previous:I[R].value,current:et(T[R])}:T[R]&&!T[R].deleted||(D[R]={previous:I[R].value}));for(const R in T)$.objectHasOwnProperty(T,R)&&T[R]&&(!I[R]||I[R].deleted)&&(D[R]={current:et(T[R])});return I={...T},U(),ya(D).catch(()=>{})}function ya(T){const D=Object.keys(T);if(D.length>0){const R={};D.forEach(Y=>{const Q=T[Y].current,Ie=Q?Q.value:void 0,X=T[Y].previous;s.emit(cs+":"+Y,Ie,X),R[Y]=Q?{current:Ie,previous:X}:{previous:X}}),s.emit(cs,R),s.emit(sp,I),a.sendEventsOnlyForVariation||Te||D.forEach(Y=>{ae(Y,T[Y].current)})}return x&&Bt?Bt.saveFlags(I):Promise.resolve()}function _a(){const T=N||k&&N===void 0;T&&!C?Sr():!T&&C&&Nt(),h&&h.setStreaming(T)}function wa(T){return T===cs||T.substr(0,7)===cs+":"}if(typeof a.bootstrap=="string"&&a.bootstrap.toUpperCase()==="LOCALSTORAGE"&&(Bt?x=!0:o.warn(j.localStorageUnavailable())),typeof a.bootstrap=="object"&&(I=function(T){const D=Object.keys(T),R="$flagsState",Y="$valid",Q=T[R];!Q&&D.length&&o.warn(j.bootstrapOldFormat()),T[Y]===!1&&o.warn(j.bootstrapInvalid());const Ie={};return D.forEach(X=>{if(X!==R&&X!==Y){let ve={value:T[X]};Q&&Q[X]?ve=$.extend(ve,Q[X]):ve.version=0,Ie[X]=ve}}),Ie}(a.bootstrap)),Te){const T=Te.getInitialState();T?Rf(T):Te.on("init",Rf),Te.on("update",function(D){D.context&&te.setContext(D.context),D.flags&&Pt(D.flags)})}else(function(){return e?yn.processContext(t).then(ge).then(T=>(te.setContext(T),typeof a.bootstrap=="object"?mi():x?Bt.loadFlags().then(D=>D==null?(I={},S.fetchFlagSettings(te.getContext(),f).then(R=>Pt(R||{})).then(mi).catch(R=>{Ea(new pe.LDFlagFetchError(j.errorFetchingFlags(R)))})):(I=D,$.onNextTick(mi),S.fetchFlagSettings(te.getContext(),f).then(R=>Pt(R)).catch(R=>s.maybeReportError(R)))):S.fetchFlagSettings(te.getContext(),f).then(D=>{I=D||{},U(),mi()}).catch(D=>{I={},Ea(D)}))):Promise.reject(new pe.LDInvalidEnvironmentIdError(j.environmentNotSpecified()))})().catch(Ea);function Rf(T){c=T.environment,te.setContext(T.context),I={...T.flags},$.onNextTick(mi)}function mi(){o.info(j.clientInitialized()),M=!0,_a(),l.signalSuccess()}function Ea(T){l.signalFailure(T)}return{client:{waitForInitialization:function(T=void 0){if(T!=null){if(typeof T=="number")return function(D){D>5&&o.warn("The waitForInitialization function was called with a timeout greater than 5 seconds. We recommend a timeout of 5 seconds or less.");const R=l.getInitializationPromise(),Y=tC(D,"waitForInitialization");return Promise.race([Y,R]).catch(Q=>{throw Q instanceof pe.LDTimeoutError&&o.error(`waitForInitialization error: ${Q}`),Q})}(T);o.warn("The waitForInitialization method was provided with a non-numeric timeout.")}return o.warn("The waitForInitialization function was called without a timeout specified. In a future version a default timeout will be applied."),l.getInitializationPromise()},waitUntilReady:()=>l.getReadyPromise(),identify:function(T,D,R){if(G)return $.wrapPromiseCallback(Promise.resolve({}),R);if(Te)return o.warn(j.identifyDisabled()),$.wrapPromiseCallback(Promise.resolve($.transformVersionedValuesToValues(I)),R);const Y=x&&Bt?Bt.clearFlags():Promise.resolve();return $.wrapPromiseCallback(Y.then(()=>yn.processContext(T)).then(ge).then(Q=>S.fetchFlagSettings(Q,D).then(Ie=>{const X=$.transformVersionedValuesToValues(Ie);return te.setContext(Q),f=D,Ie?Pt(Ie).then(()=>X):X})).then(Q=>(C&&Sr(),Q)).catch(Q=>(s.maybeReportError(Q),Promise.reject(Q))),R)},getContext:function(){return te.getContext()},variation:function(T,D){return Zt(T,D,!0,!1,!1,!0).value},variationDetail:function(T,D){return Zt(T,D,!0,!0,!1,!0)},track:function(T,D,R){if(typeof T!="string")return void s.maybeReportError(new pe.LDInvalidEventKeyError(j.unknownCustomEventKey(T)));R!==void 0&&typeof R!="number"&&o.warn(j.invalidMetricValue(typeof R)),r.customEventFilter&&!r.customEventFilter(T)&&o.warn(j.unknownCustomEventKey(T));const Y=te.getContext(),Q={kind:"custom",key:T,context:Y,url:r.getCurrentUrl(),creationDate:new Date().getTime()};Y&&Y.anonymous&&(Q.contextKind=Y.anonymous?"anonymousUser":"user"),D!=null&&(Q.data=D),R!=null&&(Q.metricValue=R),L(Q)},on:function(T,D,R){wa(T)?(k=!0,M&&_a(),s.on(T,D,R)):s.on(...arguments)},off:function(T){if(s.off(...arguments),wa(T)){let D=!1;s.getEvents().forEach(R=>{wa(R)&&s.getEventListenerCount(R)>0&&(D=!0)}),D||(k=!1,C&&N===void 0&&Nt())}},setStreaming:function(T){const D=T===null?void 0:T;D!==N&&(N=D,_a())},flush:function(T){return $.wrapPromiseCallback(d?w.flush():Promise.resolve(),T)},allFlags:function(){const T={};if(!I)return T;for(const D in I)$.objectHasOwnProperty(I,D)&&!I[D].deleted&&(T[D]=Zt(D,null,!a.sendEventsOnlyForVariation,!1,!0,!1).value);return T},close:function(T){if(G)return $.wrapPromiseCallback(Promise.resolve(),T);const D=()=>{G=!0,I={}},R=Promise.resolve().then(()=>{if(Nt(),h&&h.stop(),d)return w.stop(),w.flush()}).then(D).catch(D);return $.wrapPromiseCallback(R,T)}},options:a,emitter:s,ident:te,logger:o,requestor:S,start:function(){d&&(h&&h.start(),w.start())},enqueueEvent:L,getFlagsInternal:function(){return I},getEnvironmentId:()=>c,internalChangeEventName:sp}},commonBasicLogger:op,errors:pe,messages:j,utils:$,getContextKeys:rC},oC=Kv.initialize,sC=Kv.errors;function lC(e,t,n){return(t=function(r){var i=function(o,s){if(typeof o!="object"||!o)return o;var l=o[Symbol.toPrimitive];if(l!==void 0){var a=l.call(o,s||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return typeof i=="symbol"?i:i+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lp(Object(n),!0).forEach(function(r){lC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var up={promise:Promise.resolve({status:200,header:function(){return null},body:null})};function aC(e,t,n,r,i){if(i&&!function(){var u=window.navigator&&window.navigator.userAgent;if(u){var d=u.match(/Chrom(e|ium)\/([0-9]+)\./);if(d)return parseInt(d[2],10)<73}return!0}())return up;var o=new window.XMLHttpRequest;for(var s in o.open(e,t,!i),n||{})Object.prototype.hasOwnProperty.call(n,s)&&o.setRequestHeader(s,n[s]);if(i){try{o.send(r)}catch{}return up}var l,a=new Promise(function(u,d){o.addEventListener("load",function(){l||u({status:o.status,header:function(c){return o.getResponseHeader(c)},body:o.responseText})}),o.addEventListener("error",function(){l||d(new Error)}),o.send(r)});return{promise:a,cancel:function(){l=!0,o.abort()}}}var au=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};function uC(e,t,n,r){var i,o,s=((e.kind==="substring"||e.kind==="regex")&&r.includes("/")?t:t.replace(r,"")).replace(n,"");switch(e.kind){case"exact":o=t,i=new RegExp("^"+au(e.url)+"/?$");break;case"canonical":o=s,i=new RegExp("^"+au(e.url)+"/?$");break;case"substring":o=s,i=new RegExp(".*"+au(e.substring)+".*$");break;case"regex":o=s,i=new RegExp(e.pattern);break;default:return!1}return i.test(o)}function cp(e,t){for(var n={},r=null,i=[],o=0;o<e.length;o++)for(var s=e[o],l=s.urls||[],a=0;a<l.length;a++)if(uC(l[a],window.location.href,window.location.search,window.location.hash)){s.kind==="pageview"?t("pageview",s):(i.push(s),t("click_pageview",s));break}return i.length>0&&(r=function(u){for(var d=function(f,m){for(var v=[],y=0;y<m.length;y++)for(var E=f.target,p=m[y],h=p.selector,g=document.querySelectorAll(h);E&&g.length>0;){for(var w=0;w<g.length;w++)E===g[w]&&v.push(p);E=E.parentNode}return v}(u,i),c=0;c<d.length;c++)t("click",d[c])},document.addEventListener("click",r)),n.dispose=function(){document.removeEventListener("click",r)},n}function cC(e,t){var n,r;function i(){r&&r.dispose(),n&&n.length&&(r=cp(n,o))}function o(s,l){var a=e.ident.getContext(),u={kind:s,key:l.key,data:null,url:window.location.href,creationDate:new Date().getTime(),context:a};return s==="click"&&(u.selector=l.selector),e.enqueueEvent(u)}return e.requestor.fetchJSON("/sdk/goals/"+e.getEnvironmentId()).then(function(s){s&&s.length>0&&(r=cp(n=s,o),function(l,a){var u,d=window.location.href;function c(){(u=window.location.href)!==d&&(d=u,a())}(function f(m,v){m(),setTimeout(function(){f(m,v)},v)})(c,l),window.history&&window.history.pushState?window.addEventListener("popstate",c):window.addEventListener("hashchange",c)}(300,i)),t()}).catch(function(s){e.emitter.maybeReportError(new sC.LDUnexpectedResponseError((s&&s.message,s.message))),t()}),{}}var ds="goalsReady",dC={fetchGoals:{default:!0},hash:{type:"string"},eventProcessor:{type:"object"},eventUrlTransformer:{type:"function"},disableSyncEventPost:{default:!1}};function fC(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(d){var c,f={userAgentHeaderName:"X-LaunchDarkly-User-Agent",synchronousFlush:!1};if(window.XMLHttpRequest){var m=d&&d.disableSyncEventPost;f.httpRequest=function(p,h,g,w){var S=f.synchronousFlush&!m;return f.synchronousFlush=!1,aC(p,h,g,w,S)}}f.httpAllowsPost=function(){return c===void 0&&(c=!!window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest),c},f.httpFallbackPing=function(p){new window.Image().src=p};var v,y=d&&d.eventUrlTransformer;f.getCurrentUrl=function(){return y?y(window.location.href):window.location.href},f.isDoNotTrack=function(){var p;return(p=window.navigator&&window.navigator.doNotTrack!==void 0?window.navigator.doNotTrack:window.navigator&&window.navigator.msDoNotTrack!==void 0?window.navigator.msDoNotTrack:window.doNotTrack)===1||p===!0||p==="1"||p==="yes"};try{window.localStorage&&(f.localStorage={get:function(p){return new Promise(function(h){h(window.localStorage.getItem(p))})},set:function(p,h){return new Promise(function(g){window.localStorage.setItem(p,h),g()})},clear:function(p){return new Promise(function(h){window.localStorage.removeItem(p),h()})}})}catch{f.localStorage=null}if(d&&d.useReport&&typeof window.EventSourcePolyfill=="function"&&window.EventSourcePolyfill.supportedOptions&&window.EventSourcePolyfill.supportedOptions.method?(f.eventSourceAllowsReport=!0,v=window.EventSourcePolyfill):(f.eventSourceAllowsReport=!1,v=window.EventSource),window.EventSource){var E=3e5;f.eventSourceFactory=function(p,h){var g=ap(ap({},{heartbeatTimeout:E,silentTimeout:E,skipDefaultHeaders:!0}),h);return new v(p,g)},f.eventSourceIsActive=function(p){return p.readyState===window.EventSource.OPEN||p.readyState===window.EventSource.CONNECTING}}return f.userAgent="JSClient",f.version="3.5.0",f.diagnosticSdkData={name:"js-client-sdk",version:"3.5.0"},f.diagnosticPlatformData={name:"JS"},f.diagnosticUseCombinedEvent=!0,f}(n),i=oC(e,t,n,r,dC),o=i.client,s=i.options,l=i.emitter,a=new Promise(function(d){var c=l.on(ds,function(){l.off(ds,c),d()})});o.waitUntilGoalsReady=function(){return a},s.fetchGoals?cC(i,function(){return l.emit(ds)}):l.emit(ds),document.readyState!=="complete"?window.addEventListener("load",i.start):i.start();var u=function(){r.synchronousFlush=!0,o.flush().catch(function(){}),r.synchronousFlush=!1};return document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&u()}),window.addEventListener("pagehide",u),o}var hC=1/0,pC="[object Symbol]",mC=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gC=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hl="\\ud800-\\udfff",Yv="\\u0300-\\u036f\\ufe20-\\ufe23",qv="\\u20d0-\\u20f0",Xv="\\u2700-\\u27bf",Jv="a-z\\xdf-\\xf6\\xf8-\\xff",vC="\\xac\\xb1\\xd7\\xf7",yC="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_C="\\u2000-\\u206f",wC=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zv="A-Z\\xc0-\\xd6\\xd8-\\xde",ey="\\ufe0e\\ufe0f",ty=vC+yC+_C+wC,Fd="[']",EC="["+Hl+"]",dp="["+ty+"]",ol="["+Yv+qv+"]",ny="\\d+",CC="["+Xv+"]",ry="["+Jv+"]",iy="[^"+Hl+ty+ny+Xv+Jv+Zv+"]",pc="\\ud83c[\\udffb-\\udfff]",SC="(?:"+ol+"|"+pc+")",oy="[^"+Hl+"]",jd="(?:\\ud83c[\\udde6-\\uddff]){2}",zd="[\\ud800-\\udbff][\\udc00-\\udfff]",Ir="["+Zv+"]",sy="\\u200d",fp="(?:"+ry+"|"+iy+")",xC="(?:"+Ir+"|"+iy+")",hp="(?:"+Fd+"(?:d|ll|m|re|s|t|ve))?",pp="(?:"+Fd+"(?:D|LL|M|RE|S|T|VE))?",ly=SC+"?",ay="["+ey+"]?",kC="(?:"+sy+"(?:"+[oy,jd,zd].join("|")+")"+ay+ly+")*",uy=ay+ly+kC,TC="(?:"+[CC,jd,zd].join("|")+")"+uy,IC="(?:"+[oy+ol+"?",ol,jd,zd,EC].join("|")+")",NC=RegExp(Fd,"g"),PC=RegExp(ol,"g"),RC=RegExp(pc+"(?="+pc+")|"+IC+uy,"g"),bC=RegExp([Ir+"?"+ry+"+"+hp+"(?="+[dp,Ir,"$"].join("|")+")",xC+"+"+pp+"(?="+[dp,Ir+fp,"$"].join("|")+")",Ir+"?"+fp+"+"+hp,Ir+"+"+pp,ny,TC].join("|"),"g"),DC=RegExp("["+sy+Hl+Yv+qv+ey+"]"),OC=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,LC={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},AC=typeof Bo=="object"&&Bo&&Bo.Object===Object&&Bo,MC=typeof self=="object"&&self&&self.Object===Object&&self,FC=AC||MC||Function("return this")();function jC(e,t,n,r){for(var i=-1,o=e?e.length:0;++i<o;)n=t(n,e[i],i,e);return n}function zC(e){return e.split("")}function $C(e){return e.match(mC)||[]}function UC(e){return function(t){return e==null?void 0:e[t]}}var BC=UC(LC);function cy(e){return DC.test(e)}function WC(e){return OC.test(e)}function HC(e){return cy(e)?VC(e):zC(e)}function VC(e){return e.match(RC)||[]}function GC(e){return e.match(bC)||[]}var QC=Object.prototype,KC=QC.toString,mp=FC.Symbol,gp=mp?mp.prototype:void 0,vp=gp?gp.toString:void 0;function YC(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function qC(e){if(typeof e=="string")return e;if(tS(e))return vp?vp.call(e):"";var t=e+"";return t=="0"&&1/e==-hC?"-0":t}function XC(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:YC(e,t,n)}function JC(e){return function(t){t=Vl(t);var n=cy(t)?HC(t):void 0,r=n?n[0]:t.charAt(0),i=n?XC(n,1).join(""):t.slice(1);return r[e]()+i}}function ZC(e){return function(t){return jC(sS(iS(t).replace(NC,"")),e,"")}}function eS(e){return!!e&&typeof e=="object"}function tS(e){return typeof e=="symbol"||eS(e)&&KC.call(e)==pC}function Vl(e){return e==null?"":qC(e)}var nS=ZC(function(e,t,n){return t=t.toLowerCase(),e+(n?rS(t):t)});function rS(e){return oS(Vl(e).toLowerCase())}function iS(e){return e=Vl(e),e&&e.replace(gC,BC).replace(PC,"")}var oS=JC("toUpperCase");function sS(e,t,n){return e=Vl(e),t=t,t===void 0?WC(e)?GC(e):$C(e):e.match(t)||[]}var lS=nS;const dy=Pm(lS);var fy={exports:{}},Z={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oe=typeof Symbol=="function"&&Symbol.for,$d=Oe?Symbol.for("react.element"):60103,Ud=Oe?Symbol.for("react.portal"):60106,Gl=Oe?Symbol.for("react.fragment"):60107,Ql=Oe?Symbol.for("react.strict_mode"):60108,Kl=Oe?Symbol.for("react.profiler"):60114,Yl=Oe?Symbol.for("react.provider"):60109,ql=Oe?Symbol.for("react.context"):60110,Bd=Oe?Symbol.for("react.async_mode"):60111,Xl=Oe?Symbol.for("react.concurrent_mode"):60111,Jl=Oe?Symbol.for("react.forward_ref"):60112,Zl=Oe?Symbol.for("react.suspense"):60113,aS=Oe?Symbol.for("react.suspense_list"):60120,ea=Oe?Symbol.for("react.memo"):60115,ta=Oe?Symbol.for("react.lazy"):60116,uS=Oe?Symbol.for("react.block"):60121,cS=Oe?Symbol.for("react.fundamental"):60117,dS=Oe?Symbol.for("react.responder"):60118,fS=Oe?Symbol.for("react.scope"):60119;function gt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $d:switch(e=e.type,e){case Bd:case Xl:case Gl:case Kl:case Ql:case Zl:return e;default:switch(e=e&&e.$$typeof,e){case ql:case Jl:case ta:case ea:case Yl:return e;default:return t}}case Ud:return t}}}function hy(e){return gt(e)===Xl}Z.AsyncMode=Bd;Z.ConcurrentMode=Xl;Z.ContextConsumer=ql;Z.ContextProvider=Yl;Z.Element=$d;Z.ForwardRef=Jl;Z.Fragment=Gl;Z.Lazy=ta;Z.Memo=ea;Z.Portal=Ud;Z.Profiler=Kl;Z.StrictMode=Ql;Z.Suspense=Zl;Z.isAsyncMode=function(e){return hy(e)||gt(e)===Bd};Z.isConcurrentMode=hy;Z.isContextConsumer=function(e){return gt(e)===ql};Z.isContextProvider=function(e){return gt(e)===Yl};Z.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$d};Z.isForwardRef=function(e){return gt(e)===Jl};Z.isFragment=function(e){return gt(e)===Gl};Z.isLazy=function(e){return gt(e)===ta};Z.isMemo=function(e){return gt(e)===ea};Z.isPortal=function(e){return gt(e)===Ud};Z.isProfiler=function(e){return gt(e)===Kl};Z.isStrictMode=function(e){return gt(e)===Ql};Z.isSuspense=function(e){return gt(e)===Zl};Z.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gl||e===Xl||e===Kl||e===Ql||e===Zl||e===aS||typeof e=="object"&&e!==null&&(e.$$typeof===ta||e.$$typeof===ea||e.$$typeof===Yl||e.$$typeof===ql||e.$$typeof===Jl||e.$$typeof===cS||e.$$typeof===dS||e.$$typeof===fS||e.$$typeof===uS)};Z.typeOf=gt;fy.exports=Z;var hS=fy.exports,py=hS,pS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},my={};my[py.ForwardRef]=pS;my[py.Memo]=mS;const gS=()=>b.createContext({flags:{},flagKeyMap:{},ldClient:void 0}),Wd={useCamelCaseFlagKeys:!0,sendEventsOnFlagRead:!0,reactContext:gS()},vS=e=>{var t;return(t=e.context)!=null?t:e.user},yp=e=>{const t={};for(const n in e)n.indexOf("$")!==0&&(t[dy(n)]=e[n]);return t},yS=(e,t)=>{const n={};for(const r in e)t&&t[r]===void 0||(n[r]=e[r].current);return n},_p=(e,t)=>{const n=e.allFlags();return t?Object.keys(t).reduce((r,i)=>(r[i]=Object.prototype.hasOwnProperty.call(n,i)?n[i]:t[i],r),{}):n};function uu(e,t,n=Wd,r){const i=function(a,u){return u===void 0?a:Object.keys(u).reduce((d,c)=>(mc(a,c)&&(d[c]=a[c]),d),{})}(t,r),{useCamelCaseFlagKeys:o=!0}=n,[s,l={}]=o?function(a){const u={},d={};for(const c in a){if(c.indexOf("$")===0)continue;const f=dy(c);u[f]=a[c],d[f]=c}return[u,d]}(i):[i];return{flags:n.sendEventsOnFlagRead?_S(e,s,l,o):s,flagKeyMap:l}}function mc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _S(e,t,n,r){return new Proxy(t,{get(i,o,s){const l=Reflect.get(i,o,s),a=r&&mc(n,o)||mc(i,o);if(typeof o=="symbol"||!a)return l;if(l===void 0)return;const u=r?n[o]:o;return e.variation(u,l)}})}yp.camelCaseKeys=yp;const wS={wrapperName:"react-client-sdk",wrapperVersion:"3.6.0",sendEventsOnlyForVariation:!0};var ES=Object.defineProperty,CS=Object.defineProperties,SS=Object.getOwnPropertyDescriptors,sl=Object.getOwnPropertySymbols,gy=Object.prototype.hasOwnProperty,vy=Object.prototype.propertyIsEnumerable,wp=(e,t,n)=>t in e?ES(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yt=(e,t)=>{for(var n in t||(t={}))gy.call(t,n)&&wp(e,n,t[n]);if(sl)for(var n of sl(t))vy.call(t,n)&&wp(e,n,t[n]);return e},fs=(e,t)=>CS(e,SS(t));function xS(e){return t=this,n=null,r=function*(){var i,o;const{clientSideID:s,flags:l,options:a,reactOptions:u}=e,d=yt(yt({},Wd),u),c=(i=vS(e))!=null?i:{anonymous:!0,kind:"user"};let f,m={};const v=(o=yield e.ldClient)!=null?o:fC(s,c,yt(yt({},wS),a));try{yield v.waitForInitialization(e.timeout),m=_p(v,l)}catch(E){f=E}const y=a!=null&&a.bootstrap&&a.bootstrap!=="localStorage"?a.bootstrap:m;return({children:E})=>{const[p,h]=b.useState(()=>fs(yt({unproxiedFlags:y},uu(v,y,d,l)),{ldClient:v,error:f}));b.useEffect(()=>{function S(k){const I=yS(k,l);Object.keys(I).length>0&&h(N=>{const M=yt(yt({},N.unproxiedFlags),I);return yt(fs(yt({},N),{unproxiedFlags:M}),uu(v,M,d,l))})}function x(){const k=_p(v,l);h(I=>yt(fs(yt({},I),{unproxiedFlags:k}),uu(v,k,d,l)))}function C(k){h(I=>fs(yt({},I),{error:k}))}return v.on("change",S),f!=null&&f.name.toLowerCase().includes("timeout")&&(v.on("failed",C),v.on("ready",x)),function(){v.off("change",S),v.off("failed",C),v.off("ready",x)}},[]);const g=((S,x)=>{var C={};for(var k in S)gy.call(S,k)&&x.indexOf(k)<0&&(C[k]=S[k]);if(S!=null&&sl)for(var k of sl(S))x.indexOf(k)<0&&vy.call(S,k)&&(C[k]=S[k]);return C})(p,["unproxiedFlags"]),{reactContext:w}=d;return $m.createElement(w.Provider,{value:g},E)}},new Promise((i,o)=>{var s=u=>{try{a(r.next(u))}catch(d){o(d)}},l=u=>{try{a(r.throw(u))}catch(d){o(d)}},a=u=>u.done?i(u.value):Promise.resolve(u.value).then(s,l);a((r=r.apply(t,n)).next())});var t,n,r}const kS=e=>{const{flags:t}=b.useContext(Wd.reactContext);return t};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po.apply(this,arguments)}var Nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nn||(Nn={}));const Ep="popstate";function TS(e){e===void 0&&(e={});function t(i,o){let{pathname:s="/",search:l="",hash:a=""}=Er(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),gc("",{pathname:s,search:l,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof o=="string"?o:yy(o))}function r(i,o){Hd(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return NS(t,n,r,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IS(){return Math.random().toString(36).substr(2,8)}function Cp(e,t){return{usr:e.state,key:e.key,idx:t}}function gc(e,t,n,r){return n===void 0&&(n=null),po({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:n,key:t&&t.key||r||IS()})}function yy(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function NS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Nn.Pop,a=null,u=d();u==null&&(u=0,s.replaceState(po({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function c(){l=Nn.Pop;let E=d(),p=E==null?null:E-u;u=E,a&&a({action:l,location:y.location,delta:p})}function f(E,p){l=Nn.Push;let h=gc(y.location,E,p);n(h,E),u=d()+1;let g=Cp(h,u),w=y.createHref(h);try{s.pushState(g,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}o&&a&&a({action:l,location:y.location,delta:1})}function m(E,p){l=Nn.Replace;let h=gc(y.location,E,p);n(h,E),u=d();let g=Cp(h,u),w=y.createHref(h);s.replaceState(g,"",w),o&&a&&a({action:l,location:y.location,delta:0})}function v(E){let p=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof E=="string"?E:yy(E);return h=h.replace(/ $/,"%20"),we(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let y={get action(){return l},get location(){return e(i,s)},listen(E){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Ep,c),a=E,()=>{i.removeEventListener(Ep,c),a=null}},createHref(E){return t(i,E)},createURL:v,encodeLocation(E){let p=v(E);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(E){return s.go(E)}};return y}var Sp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sp||(Sp={}));function PS(e,t,n){return n===void 0&&(n="/"),RS(e,t,n)}function RS(e,t,n,r){let i=typeof t=="string"?Er(t):t,o=Ey(i.pathname||"/",n);if(o==null)return null;let s=_y(e);bS(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=WS(o);l=$S(s[a],u)}return l}function _y(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(we(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=cr([r,a.relativePath]),d=n.concat(a);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_y(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:jS(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of wy(o.path))i(o,s,a)}),t}function wy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=wy(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function bS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DS=/^:[\w-]+$/,OS=3,LS=2,AS=1,MS=10,FS=-2,xp=e=>e==="*";function jS(e,t){let n=e.split("/"),r=n.length;return n.some(xp)&&(r+=FS),t&&(r+=LS),n.filter(i=>!xp(i)).reduce((i,o)=>i+(DS.test(o)?OS:o===""?AS:MS),r)}function zS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function $S(e,t,n){let{routesMeta:r}=e,i={},o="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",c=US({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),f=a.route;if(!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:cr([o,c.pathname]),pathnameBase:QS(cr([o,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(o=cr([o,c.pathnameBase]))}return s}function US(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=BS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=l[c]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[c];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function BS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Hd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function WS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ey(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function HS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Er(e):e;return{pathname:n?n.startsWith("/")?n:VS(n,t):t,search:KS(r),hash:YS(i)}}function VS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Cy(e,t){let n=GS(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sy(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Er(e):(i=po({},e),we(!i.pathname||!i.pathname.includes("?"),cu("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),cu("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),cu("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let c=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}l=c>=0?t[c]:"/"}let a=HS(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const cr=e=>e.join("/").replace(/\/\/+/g,"/"),QS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xy=["post","put","patch","delete"];new Set(xy);const XS=["get",...xy];new Set(XS);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mo.apply(this,arguments)}const Vd=b.createContext(null),JS=b.createContext(null),Do=b.createContext(null),na=b.createContext(null),qn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ky=b.createContext(null);function Oo(){return b.useContext(na)!=null}function Gd(){return Oo()||we(!1),b.useContext(na).location}function Ty(e){b.useContext(Do).static||b.useLayoutEffect(e)}function Qd(){let{isDataRoute:e}=b.useContext(qn);return e?fx():ZS()}function ZS(){Oo()||we(!1);let e=b.useContext(Vd),{basename:t,future:n,navigator:r}=b.useContext(Do),{matches:i}=b.useContext(qn),{pathname:o}=Gd(),s=JSON.stringify(Cy(i,n.v7_relativeSplatPath)),l=b.useRef(!1);return Ty(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let c=Sy(u,JSON.parse(s),o,d.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:cr([t,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[t,r,s,o,e])}function ex(){let{matches:e}=b.useContext(qn),t=e[e.length-1];return t?t.params:{}}function tx(e,t){return nx(e,t)}function nx(e,t,n,r){Oo()||we(!1);let{navigator:i}=b.useContext(Do),{matches:o}=b.useContext(qn),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Gd(),d;if(t){var c;let E=typeof t=="string"?Er(t):t;a==="/"||(c=E.pathname)!=null&&c.startsWith(a)||we(!1),d=E}else d=u;let f=d.pathname||"/",m=f;if(a!=="/"){let E=a.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=PS(e,{pathname:m}),y=lx(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:cr([a,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?a:cr([a,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return t&&y?b.createElement(na.Provider,{value:{location:mo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nn.Pop}},y):y}function rx(){let e=dx(),t=qS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,null)}const ix=b.createElement(rx,null);class ox extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(qn.Provider,{value:this.props.routeContext},b.createElement(ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sx(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(Vd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(qn.Provider,{value:t},r)}function lx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);d>=0||we(!1),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let c=s[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:m}=n,v=c.route.loader&&f[c.route.id]===void 0&&(!m||m[c.route.id]===void 0);if(c.route.lazy||v){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,c,f)=>{let m,v=!1,y=null,E=null;n&&(m=l&&c.route.id?l[c.route.id]:void 0,y=c.route.errorElement||ix,a&&(u<0&&f===0?(v=!0,E=null):u===f&&(v=!0,E=c.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,f+1)),h=()=>{let g;return m?g=y:v?g=E:c.route.Component?g=b.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=d,b.createElement(sx,{match:c,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?b.createElement(ox,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var Iy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Iy||{}),ll=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ll||{});function ax(e){let t=b.useContext(Vd);return t||we(!1),t}function ux(e){let t=b.useContext(JS);return t||we(!1),t}function cx(e){let t=b.useContext(qn);return t||we(!1),t}function Ny(e){let t=cx(),n=t.matches[t.matches.length-1];return n.route.id||we(!1),n.route.id}function dx(){var e;let t=b.useContext(ky),n=ux(ll.UseRouteError),r=Ny(ll.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function fx(){let{router:e}=ax(Iy.UseNavigateStable),t=Ny(ll.UseNavigateStable),n=b.useRef(!1);return Ty(()=>{n.current=!0}),b.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,mo({fromRouteId:t},o)))},[e,t])}const kp={};function hx(e,t){kp[t]||(kp[t]=!0,console.warn(t))}const Tp=(e,t,n)=>hx(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function px(e,t){e!=null&&e.v7_startTransition||Tp("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&Tp("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function vc(e){let{to:t,replace:n,state:r,relative:i}=e;Oo()||we(!1);let{future:o,static:s}=b.useContext(Do),{matches:l}=b.useContext(qn),{pathname:a}=Gd(),u=Qd(),d=Sy(t,Cy(l,o.v7_relativeSplatPath),a,i==="path"),c=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:i}),[u,c,i,n,r]),null}function Li(e){we(!1)}function mx(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Nn.Pop,navigator:o,static:s=!1,future:l}=e;Oo()&&we(!1);let a=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:a,navigator:o,static:s,future:mo({v7_relativeSplatPath:!1},l)}),[a,l,o,s]);typeof r=="string"&&(r=Er(r));let{pathname:d="/",search:c="",hash:f="",state:m=null,key:v="default"}=r,y=b.useMemo(()=>{let E=Ey(d,a);return E==null?null:{location:{pathname:E,search:c,hash:f,state:m,key:v},navigationType:i}},[a,d,c,f,m,v,i]);return y==null?null:b.createElement(Do.Provider,{value:u},b.createElement(na.Provider,{children:n,value:y}))}function gx(e){let{children:t,location:n}=e;return tx(yc(t),n)}new Promise(()=>{});function yc(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let o=[...t,i];if(r.type===b.Fragment){n.push.apply(n,yc(r.props.children,o));return}r.type!==Li&&we(!1),!r.props.index||!r.props.children||we(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=yc(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const vx="6";try{window.__reactRouterVersion=vx}catch{}const yx="startTransition",Ip=U1[yx];function _x(e){let{basename:t,children:n,future:r,window:i}=e,o=b.useRef();o.current==null&&(o.current=TS({window:i,v5Compat:!0}));let s=o.current,[l,a]=b.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=b.useCallback(c=>{u&&Ip?Ip(()=>a(c)):a(c)},[a,u]);return b.useLayoutEffect(()=>s.listen(d),[s,d]),b.useEffect(()=>px(r),[r]),b.createElement(mx,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}var Np;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Np||(Np={}));var Pp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pp||(Pp={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ut=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:a,...u},d)=>b.createElement("svg",{ref:d,...wx,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Ex(e)}`,l].join(" "),...u},[...t.map(([c,f])=>b.createElement(c,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Ut("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Ut("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ut("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Ut("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Ut("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Ut("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var ra={},Py={exports:{}},Dx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ox=Dx,Lx=Ox;function Ry(){}function by(){}by.resetWarningCache=Ry;var Ax=function(){function e(r,i,o,s,l,a){if(a!==Lx){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:by,resetWarningCache:Ry};return n.PropTypes=n,n};Py.exports=Ax();var Dy=Py.exports,Oy={L:1,M:0,Q:3,H:2},Ly={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Mx=Ly;function Ay(e){this.mode=Mx.MODE_8BIT_BYTE,this.data=e}Ay.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var Fx=Ay,hs=Oy;function Qt(e,t){this.totalCount=e,this.dataCount=t}Qt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Qt.getRSBlocks=function(e,t){var n=Qt.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=new Array,o=0;o<r;o++)for(var s=n[o*3+0],l=n[o*3+1],a=n[o*3+2],u=0;u<s;u++)i.push(new Qt(l,a));return i};Qt.getRsBlockTable=function(e,t){switch(t){case hs.L:return Qt.RS_BLOCK_TABLE[(e-1)*4+0];case hs.M:return Qt.RS_BLOCK_TABLE[(e-1)*4+1];case hs.Q:return Qt.RS_BLOCK_TABLE[(e-1)*4+2];case hs.H:return Qt.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var jx=Qt;function My(){this.buffer=new Array,this.length=0}My.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var zx=My,Lt={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Lt.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Lt.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Fe=0;Fe<8;Fe++)Lt.EXP_TABLE[Fe]=1<<Fe;for(var Fe=8;Fe<256;Fe++)Lt.EXP_TABLE[Fe]=Lt.EXP_TABLE[Fe-4]^Lt.EXP_TABLE[Fe-5]^Lt.EXP_TABLE[Fe-6]^Lt.EXP_TABLE[Fe-8];for(var Fe=0;Fe<255;Fe++)Lt.LOG_TABLE[Lt.EXP_TABLE[Fe]]=Fe;var Fy=Lt,Jn=Fy;function bs(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}bs.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=Jn.gexp(Jn.glog(this.get(n))+Jn.glog(e.get(r)));return new bs(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Jn.glog(this.get(0))-Jn.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=Jn.gexp(Jn.glog(e.get(r))+t);return new bs(n,0).mod(e)}};var jy=bs,_t=Ly,Rp=jy,$x=Fy,wn={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ae={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G15)>=0;)t^=Ae.G15<<Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G15);return(e<<10|t)^Ae.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G18)>=0;)t^=Ae.G18<<Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ae.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case wn.PATTERN000:return(t+n)%2==0;case wn.PATTERN001:return t%2==0;case wn.PATTERN010:return n%3==0;case wn.PATTERN011:return(t+n)%3==0;case wn.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case wn.PATTERN101:return t*n%2+t*n%3==0;case wn.PATTERN110:return(t*n%2+t*n%3)%2==0;case wn.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Rp([1],0),n=0;n<e;n++)t=t.multiply(new Rp([1,$x.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case _t.MODE_NUMBER:return 10;case _t.MODE_ALPHA_NUM:return 9;case _t.MODE_8BIT_BYTE:return 8;case _t.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case _t.MODE_NUMBER:return 12;case _t.MODE_ALPHA_NUM:return 11;case _t.MODE_8BIT_BYTE:return 16;case _t.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case _t.MODE_NUMBER:return 14;case _t.MODE_ALPHA_NUM:return 13;case _t.MODE_8BIT_BYTE:return 16;case _t.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,s=e.isDark(r,i),l=-1;l<=1;l++)if(!(r+l<0||t<=r+l))for(var a=-1;a<=1;a++)i+a<0||t<=i+a||l==0&&a==0||s==e.isDark(r+l,i+a)&&o++;o>5&&(n+=3+o-5)}for(var r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var u=0;e.isDark(r,i)&&u++,e.isDark(r+1,i)&&u++,e.isDark(r,i+1)&&u++,e.isDark(r+1,i+1)&&u++,(u==0||u==4)&&(n+=3)}for(var r=0;r<t;r++)for(var i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(var i=0;i<t;i++)for(var r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);for(var d=0,i=0;i<t;i++)for(var r=0;r<t;r++)e.isDark(r,i)&&d++;var c=Math.abs(100*d/t/t-50)/5;return n+=c*10,n}},Ux=Ae,Bx=Fx,zy=jx,$y=zx,Xn=Ux,Wx=jy;function Kt(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var vt=Kt.prototype;vt.addData=function(e){var t=new Bx(e);this.dataList.push(t),this.dataCache=null};vt.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};vt.getModuleCount=function(){return this.moduleCount};vt.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=zy.getRSBlocks(e,this.errorCorrectLevel),n=new $y,r=0,i=0;i<t.length;i++)r+=t[i].dataCount;for(var i=0;i<this.dataList.length;i++){var o=this.dataList[i];n.put(o.mode,4),n.put(o.getLength(),Xn.getLengthInBits(o.mode,e)),o.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};vt.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Kt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};vt.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};vt.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=Xn.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};vt.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*i,l=0;l<this.modules[o].length;l++){var a=l*i,u=this.modules[o][l];u&&(r.beginFill(0,100),r.moveTo(a,s),r.lineTo(a+i,s),r.lineTo(a+i,s+i),r.lineTo(a,s+i),r.endFill())}return r};vt.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};vt.setupPositionAdjustPattern=function(){for(var e=Xn.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(this.modules[r][i]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[r+o][i+s]=!0:this.modules[r+o][i+s]=!1}};vt.setupTypeNumber=function(e){for(var t=Xn.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};vt.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=Xn.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e};vt.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var l=0;l<2;l++)if(this.modules[r][s-l]==null){var a=!1;o<e.length&&(a=(e[o]>>>i&1)==1);var u=Xn.getMask(t,r,s-l);u&&(a=!a),this.modules[r][s-l]=a,i--,i==-1&&(o++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};Kt.PAD0=236;Kt.PAD1=17;Kt.createData=function(e,t,n){for(var r=zy.getRSBlocks(e,t),i=new $y,o=0;o<n.length;o++){var s=n[o];i.put(s.mode,4),i.put(s.getLength(),Xn.getLengthInBits(s.mode,e)),s.write(i)}for(var l=0,o=0;o<r.length;o++)l+=r[o].dataCount;if(i.getLengthInBits()>l*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+l*8+")");for(i.getLengthInBits()+4<=l*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=l*8||(i.put(Kt.PAD0,8),i.getLengthInBits()>=l*8));)i.put(Kt.PAD1,8);return Kt.createBytes(i,r)};Kt.createBytes=function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var a=t[l].dataCount,u=t[l].totalCount-a;r=Math.max(r,a),i=Math.max(i,u),o[l]=new Array(a);for(var d=0;d<o[l].length;d++)o[l][d]=255&e.buffer[d+n];n+=a;var c=Xn.getErrorCorrectPolynomial(u),f=new Wx(o[l],c.getLength()-1),m=f.mod(c);s[l]=new Array(c.getLength()-1);for(var d=0;d<s[l].length;d++){var v=d+m.getLength()-s[l].length;s[l][d]=v>=0?m.get(v):0}}for(var y=0,d=0;d<t.length;d++)y+=t[d].totalCount;for(var E=new Array(y),p=0,d=0;d<r;d++)for(var l=0;l<t.length;l++)d<o[l].length&&(E[p++]=o[l][d]);for(var d=0;d<i;d++)for(var l=0;l<t.length;l++)d<s[l].length&&(E[p++]=s[l][d]);return E};var Hx=Kt,Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});var Vx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx=Dy,wt=By(Gx),Uy=b,ps=By(Uy);function By(e){return e&&e.__esModule?e:{default:e}}function Qx(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var Kx={bgColor:wt.default.oneOfType([wt.default.object,wt.default.string]).isRequired,bgD:wt.default.string.isRequired,fgColor:wt.default.oneOfType([wt.default.object,wt.default.string]).isRequired,fgD:wt.default.string.isRequired,size:wt.default.number.isRequired,title:wt.default.string,viewBoxSize:wt.default.number.isRequired,xmlns:wt.default.string},Yd=(0,Uy.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,i=e.fgD,o=e.fgColor,s=e.size,l=e.title,a=e.viewBoxSize,u=e.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,c=Qx(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return ps.default.createElement("svg",Vx({},c,{height:s,ref:t,viewBox:"0 0 "+a+" "+a,width:s,xmlns:d}),l?ps.default.createElement("title",null,l):null,ps.default.createElement("path",{d:r,fill:n}),ps.default.createElement("path",{d:i,fill:o}))});Yd.displayName="QRCodeSvg";Yd.propTypes=Kx;Kd.default=Yd;Object.defineProperty(ra,"__esModule",{value:!0});ra.QRCode=void 0;var Yx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx=Dy,en=Lo(qx),Xx=Oy,Jx=Lo(Xx),Zx=Hx,ek=Lo(Zx),Wy=b,tk=Lo(Wy),nk=Kd,rk=Lo(nk);function Lo(e){return e&&e.__esModule?e:{default:e}}function ik(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ok={bgColor:en.default.oneOfType([en.default.object,en.default.string]),fgColor:en.default.oneOfType([en.default.object,en.default.string]),level:en.default.string,size:en.default.number,value:en.default.string.isRequired},ia=(0,Wy.forwardRef)(function(e,t){var n=e.bgColor,r=n===void 0?"#FFFFFF":n,i=e.fgColor,o=i===void 0?"#000000":i,s=e.level,l=s===void 0?"L":s,a=e.size,u=a===void 0?256:a,d=e.value,c=ik(e,["bgColor","fgColor","level","size","value"]),f=new ek.default(-1,Jx.default[l]);f.addData(d),f.make();var m=f.modules;return tk.default.createElement(rk.default,Yx({},c,{bgColor:r,bgD:m.map(function(v,y){return v.map(function(E,p){return E?"":"M "+p+" "+y+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:o,fgD:m.map(function(v,y){return v.map(function(E,p){return E?"M "+p+" "+y+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:u,viewBoxSize:m.length}))});ra.QRCode=ia;ia.displayName="QRCode";ia.propTypes=ok;var sk=ra.default=ia;const lk=({team:e,teams:t,onScoreChange:n,onRemoveMember:r})=>{const i=t.flatMap(f=>f.buzzes||[]).sort((f,m)=>f.timestamp-m.timestamp),o=i[0],s=e.buzzes||[],l=s.length>0,a=o&&s.some(f=>f.timestamp===o.timestamp),u=e.members||[],d=f=>i.findIndex(m=>m.timestamp===f)+1,c=f=>{if(!o)return"";const m=f-o.timestamp;return m===0?"":`+${m}ms`};return _.jsxs("div",{className:`rounded-lg overflow-hidden ${e.theme.secondary}`,children:[_.jsxs("div",{className:"relative h-48",children:[_.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),l&&_.jsx("div",{className:`absolute inset-0 ${e.theme.primary} bg-opacity-75 flex items-center justify-center`,children:_.jsxs("div",{className:"text-center text-white",children:[_.jsx(Ai,{className:`w-12 h-12 mx-auto mb-2 ${a?"animate-bounce":""}`}),_.jsx("div",{className:"space-y-1",children:s.map(f=>{const m=d(f.timestamp),v=c(f.timestamp);return _.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[_.jsx("span",{className:"bg-white text-black text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:m}),_.jsxs("p",{className:"text-lg font-bold",children:[f.memberName,m===1&&_.jsx("span",{className:"ml-2 px-2 py-0.5 bg-yellow-400 text-black text-xs rounded-full",children:"FIRST!"}),v&&_.jsx("span",{className:"ml-2 text-xs opacity-75",children:v})]})]},f.timestamp)})})]})})]}),_.jsxs("div",{className:"p-4",children:[_.jsx("h2",{className:`text-xl font-bold ${e.theme.text} mb-2`,children:e.name}),_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("button",{onClick:()=>n(-1),className:`${e.theme.primary} ${e.theme.hover} text-white p-2 rounded-full`,children:_.jsx(Tx,{className:"w-5 h-5"})}),_.jsx("span",{className:`text-2xl font-bold ${e.theme.text}`,children:e.score||0}),_.jsx("button",{onClick:()=>n(1),className:`${e.theme.primary} ${e.theme.hover} text-white p-2 rounded-full`,children:_.jsx(Nx,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:`text-sm font-semibold ${e.theme.text}`,children:"Team Members:"}),u.length===0?_.jsx("p",{className:"text-sm text-gray-500 italic",children:"No members yet"}):_.jsx("ul",{className:"space-y-1",children:u.map(f=>{const m=s.find(y=>y.memberName===f),v=m?d(m.timestamp):null;return _.jsxs("li",{className:`flex items-center justify-between ${e.theme.text} text-sm`,children:[_.jsxs("span",{className:"flex items-center",children:[f,v&&_.jsxs("span",{className:`ml-2 px-2 py-0.5 ${v===1?"bg-yellow-400":"bg-gray-200"} text-black text-xs rounded-full font-bold`,children:["#",v]})]}),_.jsx("button",{onClick:()=>r(f),className:`${e.theme.primary} ${e.theme.hover} text-white p-1 rounded-full`,children:_.jsx(bx,{className:"w-4 h-4"})})]},f)})})]})]})]})},ak=({imageUrl:e,onImageChange:t})=>{const n=b.useRef(null),r=o=>{var l;const s=(l=o.target.files)==null?void 0:l[0];if(s){const a=new FileReader;a.onloadend=()=>{const u=a.result;t(u)},a.readAsDataURL(s)}},i=()=>{var o;(o=n.current)==null||o.click()};return _.jsxs("div",{className:"h-full flex flex-col items-center justify-center relative",children:[_.jsx("img",{src:e,alt:"Game Logo",className:"max-h-full w-auto object-contain rounded-lg border-4 border-gray-700"}),_.jsx("button",{onClick:i,className:"absolute bottom-4 right-4 bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg transition-colors",title:"Change Logo",children:_.jsx(kx,{className:"w-5 h-5"})}),_.jsx("input",{type:"file",ref:n,className:"hidden",accept:"image/*",onChange:r})]})};var bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(e,t){if(!e)throw ci(t)},ci=function(e){return new Error("Firebase Database ("+Hy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},uk=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],l=e[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},qd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,l=s?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,d=o>>2,c=(o&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;a||(m=64,s||(f=64)),r.push(n[d],n[c],n[f],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||l==null||u==null||c==null)throw new ck;const f=o<<2|l>>4;if(r.push(f),u!==64){const m=l<<4&240|u>>2;if(r.push(m),c!==64){const v=u<<6&192|c;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ck extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gy=function(e){const t=Vy(e);return qd.encodeByteArray(t,!0)},al=function(e){return Gy(e).replace(/\./g,"")},_c=function(e){try{return qd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e){return Qy(void 0,e)}function Qy(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!fk(n)||(e[n]=Qy(e[n],t[n]));return e}function fk(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=()=>hk().__FIREBASE_DEFAULTS__,mk=()=>{if(typeof process>"u"||typeof bp>"u")return;const e=bp.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gk=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_c(e[1]);return t&&JSON.parse(t)},Ky=()=>{try{return pk()||mk()||gk()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},vk=e=>{var t,n;return(n=(t=Ky())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},yk=e=>{const t=vk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Yy=()=>{var e;return(e=Ky())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[al(JSON.stringify(n)),al(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wk())}function Ek(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xy(){return Hy.NODE_ADMIN===!0}function Ck(){try{return typeof indexedDB=="object"}catch{return!1}}function Sk(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="FirebaseError";class Ao extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=xk,Object.setPrototypeOf(this,Ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jy.prototype.create)}}class Jy{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?kk(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ao(i,l,r)}}function kk(e,t){return e.replace(Tk,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Tk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(e){return JSON.parse(e)}function Se(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=go(_c(o[0])||""),n=go(_c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},Ik=function(e){const t=Zy(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Nk=function(e){const t=Zy(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ri(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Dp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ul(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function wc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(Op(o)&&Op(s)){if(!wc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Op(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)r[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=l^o&(s^l),d=1518500249):(u=o^s^l,d=1859775393):c<60?(u=o&s|l&(o|s),d=2400959708):(u=o^s^l,d=3395469782);const f=(i<<5|i>>>27)+u+a+d+r[c]&4294967295;a=l,l=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function Xd(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,O(r<e.length,"Surrogate pair missing trail surrogate.");const s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},sa=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e){return e&&e._delegate?e._delegate:e}class vo{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new oa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Lk(t))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=tr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=tr){return this.instances.has(t)}getOptions(t=tr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ok(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=tr){return this.component?this.component.multipleInstances?t:tr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ok(e){return e===tr?void 0:e}function Lk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Dk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const Mk={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Fk=ne.INFO,jk={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},zk=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=jk[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class e0{constructor(t){this.name=t,this._logLevel=Fk,this._logHandler=zk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const $k=(e,t)=>t.some(n=>e instanceof n);let Lp,Ap;function Uk(){return Lp||(Lp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bk(){return Ap||(Ap=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t0=new WeakMap,Ec=new WeakMap,n0=new WeakMap,du=new WeakMap,Jd=new WeakMap;function Wk(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Fn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&t0.set(n,e)}).catch(()=>{}),Jd.set(t,e),t}function Hk(e){if(Ec.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Ec.set(e,t)}let Cc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ec.get(e);if(t==="objectStoreNames")return e.objectStoreNames||n0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Vk(e){Cc=e(Cc)}function Gk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(fu(this),t,...n);return n0.set(r,t.sort?t.sort():[t]),Fn(r)}:Bk().includes(e)?function(...t){return e.apply(fu(this),t),Fn(t0.get(this))}:function(...t){return Fn(e.apply(fu(this),t))}}function Qk(e){return typeof e=="function"?Gk(e):(e instanceof IDBTransaction&&Hk(e),$k(e,Uk())?new Proxy(e,Cc):e)}function Fn(e){if(e instanceof IDBRequest)return Wk(e);if(du.has(e))return du.get(e);const t=Qk(e);return t!==e&&(du.set(e,t),Jd.set(t,e)),t}const fu=e=>Jd.get(e);function Kk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),l=Fn(s);return r&&s.addEventListener("upgradeneeded",a=>{r(Fn(s.result),a.oldVersion,a.newVersion,Fn(s.transaction),a)}),n&&s.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Yk=["get","getKey","getAll","getAllKeys","count"],qk=["put","add","delete","clear"],hu=new Map;function Mp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hu.get(t))return hu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=qk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yk.includes(n)))return;const o=async function(s,...l){const a=this.transaction(s,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return hu.set(t,o),o}Vk(e=>({...e,get:(t,n,r)=>Mp(t,n)||e.get(t,n,r),has:(t,n)=>!!Mp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Jk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sc="@firebase/app",Fp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new e0("@firebase/app"),Zk="@firebase/app-compat",e2="@firebase/analytics-compat",t2="@firebase/analytics",n2="@firebase/app-check-compat",r2="@firebase/app-check",i2="@firebase/auth",o2="@firebase/auth-compat",s2="@firebase/database",l2="@firebase/data-connect",a2="@firebase/database-compat",u2="@firebase/functions",c2="@firebase/functions-compat",d2="@firebase/installations",f2="@firebase/installations-compat",h2="@firebase/messaging",p2="@firebase/messaging-compat",m2="@firebase/performance",g2="@firebase/performance-compat",v2="@firebase/remote-config",y2="@firebase/remote-config-compat",_2="@firebase/storage",w2="@firebase/storage-compat",E2="@firebase/firestore",C2="@firebase/vertexai-preview",S2="@firebase/firestore-compat",x2="firebase",k2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="[DEFAULT]",T2={[Sc]:"fire-core",[Zk]:"fire-core-compat",[t2]:"fire-analytics",[e2]:"fire-analytics-compat",[r2]:"fire-app-check",[n2]:"fire-app-check-compat",[i2]:"fire-auth",[o2]:"fire-auth-compat",[s2]:"fire-rtdb",[l2]:"fire-data-connect",[a2]:"fire-rtdb-compat",[u2]:"fire-fn",[c2]:"fire-fn-compat",[d2]:"fire-iid",[f2]:"fire-iid-compat",[h2]:"fire-fcm",[p2]:"fire-fcm-compat",[m2]:"fire-perf",[g2]:"fire-perf-compat",[v2]:"fire-rc",[y2]:"fire-rc-compat",[_2]:"fire-gcs",[w2]:"fire-gcs-compat",[E2]:"fire-fst",[S2]:"fire-fst-compat",[C2]:"fire-vertex","fire-js":"fire-js",[x2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Map,I2=new Map,kc=new Map;function jp(e,t){try{e.container.addComponent(t)}catch(n){hn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function dl(e){const t=e.name;if(kc.has(t))return hn.debug(`There were multiple attempts to register component ${t}.`),!1;kc.set(t,e);for(const n of cl.values())jp(n,e);for(const n of I2.values())jp(n,e);return!0}function N2(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new Jy("app","Firebase",P2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=k2;function r0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:xc,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw jn.create("bad-app-name",{appName:String(i)});if(n||(n=Yy()),!n)throw jn.create("no-options");const o=cl.get(i);if(o){if(wc(n,o.options)&&wc(r,o.config))return o;throw jn.create("duplicate-app",{appName:i})}const s=new Ak(i);for(const a of kc.values())s.addComponent(a);const l=new R2(n,r,s);return cl.set(i,l),l}function D2(e=xc){const t=cl.get(e);if(!t&&e===xc&&Yy())return r0();if(!t)throw jn.create("no-app",{appName:e});return t}function Qr(e,t,n){var r;let i=(r=T2[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${t}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hn.warn(l.join(" "));return}dl(new vo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebase-heartbeat-database",L2=1,yo="firebase-heartbeat-store";let pu=null;function i0(){return pu||(pu=Kk(O2,L2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(yo)}catch(n){console.warn(n)}}}}).catch(e=>{throw jn.create("idb-open",{originalErrorMessage:e.message})})),pu}async function A2(e){try{const n=(await i0()).transaction(yo),r=await n.objectStore(yo).get(o0(e));return await n.done,r}catch(t){if(t instanceof Ao)hn.warn(t.message);else{const n=jn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hn.warn(n.message)}}}async function zp(e,t){try{const r=(await i0()).transaction(yo,"readwrite");await r.objectStore(yo).put(t,o0(e)),await r.done}catch(n){if(n instanceof Ao)hn.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hn.warn(r.message)}}}function o0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=1024,F2=30*24*60*60*1e3;class j2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$p();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=F2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$p(),{heartbeatsToSend:r,unsentEntries:i}=z2(this._heartbeatsCache.heartbeats),o=al(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hn.warn(n),""}}}function $p(){return new Date().toISOString().substring(0,10)}function z2(e,t=M2){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Up(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Up(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ck()?Sk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Up(e){return al(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(e){dl(new vo("platform-logger",t=>new Xk(t),"PRIVATE")),dl(new vo("heartbeat",t=>new j2(t),"PRIVATE")),Qr(Sc,Fp,e),Qr(Sc,Fp,"esm2017"),Qr("fire-js","")}U2("");var Bp={};const Wp="@firebase/database",Hp="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0="";function B2(e){s0=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Se(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:go(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return gn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new W2(t)}}catch{}return new H2},sr=l0("localStorage"),V2=l0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new e0("@firebase/database"),G2=function(){let e=1;return function(){return e++}}(),a0=function(e){const t=bk(e),n=new Rk;n.update(t);const r=n.digest();return qd.encodeByteArray(r)},Mo=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Mo.apply(null,r):typeof r=="object"?t+=Se(r):t+=r,t+=" "}return t};let Vi=null,Vp=!0;const Q2=function(e,t){O(!t,"Can't turn on custom loggers persistently."),Kr.logLevel=ne.VERBOSE,Vi=Kr.log.bind(Kr)},Qe=function(...e){if(Vp===!0&&(Vp=!1,Vi===null&&V2.get("logging_enabled")===!0&&Q2()),Vi){const t=Mo.apply(null,e);Vi(t)}},Fo=function(e){return function(...t){Qe(e,...t)}},Tc=function(...e){const t="FIREBASE INTERNAL ERROR: "+Mo(...e);Kr.error(t)},pn=function(...e){const t=`FIREBASE FATAL ERROR: ${Mo(...e)}`;throw Kr.error(t),new Error(t)},at=function(...e){const t="FIREBASE WARNING: "+Mo(...e);Kr.warn(t)},K2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},u0=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Y2=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ii="[MIN_NAME]",gr="[MAX_NAME]",fi=function(e,t){if(e===t)return 0;if(e===ii||t===gr)return-1;if(t===ii||e===gr)return 1;{const n=Gp(e),r=Gp(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},q2=function(e,t){return e===t?0:e<t?-1:1},ki=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Se(t))},Zd=function(e){if(typeof e!="object"||e===null)return Se(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Se(t[r]),n+=":",n+=Zd(e[t[r]]);return n+="}",n},c0=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ut(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const d0=function(e){O(!u0(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,o,s,l,a;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=l+r,s=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(a=t;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const d=u.join("");let c="";for(a=0;a<64;a+=8){let f=parseInt(d.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},X2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},J2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Z2(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const eT=new RegExp("^-?(0*)\\d{1,10}$"),tT=-2147483648,nT=2147483647,Gp=function(e){if(eT.test(e)){const t=Number(e);if(t>=tT&&t<=nT)return t}return null},hi=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw at("Exception was thrown by user callback.",n),t},Math.floor(0))}},rT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gi=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(t)}}class Ds{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Ds.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="5",f0="v",h0="s",p0="r",m0="f",g0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,v0="ls",y0="p",Ic="ac",_0="websocket",w0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,n,r,i,o=!1,s="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&sr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function sT(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function C0(e,t,n){O(typeof t=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(t===_0)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===w0)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);sT(e)&&(n.ns=e.namespace);const i=[];return ut(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.counters_={}}incrementCounter(t,n=1){gn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return dk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu={},gu={};function tf(e){const t=e.toString();return mu[t]||(mu[t]=new lT),mu[t]}function aT(e,t){const n=e.toString();return gu[n]||(gu[n]=t()),gu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="start",cT="close",dT="pLPCommand",fT="pRTLPCB",S0="id",x0="pw",k0="ser",hT="cb",pT="seg",mT="ts",gT="d",vT="dframe",T0=1870,I0=30,yT=T0-I0,_T=25e3,wT=3e4;class $r{constructor(t,n,r,i,o,s,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fo(t),this.stats_=tf(n),this.urlFn=a=>(this.appCheckToken&&(a[Ic]=this.appCheckToken),C0(n,w0,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new uT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wT)),Y2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nf((...o)=>{const[s,l,a,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Qp)this.id=l,this.password=a;else if(s===cT)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Qp]="t",r[k0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[hT]=this.scriptTagHolder.uniqueCallbackIdentifier),r[f0]=ef,this.transportSessionId&&(r[h0]=this.transportSessionId),this.lastSessionId&&(r[v0]=this.lastSessionId),this.applicationId&&(r[y0]=this.applicationId),this.appCheckToken&&(r[Ic]=this.appCheckToken),typeof location<"u"&&location.hostname&&g0.test(location.hostname)&&(r[p0]=m0);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$r.forceAllow_=!0}static forceDisallow(){$r.forceDisallow_=!0}static isAvailable(){return $r.forceAllow_?!0:!$r.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!X2()&&!J2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Se(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Gy(n),i=c0(r,yT);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[vT]="t",r[S0]=t,r[x0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Se(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class nf{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=G2(),window[dT+this.uniqueCallbackIdentifier]=t,window[fT+this.uniqueCallbackIdentifier]=n,this.myIFrame=nf.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){Qe("frame writing exception"),l.stack&&Qe(l.stack),Qe(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Qe("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[S0]=this.myID,t[x0]=this.myPW,t[k0]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+I0+r.length<=T0;){const s=this.pendingSegs.shift();r=r+"&"+pT+i+"="+s.seg+"&"+mT+i+"="+s.ts+"&"+gT+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(_T)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=16384,CT=45e3;let fl=null;typeof MozWebSocket<"u"?fl=MozWebSocket:typeof WebSocket<"u"&&(fl=WebSocket);class Yt{constructor(t,n,r,i,o,s,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fo(this.connId),this.stats_=tf(n),this.connURL=Yt.connectionURL_(n,s,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,o){const s={};return s[f0]=ef,typeof location<"u"&&location.hostname&&g0.test(location.hostname)&&(s[p0]=m0),n&&(s[h0]=n),r&&(s[v0]=r),i&&(s[Ic]=i),o&&(s[y0]=o),C0(t,_0,s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sr.set("previous_websocket_failure",!0);try{let r;Xy(),this.mySock=new fl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&fl!==null&&!Yt.forceDisallow_}static previouslyFailed(){return sr.isInMemoryStorage||sr.get("previous_websocket_failure")===!0}markConnectionHealthy(){sr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=go(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(O(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Se(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=c0(n,ET);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CT))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[$r,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Yt.isAvailable();let r=n&&!Yt.previouslyFailed();if(t.webSocketOnly&&(n||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yt];else{const i=this.transports_=[];for(const o of _o.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);_o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_o.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=6e4,xT=5e3,kT=10*1024,TT=100*1024,vu="t",Kp="d",IT="s",Yp="r",NT="e",qp="o",Xp="a",Jp="n",Zp="p",PT="h";class RT{constructor(t,n,r,i,o,s,l,a,u,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fo("c:"+this.id+":"),this.transportManager_=new _o(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Gi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(vu in t){const n=t[vu];n===Xp?this.upgradeIfSecondaryHealthy_():n===Yp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ki("t",t),r=ki("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ki("t",t),r=ki("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ki(vu,t);if(Kp in t){const r=t[Kp];if(n===PT){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Jp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===IT?this.onConnectionShutdown_(r):n===Yp?this.onReset_(r):n===NT?Tc("Server Error: "+r):n===qp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tc("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ef!==r&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Gi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ST))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t){this.allowedEvents_=t,this.listeners_={},O(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){O(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends P0{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new hl}getInitialEvent(t){return O(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=32,tm=768;class ee{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function q(){return new ee("")}function B(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Hn(e){return e.pieces_.length-e.pieceNum_}function re(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ee(e.pieces_,t)}function R0(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function bT(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function b0(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function D0(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ee(t,0)}function xe(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ee)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ee(n,0)}function H(e){return e.pieceNum_>=e.pieces_.length}function qe(e,t){const n=B(e),r=B(t);if(n===null)return t;if(n===r)return qe(re(e),re(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function rf(e,t){if(Hn(e)!==Hn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function At(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Hn(e)>Hn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class DT{constructor(t,n){this.errorPrefix_=n,this.parts_=b0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=sa(this.parts_[r]);O0(this)}}function OT(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=sa(t),O0(e)}function LT(e){const t=e.parts_.pop();e.byteLength_-=sa(t),e.parts_.length>0&&(e.byteLength_-=1)}function O0(e){if(e.byteLength_>tm)throw new Error(e.errorPrefix_+"has a key path longer than "+tm+" bytes ("+e.byteLength_+").");if(e.parts_.length>em)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+em+") or object contains a cycle "+nr(e))}function nr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends P0{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new of}getInitialEvent(t){return O(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=1e3,AT=60*5*1e3,nm=30*1e3,MT=1.3,FT=3e4,jT="server_kill",rm=3;class an extends N0{constructor(t,n,r,i,o,s,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=an.nextPersistentConnectionId_++,this.log_=Fo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ti,this.maxReconnectDelay_=AT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Xy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");of.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&hl.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,o={r:i,a:t,b:n};this.log_(Se(o)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new oa,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:s=>{const l=s.d;s.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(t,n,r,i){this.initConnection_();const o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(s).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(s,o,l=>{const a=l.d,u=l.s;an.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&gn(t,"w")){const r=ri(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Nk(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Ik(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const o={p:t},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Se(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Tc("Unrecognized action received from server: "+Se(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ti,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ti,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>FT&&(this.reconnectDelay_=Ti),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*MT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+an.nextConnectionId_++,o=this.lastSessionId;let s=!1,l=null;const a=function(){l?l.close():(s=!0,r())},u=function(c){O(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new RT(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,m=>{at(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(jT)},o))}catch(c){this.log_("Failed to get token: "+c),s||(this.repoInfo_.nodeAdmin&&at(c),a())}}}interrupt(t){Qe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Qe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Dp(this.interruptReasons_)&&(this.reconnectDelay_=Ti,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(o=>Zd(o)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new ee(t).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Qe("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rm&&(this.reconnectDelay_=nm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Qe("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+s0.replace(/\./g,"-")]=1,qy()?t["framework.cordova"]=1:Ek()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=hl.getInstance().currentlyOnline();return Dp(this.interruptReasons_)&&t}}an.nextPersistentConnectionId_=0;an.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new W(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new W(ii,t),i=new W(ii,n);return this.compare(r,i)!==0}minPost(){return W.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms;class L0 extends la{static get __EMPTY_NODE(){return ms}static set __EMPTY_NODE(t){ms=t}compare(t,n){return fi(t.name,n.name)}isDefinedOn(t){throw ci("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return W.MIN}maxPost(){return new W(gr,ms)}makePost(t,n){return O(typeof t=="string","KeyIndex indexValue must always be a string."),new W(t,ms)}toString(){return".key"}}const Yr=new L0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Re{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Re.RED,this.left=i??it.EMPTY_NODE,this.right=o??it.EMPTY_NODE}copy(t,n,r,i,o){return new Re(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return it.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return it.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Re.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Re.RED=!0;Re.BLACK=!1;class zT{copy(t,n,r,i,o){return this}insert(t,n,r){return new Re(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class it{constructor(t,n=it.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new it(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Re.BLACK,null,null))}remove(t){return new it(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Re.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new gs(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new gs(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new gs(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new gs(this.root_,null,this.comparator_,!0,t)}}it.EMPTY_NODE=new zT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e,t){return fi(e.name,t.name)}function sf(e,t){return fi(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;function UT(e){Nc=e}const A0=function(e){return typeof e=="number"?"number:"+d0(e):"string:"+e},M0=function(e){if(e.isLeafNode()){const t=e.val();O(typeof t=="string"||typeof t=="number"||typeof t=="object"&&gn(t,".sv"),"Priority must be a string or number.")}else O(e===Nc||e.isEmpty(),"priority of unexpected type.");O(e===Nc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im;class Ne{constructor(t,n=Ne.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),M0(this.priorityNode_)}static set __childrenNodeConstructor(t){im=t}static get __childrenNodeConstructor(){return im}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ne(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ne.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return H(t)?this:B(t)===".priority"?this.priorityNode_:Ne.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Ne.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=B(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||Hn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ne.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+A0(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=d0(this.value_):t+=this.value_,this.lazyHash_=a0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ne.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ne.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Ne.VALUE_TYPE_ORDER.indexOf(n),o=Ne.VALUE_TYPE_ORDER.indexOf(r);return O(i>=0,"Unknown leaf type: "+n),O(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ne.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0,j0;function BT(e){F0=e}function WT(e){j0=e}class HT extends la{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?fi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(gr,new Ne("[PRIORITY-POST]",j0))}makePost(t,n){const r=F0(t);return new W(n,new Ne("[PRIORITY-POST]",r))}toString(){return".priority"}}const me=new HT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=Math.log(2);class GT{constructor(t){const n=o=>parseInt(Math.log(o)/VT,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const pl=function(e,t,n,r){e.sort(t);const i=function(a,u){const d=u-a;let c,f;if(d===0)return null;if(d===1)return c=e[a],f=n?n(c):c,new Re(f,c.node,Re.BLACK,null,null);{const m=parseInt(d/2,10)+a,v=i(a,m),y=i(m+1,u);return c=e[m],f=n?n(c):c,new Re(f,c.node,Re.BLACK,v,y)}},o=function(a){let u=null,d=null,c=e.length;const f=function(v,y){const E=c-v,p=c;c-=v;const h=i(E+1,p),g=e[E],w=n?n(g):g;m(new Re(w,g.node,y,null,h))},m=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),E=Math.pow(2,a.count-(v+1));y?f(E,Re.BLACK):(f(E,Re.BLACK),f(E,Re.RED))}return d},s=new GT(e.length),l=o(s);return new it(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu;const Ii={};class sn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return O(me,"ChildrenNode.ts has not been loaded"),yu=yu||new sn({".priority":Ii},{".priority":me}),yu}get(t){const n=ri(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof it?n:null}hasIndex(t){return gn(this.indexSet_,t.toString())}addIndex(t,n){O(t!==Yr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(W.Wrap);let s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let l;i?l=pl(r,t.getCompare()):l=Ii;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const d=Object.assign({},this.indexes_);return d[a]=l,new sn(d,u)}addToIndexes(t,n){const r=ul(this.indexes_,(i,o)=>{const s=ri(this.indexSet_,o);if(O(s,"Missing index implementation for "+o),i===Ii)if(s.isDefinedOn(t.node)){const l=[],a=n.getIterator(W.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),pl(l,s.getCompare())}else return Ii;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new W(t.name,l))),a.insert(t,t.node)}});return new sn(r,this.indexSet_)}removeFromIndexes(t,n){const r=ul(this.indexes_,i=>{if(i===Ii)return i;{const o=n.get(t.name);return o?i.remove(new W(t.name,o)):i}});return new sn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ni;class F{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&M0(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ni||(Ni=new F(new it(sf),null,sn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ni}updatePriority(t){return this.children_.isEmpty()?this:new F(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Ni:n}}getChild(t){const n=B(t);return n===null?this:this.getImmediateChild(n).getChild(re(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(O(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new W(t,n);let i,o;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Ni:this.priorityNode_;return new F(i,s,o)}}updateChild(t,n){const r=B(t);if(r===null)return n;{O(B(t)!==".priority"||Hn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(re(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(me,(s,l)=>{n[s]=l.val(t),r++,o&&F.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!t&&o&&i<2*r){const s=[];for(const l in n)s[l]=n[l];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+A0(this.getPriority().val())+":"),this.forEachChild(me,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":a0(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new W(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new W(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new W(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,W.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,W.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)>0;)i.getNext(),o=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===jo?-1:0}withIndex(t){if(t===Yr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new F(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Yr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(me),i=n.getIterator(me);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(t){return t===Yr?null:this.indexMap_.get(t.toString())}}F.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class QT extends F{constructor(){super(new it(sf),F.EMPTY_NODE,sn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return F.EMPTY_NODE}isEmpty(){return!1}}const jo=new QT;Object.defineProperties(W,{MIN:{value:new W(ii,F.EMPTY_NODE)},MAX:{value:new W(gr,jo)}});L0.__EMPTY_NODE=F.EMPTY_NODE;Ne.__childrenNodeConstructor=F;UT(jo);WT(jo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=!0;function be(e,t=null){if(e===null)return F.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),O(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Ne(n,be(t))}if(!(e instanceof Array)&&KT){const n=[];let r=!1;if(ut(e,(s,l)=>{if(s.substring(0,1)!=="."){const a=be(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new W(s,a)))}}),n.length===0)return F.EMPTY_NODE;const o=pl(n,$T,s=>s.name,sf);if(r){const s=pl(n,me.getCompare());return new F(o,be(t),new sn({".priority":s},{".priority":me}))}else return new F(o,be(t),sn.Default)}else{let n=F.EMPTY_NODE;return ut(e,(r,i)=>{if(gn(e,r)&&r.substring(0,1)!=="."){const o=be(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(be(t))}}BT(be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends la{constructor(t){super(),this.indexPath_=t,O(!H(t)&&B(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?fi(t.name,n.name):o}makePost(t,n){const r=be(t),i=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new W(n,i)}maxPost(){const t=F.EMPTY_NODE.updateChild(this.indexPath_,jo);return new W(gr,t)}toString(){return b0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends la{compare(t,n){const r=t.node.compareTo(n.node);return r===0?fi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(t,n){const r=be(t);return new W(n,r)}toString(){return".value"}}const XT=new qT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(e){return{type:"value",snapshotNode:e}}function oi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function wo(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Eo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function JT(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){O(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(wo(n,l)):O(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?s.trackChildChange(oi(n,r)):s.trackChildChange(Eo(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(me,(i,o)=>{n.hasChild(i)||r.trackChildChange(wo(i,o))}),n.isLeafNode()||n.forEachChild(me,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Eo(i,o,s))}else r.trackChildChange(oi(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?F.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.indexedFilter_=new lf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Co.getStartPost_(t),this.endPost_=Co.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new W(n,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=F.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(F.EMPTY_NODE);const o=this;return n.forEachChild(me,(s,l)=>{o.matches(new W(s,l))||(i=i.updateImmediateChild(s,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Co(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new W(n,r))||(r=F.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=F.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(F.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const l=o.getNext();s<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?s++:i=i.updateImmediateChild(l.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const c=this.index_.getCompare();s=(f,m)=>c(m,f)}else s=this.index_.getCompare();const l=t;O(l.numChildren()===this.limit_,"");const a=new W(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:s(f,a);if(d&&!r.isEmpty()&&m>=0)return o!=null&&o.trackChildChange(Eo(n,r,c)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(wo(n,c));const y=l.updateImmediateChild(n,F.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(oi(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:d&&s(u,a)>=0?(o!=null&&(o.trackChildChange(wo(u.name,u.node)),o.trackChildChange(oi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,F.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ii}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===me}copy(){const t=new af;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function eI(e){return e.loadsAllData()?new lf(e.getIndex()):e.hasLimit()?new ZT(e):new Co(e)}function om(e){const t={};if(e.isDefault())return t;let n;if(e.index_===me?n="$priority":e.index_===XT?n="$value":e.index_===Yr?n="$key":(O(e.index_ instanceof YT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Se(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Se(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Se(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Se(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Se(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function sm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==me&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends N0{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Fo("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(O(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=ml.getListenId_(t,r),l={};this.listens_[s]=l;const a=om(t._queryParams);this.restRequest_(o+".json",a,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(o,c,!1,r),ri(this.listens_,s)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=ml.getListenId_(t,n);delete this.listens_[r]}get(t){const n=om(t._queryParams),r=t._path.toString(),i=new oa;return this.restRequest_(r+".json",n,(o,s)=>{let l=s;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Pk(n);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=go(l.responseText)}catch{at("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&at("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(){return{value:null,children:new Map}}function $0(e,t,n){if(H(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=B(t);e.children.has(r)||e.children.set(r,gl());const i=e.children.get(r);t=re(t),$0(i,t,n)}}function Pc(e,t,n){e.value!==null?n(t,e.value):nI(e,(r,i)=>{const o=new ee(t.toString()+"/"+r);Pc(i,o,n)})}function nI(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ut(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=10*1e3,iI=30*1e3,oI=5*60*1e3;class sI{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rI(t);const r=lm+(iI-lm)*Math.random();Gi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ut(t,(i,o)=>{o>0&&gn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Gi(this.reportStats_.bind(this),Math.floor(Math.random()*2*oI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mt||(Mt={}));function U0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Mt.ACK_USER_WRITE,this.source=U0()}operationForChild(t){if(H(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ee(t));return new vl(q(),n,this.revert)}}else return O(B(this.path)===t,"operationForChild called for unrelated child."),new vl(re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,n){this.source=t,this.path=n,this.type=Mt.LISTEN_COMPLETE}operationForChild(t){return H(this.path)?new So(this.source,q()):new So(this.source,re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Mt.OVERWRITE}operationForChild(t){return H(this.path)?new vr(this.source,q(),this.snap.getImmediateChild(t)):new vr(this.source,re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Mt.MERGE}operationForChild(t){if(H(this.path)){const n=this.children.subtree(new ee(t));return n.isEmpty()?null:n.value?new vr(this.source,q(),n.value):new xo(this.source,q(),n)}else return O(B(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xo(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(H(t))return this.isFullyInitialized()&&!this.filtered_;const n=B(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function aI(e,t,n,r){const i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(JT(s.childName,s.snapshotNode))}),Pi(e,i,"child_removed",t,r,n),Pi(e,i,"child_added",t,r,n),Pi(e,i,"child_moved",o,r,n),Pi(e,i,"child_changed",t,r,n),Pi(e,i,"value",t,r,n),i}function Pi(e,t,n,r,i,o){const s=r.filter(l=>l.type===n);s.sort((l,a)=>cI(e,l,a)),s.forEach(l=>{const a=uI(e,l,o);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function uI(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function cI(e,t,n){if(t.childName==null||n.childName==null)throw ci("Should only compare child_ events.");const r=new W(t.childName,t.snapshotNode),i=new W(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(e,t){return{eventCache:e,serverCache:t}}function Qi(e,t,n,r){return aa(new Vn(t,n,r),e.serverCache)}function B0(e,t,n,r){return aa(e.eventCache,new Vn(t,n,r))}function yl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function yr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u;const dI=()=>(_u||(_u=new it(q2)),_u);class se{constructor(t,n=dI()){this.value=t,this.children=n}static fromObject(t){let n=new se(null);return ut(t,(r,i)=>{n=n.set(new ee(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(H(t))return null;{const r=B(t),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(re(t),n);return o!=null?{path:xe(new ee(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(H(t))return this;{const n=B(t),r=this.children.get(n);return r!==null?r.subtree(re(t)):new se(null)}}set(t,n){if(H(t))return new se(n,this.children);{const r=B(t),o=(this.children.get(r)||new se(null)).set(re(t),n),s=this.children.insert(r,o);return new se(this.value,s)}}remove(t){if(H(t))return this.children.isEmpty()?new se(null):new se(null,this.children);{const n=B(t),r=this.children.get(n);if(r){const i=r.remove(re(t));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new se(null):new se(this.value,o)}else return this}}get(t){if(H(t))return this.value;{const n=B(t),r=this.children.get(n);return r?r.get(re(t)):null}}setTree(t,n){if(H(t))return n;{const r=B(t),o=(this.children.get(r)||new se(null)).setTree(re(t),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new se(this.value,s)}}fold(t){return this.fold_(q(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(xe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,q(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(H(t))return null;{const o=B(t),s=this.children.get(o);return s?s.findOnPath_(re(t),xe(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,q(),n)}foreachOnPath_(t,n,r){if(H(t))return this;{this.value&&r(n,this.value);const i=B(t),o=this.children.get(i);return o?o.foreachOnPath_(re(t),xe(n,i),r):new se(null)}}foreach(t){this.foreach_(q(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(xe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.writeTree_=t}static empty(){return new zt(new se(null))}}function Ki(e,t,n){if(H(t))return new zt(new se(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let o=r.value;const s=qe(i,t);return o=o.updateChild(s,n),new zt(e.writeTree_.set(i,o))}else{const i=new se(n),o=e.writeTree_.setTree(t,i);return new zt(o)}}}function am(e,t,n){let r=e;return ut(n,(i,o)=>{r=Ki(r,xe(t,i),o)}),r}function um(e,t){if(H(t))return zt.empty();{const n=e.writeTree_.setTree(t,new se(null));return new zt(n)}}function Rc(e,t){return Cr(e,t)!=null}function Cr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(qe(n.path,t)):null}function cm(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(me,(r,i)=>{t.push(new W(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new W(r,i.value))}),t}function zn(e,t){if(H(t))return e;{const n=Cr(e,t);return n!=null?new zt(new se(n)):new zt(e.writeTree_.subtree(t))}}function bc(e){return e.writeTree_.isEmpty()}function si(e,t){return W0(q(),e.writeTree_,t)}function W0(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(O(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=W0(xe(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(xe(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(e,t){return Q0(t,e)}function fI(e,t,n,r,i){O(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ki(e.visibleWrites,t,n)),e.lastWriteId=r}function hI(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function pI(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);O(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const l=e.allWrites[s];l.visible&&(s>=n&&mI(l,r.path)?i=!1:At(r.path,l.path)&&(o=!0)),s--}if(i){if(o)return gI(e),!0;if(r.snap)e.visibleWrites=um(e.visibleWrites,r.path);else{const l=r.children;ut(l,a=>{e.visibleWrites=um(e.visibleWrites,xe(r.path,a))})}return!0}else return!1}function mI(e,t){if(e.snap)return At(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&At(xe(e.path,n),t))return!0;return!1}function gI(e){e.visibleWrites=H0(e.allWrites,vI,q()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function vI(e){return e.visible}function H0(e,t,n){let r=zt.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let l;if(o.snap)At(n,s)?(l=qe(n,s),r=Ki(r,l,o.snap)):At(s,n)&&(l=qe(s,n),r=Ki(r,q(),o.snap.getChild(l)));else if(o.children){if(At(n,s))l=qe(n,s),r=am(r,l,o.children);else if(At(s,n))if(l=qe(s,n),H(l))r=am(r,q(),o.children);else{const a=ri(o.children,B(l));if(a){const u=a.getChild(re(l));r=Ki(r,q(),u)}}}else throw ci("WriteRecord should have .snap or .children")}}return r}function V0(e,t,n,r,i){if(!r&&!i){const o=Cr(e.visibleWrites,t);if(o!=null)return o;{const s=zn(e.visibleWrites,t);if(bc(s))return n;if(n==null&&!Rc(s,q()))return null;{const l=n||F.EMPTY_NODE;return si(s,l)}}}else{const o=zn(e.visibleWrites,t);if(!i&&bc(o))return n;if(!i&&n==null&&!Rc(o,q()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(At(u.path,t)||At(t,u.path))},l=H0(e.allWrites,s,t),a=n||F.EMPTY_NODE;return si(l,a)}}}function yI(e,t,n){let r=F.EMPTY_NODE;const i=Cr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(me,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=zn(e.visibleWrites,t);return n.forEachChild(me,(s,l)=>{const a=si(zn(o,new ee(s)),l);r=r.updateImmediateChild(s,a)}),cm(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=zn(e.visibleWrites,t);return cm(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function _I(e,t,n,r,i){O(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=xe(t,n);if(Rc(e.visibleWrites,o))return null;{const s=zn(e.visibleWrites,o);return bc(s)?i.getChild(n):si(s,i.getChild(n))}}function wI(e,t,n,r){const i=xe(t,n),o=Cr(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=zn(e.visibleWrites,i);return si(s,r.getNode().getImmediateChild(n))}else return null}function EI(e,t){return Cr(e.visibleWrites,t)}function CI(e,t,n,r,i,o,s){let l;const a=zn(e.visibleWrites,t),u=Cr(a,q());if(u!=null)l=u;else if(n!=null)l=si(a,n);else return[];if(l=l.withIndex(s),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=s.getCompare(),f=o?l.getReverseIteratorFrom(r,s):l.getIteratorFrom(r,s);let m=f.getNext();for(;m&&d.length<i;)c(m,r)!==0&&d.push(m),m=f.getNext();return d}else return[]}function SI(){return{visibleWrites:zt.empty(),allWrites:[],lastWriteId:-1}}function _l(e,t,n,r){return V0(e.writeTree,e.treePath,t,n,r)}function df(e,t){return yI(e.writeTree,e.treePath,t)}function dm(e,t,n,r){return _I(e.writeTree,e.treePath,t,n,r)}function wl(e,t){return EI(e.writeTree,xe(e.treePath,t))}function xI(e,t,n,r,i,o){return CI(e.writeTree,e.treePath,t,n,r,i,o)}function ff(e,t,n){return wI(e.writeTree,e.treePath,t,n)}function G0(e,t){return Q0(xe(e.treePath,t),e.writeTree)}function Q0(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Eo(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,wo(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,oi(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Eo(r,t.snapshotNode,i.oldSnap));else throw ci("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const K0=new TI;class hf{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Vn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ff(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yr(this.viewCache_),o=xI(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(e){return{filter:e}}function NI(e,t){O(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),O(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function PI(e,t,n,r,i){const o=new kI;let s,l;if(n.type===Mt.OVERWRITE){const u=n;u.source.fromUser?s=Dc(e,t,u.path,u.snap,r,i,o):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!H(u.path),s=El(e,t,u.path,u.snap,r,i,l,o))}else if(n.type===Mt.MERGE){const u=n;u.source.fromUser?s=bI(e,t,u.path,u.children,r,i,o):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),s=Oc(e,t,u.path,u.children,r,i,l,o))}else if(n.type===Mt.ACK_USER_WRITE){const u=n;u.revert?s=LI(e,t,u.path,r,i,o):s=DI(e,t,u.path,u.affectedTree,r,i,o)}else if(n.type===Mt.LISTEN_COMPLETE)s=OI(e,t,n.path,r,o);else throw ci("Unknown operation type: "+n.type);const a=o.getChanges();return RI(t,s,a),{viewCache:s,changes:a}}function RI(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=yl(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(z0(yl(t)))}}function Y0(e,t,n,r,i,o){const s=t.eventCache;if(wl(r,n)!=null)return t;{let l,a;if(H(n))if(O(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=yr(t),d=u instanceof F?u:F.EMPTY_NODE,c=df(r,d);l=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{const u=_l(r,yr(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=B(n);if(u===".priority"){O(Hn(n)===1,"Can't have a priority with additional path components");const d=s.getNode();a=t.serverCache.getNode();const c=dm(r,n,d,a);c!=null?l=e.filter.updatePriority(d,c):l=s.getNode()}else{const d=re(n);let c;if(s.isCompleteForChild(u)){a=t.serverCache.getNode();const f=dm(r,n,s.getNode(),a);f!=null?c=s.getNode().getImmediateChild(u).updateChild(d,f):c=s.getNode().getImmediateChild(u)}else c=ff(r,u,t.serverCache);c!=null?l=e.filter.updateChild(s.getNode(),u,c,d,i,o):l=s.getNode()}}return Qi(t,l,s.isFullyInitialized()||H(n),e.filter.filtersNodes())}}function El(e,t,n,r,i,o,s,l){const a=t.serverCache;let u;const d=s?e.filter:e.filter.getIndexedFilter();if(H(n))u=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const m=a.getNode().updateChild(n,r);u=d.updateFullNode(a.getNode(),m,null)}else{const m=B(n);if(!a.isCompleteForPath(n)&&Hn(n)>1)return t;const v=re(n),E=a.getNode().getImmediateChild(m).updateChild(v,r);m===".priority"?u=d.updatePriority(a.getNode(),E):u=d.updateChild(a.getNode(),m,E,v,K0,null)}const c=B0(t,u,a.isFullyInitialized()||H(n),d.filtersNodes()),f=new hf(i,c,o);return Y0(e,c,n,i,f,l)}function Dc(e,t,n,r,i,o,s){const l=t.eventCache;let a,u;const d=new hf(i,t,o);if(H(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),a=Qi(t,u,!0,e.filter.filtersNodes());else{const c=B(n);if(c===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=Qi(t,u,l.isFullyInitialized(),l.isFiltered());else{const f=re(n),m=l.getNode().getImmediateChild(c);let v;if(H(f))v=r;else{const y=d.getCompleteChild(c);y!=null?R0(f)===".priority"&&y.getChild(D0(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=F.EMPTY_NODE}if(m.equals(v))a=t;else{const y=e.filter.updateChild(l.getNode(),c,v,f,d,s);a=Qi(t,y,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function fm(e,t){return e.eventCache.isCompleteForChild(t)}function bI(e,t,n,r,i,o,s){let l=t;return r.foreach((a,u)=>{const d=xe(n,a);fm(t,B(d))&&(l=Dc(e,l,d,u,i,o,s))}),r.foreach((a,u)=>{const d=xe(n,a);fm(t,B(d))||(l=Dc(e,l,d,u,i,o,s))}),l}function hm(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Oc(e,t,n,r,i,o,s,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;H(n)?u=r:u=new se(null).setTree(n,r);const d=t.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const m=t.serverCache.getNode().getImmediateChild(c),v=hm(e,m,f);a=El(e,a,new ee(c),v,i,o,s,l)}}),u.children.inorderTraversal((c,f)=>{const m=!t.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!m){const v=t.serverCache.getNode().getImmediateChild(c),y=hm(e,v,f);a=El(e,a,new ee(c),y,i,o,s,l)}}),a}function DI(e,t,n,r,i,o,s){if(wl(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(H(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return El(e,t,n,a.getNode().getChild(n),i,o,l,s);if(H(n)){let u=new se(null);return a.getNode().forEachChild(Yr,(d,c)=>{u=u.set(new ee(d),c)}),Oc(e,t,n,u,i,o,l,s)}else return t}else{let u=new se(null);return r.foreach((d,c)=>{const f=xe(n,d);a.isCompleteForPath(f)&&(u=u.set(d,a.getNode().getChild(f)))}),Oc(e,t,n,u,i,o,l,s)}}function OI(e,t,n,r,i){const o=t.serverCache,s=B0(t,o.getNode(),o.isFullyInitialized()||H(n),o.isFiltered());return Y0(e,s,n,r,K0,i)}function LI(e,t,n,r,i,o){let s;if(wl(r,n)!=null)return t;{const l=new hf(r,t,i),a=t.eventCache.getNode();let u;if(H(n)||B(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=_l(r,yr(t));else{const c=t.serverCache.getNode();O(c instanceof F,"serverChildren would be complete if leaf node"),d=df(r,c)}d=d,u=e.filter.updateFullNode(a,d,o)}else{const d=B(n);let c=ff(r,d,t.serverCache);c==null&&t.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?u=e.filter.updateChild(a,d,c,re(n),l,o):t.eventCache.getNode().hasChild(d)?u=e.filter.updateChild(a,d,F.EMPTY_NODE,re(n),l,o):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=_l(r,yr(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||wl(r,q())!=null,Qi(t,u,s,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new lf(r.getIndex()),o=eI(r);this.processor_=II(o);const s=n.serverCache,l=n.eventCache,a=i.updateFullNode(F.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(F.EMPTY_NODE,l.getNode(),null),d=new Vn(a,s.isFullyInitialized(),i.filtersNodes()),c=new Vn(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=aa(c,d),this.eventGenerator_=new lI(this.query_)}get query(){return this.query_}}function MI(e){return e.viewCache_.serverCache.getNode()}function FI(e){return yl(e.viewCache_)}function jI(e,t){const n=yr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!H(t)&&!n.getImmediateChild(B(t)).isEmpty())?n.getChild(t):null}function pm(e){return e.eventRegistrations_.length===0}function zI(e,t){e.eventRegistrations_.push(t)}function mm(e,t,n){const r=[];if(n){O(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function gm(e,t,n,r){t.type===Mt.MERGE&&t.source.queryId!==null&&(O(yr(e.viewCache_),"We should always have a full cache before handling merges"),O(yl(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=PI(e.processor_,i,t,n,r);return NI(e.processor_,o.viewCache),O(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,q0(e,o.changes,o.viewCache.eventCache.getNode(),null)}function $I(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(me,(o,s)=>{r.push(oi(o,s))}),n.isFullyInitialized()&&r.push(z0(n.getNode())),q0(e,r,n.getNode(),t)}function q0(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return aI(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl;class X0{constructor(){this.views=new Map}}function UI(e){O(!Cl,"__referenceConstructor has already been defined"),Cl=e}function BI(){return O(Cl,"Reference.ts has not been loaded"),Cl}function WI(e){return e.views.size===0}function pf(e,t,n,r){const i=t.source.queryId;if(i!==null){const o=e.views.get(i);return O(o!=null,"SyncTree gave us an op for an invalid query."),gm(o,t,n,r)}else{let o=[];for(const s of e.views.values())o=o.concat(gm(s,t,n,r));return o}}function J0(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let l=_l(n,i?r:null),a=!1;l?a=!0:r instanceof F?(l=df(n,r),a=!1):(l=F.EMPTY_NODE,a=!1);const u=aa(new Vn(l,a,!1),new Vn(r,i,!1));return new AI(t,u)}return s}function HI(e,t,n,r,i,o){const s=J0(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),zI(s,n),$I(s,n)}function VI(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const l=Gn(e);if(i==="default")for(const[a,u]of e.views.entries())s=s.concat(mm(u,n,r)),pm(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||o.push(u.query));else{const a=e.views.get(i);a&&(s=s.concat(mm(a,n,r)),pm(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||o.push(a.query)))}return l&&!Gn(e)&&o.push(new(BI())(t._repo,t._path)),{removed:o,events:s}}function Z0(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function $n(e,t){let n=null;for(const r of e.views.values())n=n||jI(r,t);return n}function e1(e,t){if(t._queryParams.loadsAllData())return ca(e);{const r=t._queryIdentifier;return e.views.get(r)}}function t1(e,t){return e1(e,t)!=null}function Gn(e){return ca(e)!=null}function ca(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl;function GI(e){O(!Sl,"__referenceConstructor has already been defined"),Sl=e}function QI(){return O(Sl,"Reference.ts has not been loaded"),Sl}let KI=1;class vm{constructor(t){this.listenProvider_=t,this.syncPointTree_=new se(null),this.pendingWriteTree_=SI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function n1(e,t,n,r,i){return fI(e.pendingWriteTree_,t,n,r,i),i?$o(e,new vr(U0(),t,n)):[]}function lr(e,t,n=!1){const r=hI(e.pendingWriteTree_,t);if(pI(e.pendingWriteTree_,t)){let o=new se(null);return r.snap!=null?o=o.set(q(),!0):ut(r.children,s=>{o=o.set(new ee(s),!0)}),$o(e,new vl(r.path,o,n))}else return[]}function zo(e,t,n){return $o(e,new vr(uf(),t,n))}function YI(e,t,n){const r=se.fromObject(n);return $o(e,new xo(uf(),t,r))}function qI(e,t){return $o(e,new So(uf(),t))}function XI(e,t,n){const r=gf(e,n);if(r){const i=vf(r),o=i.path,s=i.queryId,l=qe(o,t),a=new So(cf(s),l);return yf(e,o,a)}else return[]}function xl(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let l=[];if(s&&(t._queryIdentifier==="default"||t1(s,t))){const a=VI(s,t,n,r);WI(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=a.removed;if(l=a.events,!i){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(o,(f,m)=>Gn(m));if(d&&!c){const f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){const m=eN(f);for(let v=0;v<m.length;++v){const y=m[v],E=y.query,p=s1(e,y);e.listenProvider_.startListening(Yi(E),ko(e,E),p.hashFn,p.onComplete)}}}!c&&u.length>0&&!r&&(d?e.listenProvider_.stopListening(Yi(t),null):u.forEach(f=>{const m=e.queryToTagMap.get(da(f));e.listenProvider_.stopListening(Yi(f),m)}))}tN(e,u)}return l}function r1(e,t,n,r){const i=gf(e,r);if(i!=null){const o=vf(i),s=o.path,l=o.queryId,a=qe(s,t),u=new vr(cf(l),a,n);return yf(e,s,u)}else return[]}function JI(e,t,n,r){const i=gf(e,r);if(i){const o=vf(i),s=o.path,l=o.queryId,a=qe(s,t),u=se.fromObject(n),d=new xo(cf(l),a,u);return yf(e,s,d)}else return[]}function Lc(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,m)=>{const v=qe(f,i);o=o||$n(m,v),s=s||Gn(m)});let l=e.syncPointTree_.get(i);l?(s=s||Gn(l),o=o||$n(l,q())):(l=new X0,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;o!=null?a=!0:(a=!1,o=F.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((m,v)=>{const y=$n(v,q());y&&(o=o.updateImmediateChild(m,y))}));const u=t1(l,t);if(!u&&!t._queryParams.loadsAllData()){const f=da(t);O(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=nN();e.queryToTagMap.set(f,m),e.tagToQueryMap.set(m,f)}const d=ua(e.pendingWriteTree_,i);let c=HI(l,t,n,d,o,a);if(!u&&!s&&!r){const f=e1(l,t);c=c.concat(rN(e,t,f))}return c}function mf(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,l)=>{const a=qe(s,t),u=$n(l,a);if(u)return u});return V0(i,t,o,n,!0)}function ZI(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,d)=>{const c=qe(u,n);r=r||$n(d,c)});let i=e.syncPointTree_.get(n);i?r=r||$n(i,q()):(i=new X0,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=r!=null,s=o?new Vn(r,!0,!1):null,l=ua(e.pendingWriteTree_,t._path),a=J0(i,t,l,o?s.getNode():F.EMPTY_NODE,o);return FI(a)}function $o(e,t){return i1(t,e.syncPointTree_,null,ua(e.pendingWriteTree_,q()))}function i1(e,t,n,r){if(H(e.path))return o1(e,t,n,r);{const i=t.get(q());n==null&&i!=null&&(n=$n(i,q()));let o=[];const s=B(e.path),l=e.operationForChild(s),a=t.children.get(s);if(a&&l){const u=n?n.getImmediateChild(s):null,d=G0(r,s);o=o.concat(i1(l,a,u,d))}return i&&(o=o.concat(pf(i,e,r,n))),o}}function o1(e,t,n,r){const i=t.get(q());n==null&&i!=null&&(n=$n(i,q()));let o=[];return t.children.inorderTraversal((s,l)=>{const a=n?n.getImmediateChild(s):null,u=G0(r,s),d=e.operationForChild(s);d&&(o=o.concat(o1(d,l,a,u)))}),i&&(o=o.concat(pf(i,e,r,n))),o}function s1(e,t){const n=t.query,r=ko(e,n);return{hashFn:()=>(MI(t)||F.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?XI(e,n._path,r):qI(e,n._path);{const o=Z2(i,n);return xl(e,n,null,o)}}}}function ko(e,t){const n=da(t);return e.queryToTagMap.get(n)}function da(e){return e._path.toString()+"$"+e._queryIdentifier}function gf(e,t){return e.tagToQueryMap.get(t)}function vf(e){const t=e.indexOf("$");return O(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ee(e.substr(0,t))}}function yf(e,t,n){const r=e.syncPointTree_.get(t);O(r,"Missing sync point for query tag that we're tracking");const i=ua(e.pendingWriteTree_,t);return pf(r,n,i,null)}function eN(e){return e.fold((t,n,r)=>{if(n&&Gn(n))return[ca(n)];{let i=[];return n&&(i=Z0(n)),ut(r,(o,s)=>{i=i.concat(s)}),i}})}function Yi(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(QI())(e._repo,e._path):e}function tN(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=da(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function nN(){return KI++}function rN(e,t,n){const r=t._path,i=ko(e,t),o=s1(e,n),s=e.listenProvider_.startListening(Yi(t),i,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(r);if(i)O(!Gn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,c)=>{if(!H(u)&&d&&Gn(d))return[ca(d).query];{let f=[];return d&&(f=f.concat(Z0(d).map(m=>m.query))),ut(c,(m,v)=>{f=f.concat(v)}),f}});for(let u=0;u<a.length;++u){const d=a[u];e.listenProvider_.stopListening(Yi(d),ko(e,d))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new _f(n)}node(){return this.node_}}class wf{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=xe(this.path_,t);return new wf(this.syncTree_,n)}node(){return mf(this.syncTree_,this.path_)}}const iN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},ym=function(e,t,n){if(!e||typeof e!="object")return e;if(O(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return oN(e[".sv"],t,n);if(typeof e[".sv"]=="object")return sN(e[".sv"],t);O(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},oN=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+e)}},sN=function(e,t,n){e.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const i=t.node();if(O(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},lN=function(e,t,n,r){return Ef(t,new wf(n,e),r)},l1=function(e,t,n){return Ef(e,new _f(t),n)};function Ef(e,t,n){const r=e.getPriority().val(),i=ym(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,l=ym(s.getValue(),t,n);return l!==s.getValue()||i!==s.getPriority().val()?new Ne(l,be(i)):e}else{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ne(i))),s.forEachChild(me,(l,a)=>{const u=Ef(a,t.getImmediateChild(l),n);u!==a&&(o=o.updateImmediateChild(l,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Sf(e,t){let n=t instanceof ee?t:new ee(t),r=e,i=B(n);for(;i!==null;){const o=ri(r.node.children,i)||{children:{},childCount:0};r=new Cf(i,r,o),n=re(n),i=B(n)}return r}function pi(e){return e.node.value}function a1(e,t){e.node.value=t,Ac(e)}function u1(e){return e.node.childCount>0}function aN(e){return pi(e)===void 0&&!u1(e)}function fa(e,t){ut(e.node.children,(n,r)=>{t(new Cf(n,e,r))})}function c1(e,t,n,r){n&&!r&&t(e),fa(e,i=>{c1(i,t,!0,r)})}function uN(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Uo(e){return new ee(e.parent===null?e.name:Uo(e.parent)+"/"+e.name)}function Ac(e){e.parent!==null&&cN(e.parent,e.name,e)}function cN(e,t,n){const r=aN(n),i=gn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Ac(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Ac(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=/[\[\].#$\/\u0000-\u001F\u007F]/,fN=/[\[\].#$\u0000-\u001F\u007F]/,wu=10*1024*1024,d1=function(e){return typeof e=="string"&&e.length!==0&&!dN.test(e)},f1=function(e){return typeof e=="string"&&e.length!==0&&!fN.test(e)},hN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f1(e)},pN=function(e,t,n,r){xf(Xd(e,"value"),t,n)},xf=function(e,t,n){const r=n instanceof ee?new DT(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+nr(r));if(typeof t=="function")throw new Error(e+"contains a function "+nr(r)+" with contents = "+t.toString());if(u0(t))throw new Error(e+"contains "+t.toString()+" "+nr(r));if(typeof t=="string"&&t.length>wu/3&&sa(t)>wu)throw new Error(e+"contains a string greater than "+wu+" utf8 bytes "+nr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(ut(t,(s,l)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!d1(s)))throw new Error(e+" contains an invalid key ("+s+") "+nr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OT(r,s),xf(e,l,r),LT(r)}),i&&o)throw new Error(e+' contains ".value" child '+nr(r)+" in addition to actual children.")}},h1=function(e,t,n,r){if(!f1(n))throw new Error(Xd(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mN=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),h1(e,t,n)},gN=function(e,t){if(B(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},vN=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!d1(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hN(n))throw new Error(Xd(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kf(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();n!==null&&!rf(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function p1(e,t,n){kf(e,n),m1(e,r=>rf(r,t))}function Jt(e,t,n){kf(e,n),m1(e,r=>At(r,t)||At(t,r))}function m1(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const o=i.path;t(o)?(_N(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function _N(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Vi&&Qe("event: "+n.toString()),hi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="repo_interrupt",EN=25;class CN{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gl(),this.transactionQueueTree_=new Cf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function SN(e,t,n){if(e.stats_=tf(e.repoInfo_),e.forceRestClient_||rT())e.server_=new ml(e.repoInfo_,(r,i,o,s)=>{_m(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>wm(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Se(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new an(e.repoInfo_,t,(r,i,o,s)=>{_m(e,r,i,o,s)},r=>{wm(e,r)},r=>{kN(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=aT(e.repoInfo_,()=>new sI(e.stats_,e.server_)),e.infoData_=new tI,e.infoSyncTree_=new vm({startListening:(r,i,o,s)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=zo(e.infoSyncTree_,r._path,a),setTimeout(()=>{s("ok")},0)),l},stopListening:()=>{}}),If(e,"connected",!1),e.serverSyncTree_=new vm({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(l,a)=>{const u=s(l,a);Jt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function xN(e){const n=e.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Tf(e){return iN({timestamp:xN(e)})}function _m(e,t,n,r,i){e.dataUpdateCount++;const o=new ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const a=ul(n,u=>be(u));s=JI(e.serverSyncTree_,o,a,i)}else{const a=be(n);s=r1(e.serverSyncTree_,o,a,i)}else if(r){const a=ul(n,u=>be(u));s=YI(e.serverSyncTree_,o,a)}else{const a=be(n);s=zo(e.serverSyncTree_,o,a)}let l=o;s.length>0&&(l=pa(e,o)),Jt(e.eventQueue_,l,s)}function wm(e,t){If(e,"connected",t),t===!1&&NN(e)}function kN(e,t){ut(t,(n,r)=>{If(e,n,r)})}function If(e,t,n){const r=new ee("/.info/"+t),i=be(n);e.infoData_.updateSnapshot(r,i);const o=zo(e.infoSyncTree_,r,i);Jt(e.eventQueue_,r,o)}function g1(e){return e.nextWriteId_++}function TN(e,t,n){const r=ZI(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const o=be(i).withIndex(t._queryParams.getIndex());Lc(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=zo(e.serverSyncTree_,t._path,o);else{const l=ko(e.serverSyncTree_,t);s=r1(e.serverSyncTree_,t._path,o,l)}return Jt(e.eventQueue_,t._path,s),xl(e.serverSyncTree_,t,n,null,!0),o},i=>(ha(e,"get for query "+Se(t)+" failed: "+i),Promise.reject(new Error(i))))}function IN(e,t,n,r,i){ha(e,"set",{path:t.toString(),value:n,priority:r});const o=Tf(e),s=be(n,r),l=mf(e.serverSyncTree_,t),a=l1(s,l,o),u=g1(e),d=n1(e.serverSyncTree_,t,a,u,!0);kf(e.eventQueue_,d),e.server_.put(t.toString(),s.val(!0),(f,m)=>{const v=f==="ok";v||at("set at "+t+" failed: "+f);const y=lr(e.serverSyncTree_,u,!v);Jt(e.eventQueue_,t,y),bN(e,i,f,m)});const c=E1(e,t);pa(e,c),Jt(e.eventQueue_,c,[])}function NN(e){ha(e,"onDisconnectEvents");const t=Tf(e),n=gl();Pc(e.onDisconnect_,q(),(i,o)=>{const s=lN(i,o,e.serverSyncTree_,t);$0(n,i,s)});let r=[];Pc(n,q(),(i,o)=>{r=r.concat(zo(e.serverSyncTree_,i,o));const s=E1(e,i);pa(e,s)}),e.onDisconnect_=gl(),Jt(e.eventQueue_,q(),r)}function PN(e,t,n){let r;B(t._path)===".info"?r=Lc(e.infoSyncTree_,t,n):r=Lc(e.serverSyncTree_,t,n),p1(e.eventQueue_,t._path,r)}function Em(e,t,n){let r;B(t._path)===".info"?r=xl(e.infoSyncTree_,t,n):r=xl(e.serverSyncTree_,t,n),p1(e.eventQueue_,t._path,r)}function RN(e){e.persistentConnection_&&e.persistentConnection_.interrupt(wN)}function ha(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Qe(n,...t)}function bN(e,t,n,r){t&&hi(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}function v1(e,t,n){return mf(e.serverSyncTree_,t,n)||F.EMPTY_NODE}function Nf(e,t=e.transactionQueueTree_){if(t||ma(e,t),pi(t)){const n=_1(e,t);O(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&DN(e,Uo(t),n)}else u1(t)&&fa(t,n=>{Nf(e,n)})}function DN(e,t,n){const r=n.map(u=>u.currentWriteId),i=v1(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const d=n[u];O(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=qe(t,d.path);o=o.updateChild(c,d.currentOutputSnapshotRaw)}const l=o.val(!0),a=t;e.server_.put(a.toString(),l,u=>{ha(e,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(lr(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ma(e,Sf(e.transactionQueueTree_,t)),Nf(e,e.transactionQueueTree_),Jt(e.eventQueue_,t,d);for(let f=0;f<c.length;f++)hi(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{at("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}pa(e,t)}},s)}function pa(e,t){const n=y1(e,t),r=Uo(n),i=_1(e,n);return ON(e,i,r),r}function ON(e,t,n){if(t.length===0)return;const r=[];let i=[];const s=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=qe(n,a.path);let d=!1,c;if(O(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,i=i.concat(lr(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=EN)d=!0,c="maxretry",i=i.concat(lr(e.serverSyncTree_,a.currentWriteId,!0));else{const f=v1(e,a.path,s);a.currentInputSnapshot=f;const m=t[l].update(f.val());if(m!==void 0){xf("transaction failed: Data returned ",m,a.path);let v=be(m);typeof m=="object"&&m!=null&&gn(m,".priority")||(v=v.updatePriority(f.getPriority()));const E=a.currentWriteId,p=Tf(e),h=l1(v,f,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=h,a.currentWriteId=g1(e),s.splice(s.indexOf(E),1),i=i.concat(n1(e.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(lr(e.serverSyncTree_,E,!0))}else d=!0,c="nodata",i=i.concat(lr(e.serverSyncTree_,a.currentWriteId,!0))}Jt(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(c==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(c),!1,null))))}ma(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)hi(r[l]);Nf(e,e.transactionQueueTree_)}function y1(e,t){let n,r=e.transactionQueueTree_;for(n=B(t);n!==null&&pi(r)===void 0;)r=Sf(r,n),t=re(t),n=B(t);return r}function _1(e,t){const n=[];return w1(e,t,n),n.sort((r,i)=>r.order-i.order),n}function w1(e,t,n){const r=pi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fa(t,i=>{w1(e,i,n)})}function ma(e,t){const n=pi(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,a1(t,n.length>0?n:void 0)}fa(t,r=>{ma(e,r)})}function E1(e,t){const n=Uo(y1(e,t)),r=Sf(e.transactionQueueTree_,t);return uN(r,i=>{Eu(e,i)}),Eu(e,r),c1(r,i=>{Eu(e,i)}),n}function Eu(e,t){const n=pi(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(O(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(O(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(lr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?a1(t,void 0):n.length=o+1,Jt(e.eventQueue_,Uo(t),i);for(let s=0;s<r.length;s++)hi(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function AN(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):at(`Invalid query segment '${n}' in query '${e}'`)}return t}const Cm=function(e,t){const n=MN(e),r=n.namespace;n.domain==="firebase.com"&&pn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||K2();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new E0(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ee(n.pathString)}},MN=function(e){let t="",n="",r="",i="",o="",s=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let d=e.indexOf("/");d===-1&&(d=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(d,c)),d<c&&(i=LN(e.substring(d,c)));const f=AN(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(s=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const m=t.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:s,scheme:l,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Se(this.snapshot.exportVal())}}class jN{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return H(this._path)?null:R0(this._path)}get ref(){return new vn(this._repo,this._path)}get _queryIdentifier(){const t=sm(this._queryParams),n=Zd(t);return n==="{}"?"default":n}get _queryObject(){return sm(this._queryParams)}isEqual(t){if(t=di(t),!(t instanceof Pf))return!1;const n=this._repo===t._repo,r=rf(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+bT(this._path)}}class vn extends Pf{constructor(t,n){super(t,n,new af,!1)}get parent(){const t=D0(this._path);return t===null?null:new vn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class To{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ee(t),r=Fc(this.ref,t);return new To(this._node.getChild(n),r,me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new To(i,Fc(this.ref,r),me)))}hasChild(t){const n=new ee(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mc(e,t){return e=di(e),e._checkNotDeleted("ref"),t!==void 0?Fc(e._root,t):e._root}function Fc(e,t){return e=di(e),B(e._path)===null?mN("child","path",t):h1("child","path",t),new vn(e._repo,xe(e._path,t))}function vs(e,t){e=di(e),gN("set",e._path),pN("set",t,e._path);const n=new oa;return IN(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Sm(e){e=di(e);const t=new C1(()=>{}),n=new ga(t);return TN(e._repo,e,n).then(r=>new To(r,new vn(e._repo,e._path),e._queryParams.getIndex()))}class ga{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new FN("value",this,new To(t.snapshotNode,new vn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new jN(this,t,n):null}matches(t){return t instanceof ga?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function zN(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const a=n,u=(d,c)=>{Em(e._repo,e,l),a(d,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new C1(n,o||void 0),l=new ga(s);return PN(e._repo,e,l),()=>Em(e._repo,e,l)}function xm(e,t,n,r){return zN(e,"value",t,n,r)}UI(vn);GI(vn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="FIREBASE_DATABASE_EMULATOR_HOST",jc={};let UN=!1;function BN(e,t,n,r){e.repoInfo_=new E0(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function WN(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=Cm(o,i),l=s.repoInfo,a;typeof process<"u"&&Bp&&(a=Bp[$N]),a?(o=`http://${a}?ns=${l.namespace}`,s=Cm(o,i),l=s.repoInfo):s.repoInfo.secure;const u=new oT(e.name,e.options,t);vN("Invalid Firebase Database URL",s),H(s.path)||pn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=VN(l,e,u,new iT(e.name,n));return new GN(d,e)}function HN(e,t){const n=jc[t];(!n||n[e.key]!==e)&&pn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),RN(e),delete n[e.key]}function VN(e,t,n,r){let i=jc[t.name];i||(i={},jc[t.name]=i);let o=i[e.toURLString()];return o&&pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new CN(e,UN,n,r),i[e.toURLString()]=o,o}class GN{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(SN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vn(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&pn("Cannot call "+t+" on a deleted database.")}}function QN(e=D2(),t){const n=N2(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=yk("database");r&&KN(n,...r)}return n}function KN(e,t,n,r={}){e=di(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&pn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ds(Ds.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:_k(r.mockUserToken,e.app.options.projectId);o=new Ds(s)}BN(i,t,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(e){B2(b2),dl(new vo("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return WN(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Qr(Wp,Hp,e),Qr(Wp,Hp,"esm2017")}an.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};an.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};YN();var qN="firebase",XN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(qN,XN,"app");const S1={apiKey:"AIzaSyDKrTmxVnNZgrUAjomOPt1UwwdDcn-Fk4E",authDomain:"family-gameshow.firebaseapp.com",databaseURL:"https://family-gameshow-default-rtdb.firebaseio.com",projectId:"family-gameshow",storageBucket:"family-gameshow.firebasestorage.app",messagingSenderId:"238837310893",appId:"1:238837310893:web:177e7e34d8a1a5f1d72d24"};Object.entries(S1).forEach(([e,t])=>{console.log(`Firebase ${e}:`,t?"[PRESENT]":"[MISSING]")});let km,kl,JN;try{console.log("Initializing Firebase..."),km=r0(S1),console.log("Firebase initialized successfully"),console.log("Connecting to Realtime Database..."),kl=QN(km),console.log("Database connected successfully"),JN=Mc(kl,"teams"),console.log("Teams reference created successfully")}catch(e){throw console.error("Error initializing Firebase:",e),e}const Tm=[{id:1,name:"Phoenix",color:"red",members:[],score:0,image:"https://dreamersia.com/wp-content/uploads/2023/06/Hong_Hy_the_legendary_phoenix_majestic_bright_vibrant_sacred_go_aa9b74f0-9e4e-4b44-9ad0-2e42c2733cfe.png",theme:{primary:"bg-red-500",secondary:"bg-red-100",text:"text-red-700",border:"border-red-300",hover:"hover:bg-red-600"}},{id:2,name:"Dragons",color:"blue",members:[],score:0,image:"https://images.unsplash.com/photo-1608889825103-eb5ed706fc64?auto=format&fit=crop&q=80&w=500",theme:{primary:"bg-blue-500",secondary:"bg-blue-100",text:"text-blue-700",border:"border-blue-300",hover:"hover:bg-blue-600"}},{id:3,name:"Tigers",color:"amber",members:[],score:0,image:"https://images.unsplash.com/photo-1561731216-c3a4d99437d5?auto=format&fit=crop&q=80&w=500",theme:{primary:"bg-amber-500",secondary:"bg-amber-100",text:"text-amber-700",border:"border-amber-300",hover:"hover:bg-amber-600"}},{id:4,name:"Panthers",color:"purple",members:[],score:0,image:"https://images.unsplash.com/photo-1456926631375-92c8ce872def?auto=format&fit=crop&q=80&w=500",theme:{primary:"bg-purple-500",secondary:"bg-purple-100",text:"text-purple-700",border:"border-purple-300",hover:"hover:bg-purple-600"}}],Os={roundNumber:1,roundText:""},va=b.createContext({teams:[],gameState:Os,addTeamMember:async()=>{},removeMember:async()=>{},updateScore:async()=>{},newGame:async()=>{},updateTeamImage:async()=>{},updateTeamName:async()=>{},updateGameState:async()=>{},buzz:async()=>{},resetBuzzers:async()=>{}}),ZN=({children:e})=>{const[t,n]=b.useState([]),[r,i]=b.useState(Os),o=Mc(kl,"teams"),s=Mc(kl,"gameState");b.useEffect(()=>{let h=!0;const g=async()=>{try{(await Sm(o)).exists()||await vs(o,Tm)}catch(C){console.error("Error initializing teams:",C)}},w=async()=>{try{(await Sm(s)).exists()||await vs(s,Os)}catch(C){console.error("Error initializing game state:",C)}},S=xm(o,C=>{if(h){const k=C.val();if(k){const I=Object.values(k).map(N=>({...N,members:N.members||[],buzzes:N.buzzes||[]}));n(I)}else g()}},C=>{console.error("Error listening to teams updates:",C)}),x=xm(s,C=>{if(h){const k=C.val();k?i(k):w()}},C=>{console.error("Error listening to game state updates:",C)});return()=>{h=!1,S(),x()}},[]);const l=async h=>{try{await vs(o,h)}catch(g){throw console.error("Error updating teams:",g),g}},a=async h=>{try{const g={...r,...h};await vs(s,g)}catch(g){throw console.error("Error updating game state:",g),g}},p={teams:t,gameState:r,addTeamMember:async(h,g)=>{try{const w=[...t],S=w.findIndex(C=>C.name===h);if(S===-1)throw new Error(`Team ${h} not found`);const x=w.map((C,k)=>k===S?{...C,members:[...C.members||[],g]}:C);await l(x)}catch(w){throw console.error("Error adding team member:",w),w}},removeMember:async(h,g)=>{const S=[...t].map(x=>x.name===h?{...x,members:(x.members||[]).filter(C=>C!==g)}:x);await l(S)},updateScore:async(h,g)=>{const S=[...t].map(x=>x.id===h?{...x,score:Math.max(0,(x.score||0)+g)}:x);await l(S)},newGame:async()=>{await l(Tm),await a(Os)},updateTeamImage:async(h,g)=>{const S=[...t].map(x=>x.name===h?{...x,image:g}:x);await l(S)},updateTeamName:async(h,g)=>{const S=[...t].map(x=>x.name===h?{...x,name:g}:x);await l(S)},updateGameState:a,buzz:async(h,g,w)=>{const x=[...t].map(C=>{if(C.name===h){const k={memberName:g,timestamp:w};return{...C,buzzes:[...C.buzzes||[],k]}}return C});await l(x)},resetBuzzers:async()=>{try{const g=[...t].map(w=>({...w,buzzes:[]}));await l(g),console.log("Buzzers reset successfully")}catch(h){throw console.error("Error resetting buzzers:",h),h}}};return _.jsx(va.Provider,{value:p,children:e})},Im=e=>{const t="/family-gameshow/",n=e.startsWith("/")?e.slice(1):e;return`${t}${n}`},Nm=[{name:"Sad Trombone",file:"sounds/sad-trombone.mp3",emoji:""},{name:"Cheering",file:"sounds/cheering.mp3",emoji:""},{name:"Booing",file:"sounds/booing.mp3",emoji:""},{name:"Fart",file:"sounds/fart.mp3",emoji:""},{name:"Whee",file:"sounds/whee.mp3",emoji:""},{name:"Crickets",file:"sounds/crickets.mp3",emoji:""},{name:"Huh",file:"sounds/huh.mp3",emoji:""},{name:"Joke",file:"sounds/joke.mp3",emoji:""}];function e4(){const{showSoundboard:e}=kS(),[t]=b.useState(()=>{const r=new Map;return Nm.forEach(i=>{const o=Im(i.file),s=new Audio(o);s.preload="auto",r.set(i.file,s)}),r});b.useEffect(()=>()=>{t.forEach(r=>{r.pause(),r.src=""}),t.clear()},[]);const n=r=>{const i=t.get(r);i&&(i.currentTime=0,i.play().catch(o=>{console.error("Error playing sound:",o);const s=Im(r);new Audio(s).play().catch(a=>console.error("Fallback audio error:",a))}))};return e?_.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-100 rounded-lg shadow-md",children:[_.jsx("h2",{className:"w-full text-xl font-bold mb-2",children:"Soundboard"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:Nm.map(r=>_.jsxs("button",{onClick:()=>n(r.file),className:`px-4 py-2 bg-white hover:bg-gray-50 text-gray-800 rounded-md shadow-sm 
                     transition-colors duration-200 flex items-center gap-2`,children:[_.jsx("span",{children:r.emoji}),_.jsx("span",{children:r.name})]},r.name))})]}):_.jsx("div",{})}const t4=()=>{const[e,t]=b.useState(!1),[n,r]=b.useState(()=>localStorage.getItem("gameLogoUrl")||"https://placehold.co/800x1000/1f2937/ffffff?text=Game+Logo"),{teams:i,gameState:o,updateGameState:s,updateScore:l,removeMember:a,newGame:u,resetBuzzers:d}=b.useContext(va),f=`${window.location.origin+"/family-gameshow/"}#/join`,m=()=>{window.confirm("Are you sure you want to start a new game? This will reset all scores and team members.")&&(r("https://placehold.co/800x1000/1f2937/ffffff?text=Game+Logo"),localStorage.removeItem("gameLogoUrl"),u())},v=()=>{d()},y=p=>{r(p),localStorage.setItem("gameLogoUrl",p)},E=p=>{s({roundNumber:Math.max(1,o.roundNumber+p)})};return _.jsx("div",{className:"h-screen bg-gray-900 p-4 overflow-hidden",children:_.jsxs("div",{className:"h-full max-w-7xl mx-auto flex flex-col",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("div",{className:"flex items-center gap-4",children:_.jsxs("div",{className:"flex items-center bg-gray-800 rounded-lg p-2",children:[_.jsxs("div",{className:"flex items-center mr-4",children:[_.jsx("span",{className:"text-white font-bold mr-2",children:"Round"}),_.jsx("span",{className:"text-white text-xl font-bold mr-2",children:o.roundNumber}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("button",{onClick:()=>E(1),className:"text-gray-400 hover:text-white p-0.5",children:_.jsx(xx,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>E(-1),className:"text-gray-400 hover:text-white p-0.5",children:_.jsx(Sx,{className:"w-4 h-4"})})]})]}),_.jsx("input",{type:"text",value:o.roundText,onChange:p=>s({roundText:p.target.value}),className:"bg-gray-700 text-white px-3 py-1 rounded w-48 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Round description..."})]})}),_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx("button",{onClick:v,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Reset Buzzers"}),_.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:[_.jsx(Rx,{className:"w-5 h-5 mr-2"}),"New Game"]}),_.jsxs("button",{onClick:()=>t(!e),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[_.jsx(Px,{className:"w-5 h-5 mr-2"}),"Join Game"]})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:i.map(p=>_.jsx(lk,{team:p,teams:i,onScoreChange:h=>l(p.id,h),onRemoveMember:h=>a(p.name,h)},p.id))}),_.jsx("div",{className:"text-center mb-4",children:_.jsx("h1",{className:"text-4xl font-bold text-white",children:"DeutNeuerToteMeyerBorg Game Show Extravaganza!"})}),_.jsxs("div",{className:"flex-grow min-h-0 flex items-center justify-center gap-8",children:[_.jsx("div",{className:"w-1/2 h-full",children:_.jsx(ak,{imageUrl:n,onImageChange:y})}),_.jsx("div",{className:"w-1/2 h-full flex items-center",children:_.jsx(e4,{})})]}),e&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:_.jsxs("div",{className:"bg-white p-8 rounded-lg",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-xl font-bold",children:"Scan to Join"}),_.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),_.jsx("div",{className:"p-4 bg-white",children:_.jsx(sk,{value:f})}),_.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:"Scan this QR code to join a team"})]})})]})})},n4=({team:e,onClick:t,isSelected:n})=>{var i;const r=((i=e.members)==null?void 0:i.length)||0;return _.jsxs("div",{onClick:t,className:`${e.theme.secondary} rounded-lg overflow-hidden cursor-pointer transform transition-all duration-200 hover:scale-102
        ${n?"ring-2 ring-blue-500 scale-102":""}`,children:[_.jsxs("div",{className:"relative h-28 sm:h-32",children:[_.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),n&&_.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 flex items-center justify-center",children:_.jsx("div",{className:"bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"Selected"})})]}),_.jsxs("div",{className:"p-2",children:[_.jsx("h2",{className:`text-base sm:text-lg font-bold ${e.theme.text} text-center`,children:e.name}),_.jsxs("p",{className:"text-xs text-gray-500 text-center mt-0.5",children:[r," ",r===1?"member":"members"]})]})]})},r4=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),{teams:i,addTeamMember:o}=b.useContext(va),s=Qd(),l=a=>{if(a.preventDefault(),n&&e.trim()){o(n,e.trim());const u=encodeURIComponent(n),d=encodeURIComponent(e.trim());s(`/team/${u}/${d}`,{replace:!0})}};return _.jsx("div",{className:"min-h-screen bg-gray-900 py-3 px-2 sm:py-6 sm:px-4",children:_.jsxs("div",{className:"max-w-lg mx-auto",children:[_.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-white text-center mb-3 sm:mb-6",children:"Select Your Team"}),_.jsxs("div",{className:"mb-3 sm:mb-6",children:[_.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Your Name"}),_.jsx("input",{type:"text",id:"playerName",value:e,onChange:a=>t(a.target.value),className:"block w-full px-3 py-2 bg-gray-800 text-white border border-gray-700 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base",placeholder:"Enter your name"})]}),_.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 mb-20 sm:mb-6",children:i==null?void 0:i.map(a=>_.jsx(n4,{team:a,onClick:()=>r(a.name),isSelected:a.name===n},a.id))}),_.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-2 bg-gray-900 bg-opacity-95 border-t border-gray-800 sm:static sm:p-0 sm:bg-transparent sm:border-0",children:_.jsx("div",{className:"max-w-lg mx-auto",children:_.jsx("button",{onClick:l,disabled:!n||!e.trim(),className:`w-full py-3 px-4 rounded-md text-white font-semibold transition-all duration-200 shadow-lg text-base
                ${n&&e.trim()?"bg-blue-600 hover:bg-blue-700 active:transform active:scale-98":"bg-gray-600 cursor-not-allowed"}`,children:n&&e.trim()?"Join Team":"Enter Name & Select Team"})})})]})})},i4=()=>{const e=Qd(),{teamName:t,playerName:n}=ex(),{teams:r,updateTeamImage:i,updateTeamName:o,buzz:s}=b.useContext(va),[l,a]=b.useState(!0),[u,d]=b.useState(!1),[c,f]=b.useState(!1),[m,v]=b.useState(""),y=b.useRef(null),E=decodeURIComponent(t||""),p=decodeURIComponent(n||""),h=b.useRef();b.useEffect(()=>{if(r.length>0){const I=r.find(N=>N.name===E);if(I)I.members.includes(p)?(a(!1),v(I.name)):h.current=setTimeout(()=>{d(!0)},2e3);else{const N=r.find(M=>M.members.includes(p));N?e(`/team/${encodeURIComponent(N.name)}/${encodeURIComponent(p)}`):d(!0)}}return()=>{h.current&&clearTimeout(h.current)}},[r,E,p,e]);const g=r.find(I=>I.name===E);if(l&&!u)return _.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-white text-xl mb-4",children:"Verifying team membership..."}),_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"})]})});if(u||!g||!g.members.includes(p))return _.jsx(vc,{to:"/join",replace:!0});const w=async I=>{var G;const N=(G=I.target.files)==null?void 0:G[0];if(!N)return;const M=new FileReader;M.onloadend=()=>{typeof M.result=="string"&&i(g.name,M.result)},M.readAsDataURL(N)},S=async I=>{I.preventDefault(),m&&m!==g.name&&(await o(g.name,m),e(`/team/${encodeURIComponent(m)}/${encodeURIComponent(p)}`)),f(!1)},x=()=>{if(!r.some(N=>N.buzzes&&N.buzzes.length>0)){const N=Date.now();s(g.name,p,N)}},k=(()=>{var Te;const I=r.flatMap(te=>te.buzzes||[]).sort((te,yn)=>te.timestamp-yn.timestamp),N=I[0],M=(Te=g.buzzes)==null?void 0:Te.some(te=>te.memberName===p),G=N&&N.memberName===p,Ee=I.length>0;return M?{disabled:!0,content:_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx(Ai,{className:`w-12 h-12 ${G?"text-yellow-400 animate-bounce":""}`}),_.jsx("span",{className:"mt-2",children:G?"First to Buzz!":"You Buzzed!"}),G&&_.jsx("span",{className:"mt-1 px-2 py-0.5 bg-yellow-400 text-black text-xs rounded-full",children:"FIRST!"})]}),className:`${g.theme.primary}`}:Ee?{disabled:!0,content:_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx(Ai,{className:"w-12 h-12 opacity-50"}),_.jsx("span",{className:"mt-2",children:"Locked"})]}),className:`${g.theme.primary} opacity-50`}:{disabled:!1,content:_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx(Ai,{className:"w-12 h-12"}),_.jsx("span",{className:"mt-2",children:"BUZZ!"})]}),className:`${g.theme.primary} ${g.theme.hover} active:scale-95`}})();return _.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[_.jsx("div",{className:`${g.theme.secondary} p-4 shadow-lg relative`,children:c?_.jsxs("form",{onSubmit:S,className:"flex items-center gap-2",children:[_.jsx("input",{type:"text",value:m,onChange:I=>v(I.target.value),className:`text-2xl font-bold bg-white rounded px-2 py-1 ${g.theme.text} flex-grow`,autoFocus:!0}),_.jsx("button",{type:"submit",className:`${g.theme.primary} text-white px-4 py-2 rounded-lg hover:opacity-90`,children:"Save"}),_.jsx("button",{type:"button",onClick:()=>{v(g.name),f(!1)},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:opacity-90",children:"Cancel"})]}):_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("h1",{className:`text-2xl font-bold ${g.theme.text}`,children:[g.name," - ",p]}),_.jsx("button",{onClick:()=>f(!0),className:`${g.theme.primary} ${g.theme.hover} text-white p-2 rounded-lg ml-4`,children:_.jsx(Ix,{className:"w-5 h-5"})})]})}),_.jsxs("div",{className:"flex-1 p-4 flex flex-col space-y-6",children:[_.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[_.jsx("img",{src:g.image,alt:g.name,className:"w-full h-48 object-cover"}),_.jsx("button",{onClick:()=>{var I;return(I=y.current)==null?void 0:I.click()},className:`absolute bottom-4 right-4 ${g.theme.primary} ${g.theme.hover} text-white p-3 rounded-full shadow-lg`,children:_.jsx(Cx,{className:"w-6 h-6"})}),_.jsx("input",{type:"file",ref:y,onChange:w,accept:"image/*",className:"hidden"})]}),_.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:_.jsx("button",{onClick:x,disabled:k.disabled,className:`w-48 h-48 rounded-full ${k.className} text-white text-2xl font-bold shadow-lg transform transition-all duration-200`,children:k.content})}),_.jsxs("div",{className:`${g.theme.secondary} rounded-lg p-4`,children:[_.jsx("h2",{className:`text-lg font-semibold ${g.theme.text} mb-2`,children:"Team Members"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:g.members.map(I=>{var M;const N=(M=g.buzzes)==null?void 0:M.find(G=>G.memberName===I);return _.jsxs("span",{className:`${g.theme.primary} text-white px-3 py-1 rounded-full text-sm flex items-center`,children:[I,N&&_.jsx(Ai,{className:"w-4 h-4 ml-1"})]},I)})})]})]})]})};function o4(){const e=window.location.hash.includes("/join")||window.location.hash.includes("/team");return _.jsx(_x,{children:_.jsx(ZN,{children:_.jsxs(gx,{children:[_.jsx(Li,{path:"/",element:_.jsx(t4,{})}),_.jsx(Li,{path:"/join",element:_.jsx(r4,{})}),_.jsx(Li,{path:"/team/:teamName/:playerName",element:_.jsx(i4,{})}),_.jsx(Li,{path:"*",element:e?_.jsx(vc,{to:"/join",replace:!0}):_.jsx(vc,{to:"/",replace:!0})})]})})})}const s4=async()=>{const e=await xS({clientSideID:"60685c73c0d09d0d2bda4d80",context:{kind:"user",key:"user-key-123abc",name:"Sandy Smith",email:"sandy@example.com"}}),t=document.getElementById("root");if(!t)throw new Error("Root element not found");Wv(t).render(_.jsx(e,{children:_.jsx(o4,{})}))};s4().catch(console.error);
